{
  "version": 3,
  "sources": ["src/auth/scan-login.component.ts"],
  "sourcesContent": ["/**\r\n * ÊéÉÁ¢ºÁôªÂÖ•‰∏≠ËΩâÈ†ÅÈù¢ - ÂÑ™ÂåñÁâà\r\n * \r\n * üÜï Êñ∞ÊµÅÁ®ãÔºàËß£Ê±∫ÂõûË®™Áî®Êà∂ÂïèÈ°åÔºâÔºö\r\n * 1. Áî®Êà∂Áî®ÊâãÊ©üÁõ∏Ê©üÊéÉÊèè QR Code\r\n * 2. ÊâìÈñãÊ≠§È†ÅÈù¢\r\n * 3. È†ÅÈù¢È°ØÁ§∫ Telegram ÊéàÊ¨äÊåâÈàïÔºàLogin WidgetÔºâ\r\n * 4. Áî®Êà∂ÈªûÊìäÊéàÊ¨ä ‚Üí Áç≤Âèñ Telegram ID\r\n * 5. ÂæåÁ´Ø‰∏ªÂãïÂêëÁî®Êà∂ Telegram ÁôºÈÄÅÁ¢∫Ë™çÊ∂àÊÅØ\r\n * 6. Áî®Êà∂Âú® Bot ‰∏≠ÈªûÊìäÁ¢∫Ë™ç ‚Üí ÈõªËÖ¶Á´ØËá™ÂãïÁôªÂÖ•\r\n * \r\n * Ê†∏ÂøÉÊîπËÆäÔºö‰∏çÂÜç‰æùË≥¥ /start ÂëΩ‰ª§ÔºåËÄåÊòØÂæåÁ´Ø‰∏ªÂãïÊé®ÈÄÅ\r\n */\r\n\r\nimport { Component, OnInit, OnDestroy, inject, signal, computed, AfterViewInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { I18nService } from '../i18n.service';\r\n\r\n// ÂÖ®Â±Ä Telegram Widget ÂõûË™øËÅ≤Êòé\r\ndeclare global {\r\n  interface Window {\r\n    onTelegramAuth: (user: TelegramUser) => void;\r\n  }\r\n}\r\n\r\ninterface TelegramUser {\r\n  id: number;\r\n  first_name: string;\r\n  last_name?: string;\r\n  username?: string;\r\n  photo_url?: string;\r\n  auth_date: number;\r\n  hash: string;\r\n}\r\n\r\ninterface TokenStatus {\r\n  status: 'loading' | 'valid' | 'expired' | 'confirmed' | 'error' | 'authorizing' | 'sending' | 'bot_blocked';\r\n  message?: string;\r\n  botUsername?: string;\r\n  deepLinkUrl?: string;\r\n  expiresIn?: number;\r\n  botLink?: string;  // üÜï Áî®Êñº Bot Â∞ÅÈéñÊôÇÁöÑÈñãÂïüÈÄ£Áµê\r\n}\r\n\r\n// üÜï Ë®≠ÂÇôÈ°ûÂûãÊ™¢Ê∏¨\r\ntype DeviceType = 'ios' | 'android' | 'desktop' | 'unknown';\r\n\r\nfunction detectDevice(): DeviceType {\r\n  const ua = navigator.userAgent.toLowerCase();\r\n  if (/iphone|ipad|ipod/.test(ua)) return 'ios';\r\n  if (/android/.test(ua)) return 'android';\r\n  if (/windows|macintosh|linux/.test(ua) && !/mobile/.test(ua)) return 'desktop';\r\n  return 'unknown';\r\n}\r\n\r\n// üÜï Ê™¢Êü•ÊòØÂê¶ÁÇ∫ÁßªÂãïË®≠ÂÇô\r\nfunction isMobile(): boolean {\r\n  const device = detectDevice();\r\n  return device === 'ios' || device === 'android';\r\n}\r\n\r\n@Component({\r\n  selector: 'app-scan-login',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  template: `\r\n    <div class=\"scan-login-page\">\r\n      <div class=\"scan-card\">\r\n        <!-- Logo -->\r\n        <div class=\"logo\">\r\n          <div class=\"logo-icon\">üîê</div>\r\n          <h1>TG-Matrix</h1>\r\n        </div>\r\n\r\n        <!-- Loading -->\r\n        @if (tokenStatus().status === 'loading') {\r\n          <div class=\"status-section loading\">\r\n            <div class=\"spinner\"></div>\r\n            <p>{{ t('scanLogin.verifying') }}</p>\r\n          </div>\r\n        }\r\n\r\n        <!-- Valid Token - È°ØÁ§∫ Telegram ÊéàÊ¨äÊåâÈàï -->\r\n        @if (tokenStatus().status === 'valid') {\r\n          <div class=\"status-section valid\">\r\n            <div class=\"info-icon\">üì±</div>\r\n            <h2>{{ t('scanLogin.confirmTitle') }}</h2>\r\n            <p class=\"description\">{{ t('scanLogin.authDesc') }}</p>\r\n            \r\n            <!-- üÜï Telegram Login Widget ÂÆπÂô® -->\r\n            <div class=\"telegram-widget-container\" id=\"telegram-login-widget\"></div>\r\n            \r\n            <!-- ÂÇôÁî®ÊñπÊ°àÔºöÊâãÂãïÊâìÈñã Telegram -->\r\n            <div class=\"divider\">\r\n              <span>{{ t('scanLogin.or') }}</span>\r\n            </div>\r\n            \r\n            <a \r\n              [href]=\"tokenStatus().deepLinkUrl\" \r\n              class=\"telegram-btn secondary\"\r\n              (click)=\"onTelegramClick()\"\r\n            >\r\n              <span class=\"btn-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24\" height=\"24\">\r\n                  <path d=\"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z\"/>\r\n                </svg>\r\n              </span>\r\n              <span>{{ t('scanLogin.openTelegramManual') }}</span>\r\n            </a>\r\n\r\n            @if (countdown() > 0) {\r\n              <p class=\"countdown\">\r\n                {{ t('scanLogin.expiresIn', {seconds: countdown()}) }}\r\n              </p>\r\n            }\r\n\r\n            <div class=\"steps\">\r\n              <div class=\"step\">\r\n                <span class=\"step-num\">1</span>\r\n                <span>{{ t('scanLogin.stepAuth') }}</span>\r\n              </div>\r\n              <div class=\"step\">\r\n                <span class=\"step-num\">2</span>\r\n                <span>{{ t('scanLogin.stepConfirm') }}</span>\r\n              </div>\r\n              <div class=\"step\">\r\n                <span class=\"step-num\">3</span>\r\n                <span>{{ t('scanLogin.stepDone') }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n        \r\n        <!-- üÜï Ê≠£Âú®ÁôºÈÄÅÁ¢∫Ë™çÊ∂àÊÅØ -->\r\n        @if (tokenStatus().status === 'sending') {\r\n          <div class=\"status-section sending\">\r\n            <div class=\"spinner\"></div>\r\n            <h2>{{ t('scanLogin.sendingTitle') }}</h2>\r\n            <p>{{ t('scanLogin.sendingDesc') }}</p>\r\n          </div>\r\n        }\r\n\r\n        <!-- Waiting for confirmation (after clicking button) -->\r\n        @if (waitingConfirm()) {\r\n          <div class=\"status-section waiting\">\r\n            <div class=\"pulse-icon\">‚è≥</div>\r\n            <h2>{{ t('scanLogin.waitingTitle') }}</h2>\r\n            <p>{{ t('scanLogin.waitingDesc') }}</p>\r\n            <div class=\"spinner small\"></div>\r\n          </div>\r\n        }\r\n\r\n        <!-- üÜï Bot Ë¢´Â∞ÅÈéñÊèêÁ§∫ -->\r\n        @if (tokenStatus().status === 'bot_blocked') {\r\n          <div class=\"status-section bot-blocked\">\r\n            <div class=\"warning-icon\">ü§ñ</div>\r\n            <h2>{{ t('scanLogin.botBlockedTitle') }}</h2>\r\n            <p>{{ t('scanLogin.botBlockedDesc') }}</p>\r\n            \r\n            <a \r\n              [href]=\"tokenStatus().botLink\" \r\n              class=\"telegram-btn primary\"\r\n              target=\"_blank\"\r\n            >\r\n              <span class=\"btn-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24\" height=\"24\">\r\n                  <path d=\"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z\"/>\r\n                </svg>\r\n              </span>\r\n              <span>{{ t('scanLogin.openBotFirst') }}</span>\r\n            </a>\r\n            \r\n            <p class=\"hint\">{{ t('scanLogin.botBlockedHint') }}</p>\r\n            \r\n            <button class=\"retry-btn\" (click)=\"retryAfterUnblock()\">\r\n              {{ t('scanLogin.retryAfterUnblock') }}\r\n            </button>\r\n          </div>\r\n        }\r\n\r\n        <!-- Confirmed - üÜï Â¢ûÂº∑ÂãïÁï´ÊïàÊûú -->\r\n        @if (tokenStatus().status === 'confirmed') {\r\n          <div class=\"status-section confirmed\" [class.animate]=\"showSuccessAnimation()\">\r\n            <div class=\"success-animation\">\r\n              <div class=\"checkmark-circle\">\r\n                <svg class=\"checkmark\" viewBox=\"0 0 52 52\">\r\n                  <circle class=\"checkmark-circle-bg\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\r\n                  <path class=\"checkmark-check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <h2>{{ t('scanLogin.successTitle') }}</h2>\r\n            <p>{{ t('scanLogin.successDesc') }}</p>\r\n            <p class=\"redirect-hint\">{{ t('scanLogin.redirecting') }}</p>\r\n          </div>\r\n        }\r\n\r\n        <!-- Expired -->\r\n        @if (tokenStatus().status === 'expired') {\r\n          <div class=\"status-section expired\">\r\n            <div class=\"error-icon\">‚è∞</div>\r\n            <h2>{{ t('scanLogin.expiredTitle') }}</h2>\r\n            <p>{{ t('scanLogin.expiredDesc') }}</p>\r\n            <button class=\"retry-btn\" (click)=\"goToLogin()\">\r\n              {{ t('scanLogin.backToLogin') }}\r\n            </button>\r\n          </div>\r\n        }\r\n\r\n        <!-- Error -->\r\n        @if (tokenStatus().status === 'error') {\r\n          <div class=\"status-section error\">\r\n            <div class=\"error-icon\">‚ùå</div>\r\n            <h2>{{ t('scanLogin.errorTitle') }}</h2>\r\n            <p>{{ tokenStatus().message || t('scanLogin.errorDesc') }}</p>\r\n            <button class=\"retry-btn\" (click)=\"goToLogin()\">\r\n              {{ t('scanLogin.backToLogin') }}\r\n            </button>\r\n          </div>\r\n        }\r\n\r\n        <!-- Footer -->\r\n        <div class=\"footer\">\r\n          <p>¬© 2026 TG-Matrix. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .scan-login-page {\r\n      min-height: 100vh;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);\r\n      padding: 1rem;\r\n    }\r\n\r\n    .scan-card {\r\n      background: rgba(30, 41, 59, 0.9);\r\n      border-radius: 20px;\r\n      padding: 2rem;\r\n      max-width: 400px;\r\n      width: 100%;\r\n      text-align: center;\r\n      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n      border: 1px solid rgba(255, 255, 255, 0.1);\r\n    }\r\n\r\n    .logo {\r\n      margin-bottom: 2rem;\r\n    }\r\n\r\n    .logo-icon {\r\n      font-size: 3rem;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n\r\n    .logo h1 {\r\n      font-size: 1.5rem;\r\n      font-weight: 700;\r\n      color: #fff;\r\n      margin: 0;\r\n    }\r\n\r\n    .status-section {\r\n      padding: 1rem 0;\r\n    }\r\n\r\n    .info-icon, .success-icon, .error-icon, .pulse-icon {\r\n      font-size: 3rem;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    .pulse-icon {\r\n      animation: pulse 1.5s infinite;\r\n    }\r\n\r\n    @keyframes pulse {\r\n      0%, 100% { opacity: 1; transform: scale(1); }\r\n      50% { opacity: 0.7; transform: scale(1.1); }\r\n    }\r\n\r\n    h2 {\r\n      color: #fff;\r\n      font-size: 1.25rem;\r\n      margin: 0 0 0.5rem;\r\n    }\r\n\r\n    .description {\r\n      color: #94a3b8;\r\n      font-size: 0.9rem;\r\n      margin: 0 0 1.5rem;\r\n    }\r\n\r\n    .telegram-btn {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 0.75rem;\r\n      padding: 1rem 2rem;\r\n      background: linear-gradient(135deg, #0088cc, #0066aa);\r\n      border: none;\r\n      border-radius: 12px;\r\n      color: #fff;\r\n      font-size: 1.1rem;\r\n      font-weight: 600;\r\n      text-decoration: none;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n      width: 100%;\r\n      box-shadow: 0 4px 15px rgba(0, 136, 204, 0.4);\r\n    }\r\n\r\n    .telegram-btn:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 6px 20px rgba(0, 136, 204, 0.5);\r\n    }\r\n\r\n    .telegram-btn:active {\r\n      transform: translateY(0);\r\n    }\r\n\r\n    .telegram-btn.secondary {\r\n      background: transparent;\r\n      border: 1px solid #0088cc;\r\n      box-shadow: none;\r\n    }\r\n\r\n    .telegram-btn.secondary:hover {\r\n      background: rgba(0, 136, 204, 0.1);\r\n      box-shadow: none;\r\n    }\r\n\r\n    .telegram-widget-container {\r\n      display: flex;\r\n      justify-content: center;\r\n      margin: 1.5rem 0;\r\n      min-height: 48px;\r\n    }\r\n\r\n    .divider {\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 1.5rem 0;\r\n      color: #64748b;\r\n      font-size: 0.85rem;\r\n    }\r\n\r\n    .divider::before,\r\n    .divider::after {\r\n      content: '';\r\n      flex: 1;\r\n      height: 1px;\r\n      background: rgba(255, 255, 255, 0.1);\r\n    }\r\n\r\n    .divider span {\r\n      padding: 0 1rem;\r\n    }\r\n\r\n    .status-section.sending h2 {\r\n      color: #60a5fa;\r\n    }\r\n\r\n    .btn-icon {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n\r\n    .btn-icon svg {\r\n      width: 24px;\r\n      height: 24px;\r\n    }\r\n\r\n    .countdown {\r\n      color: #64748b;\r\n      font-size: 0.85rem;\r\n      margin: 1rem 0 0;\r\n    }\r\n\r\n    .steps {\r\n      margin-top: 2rem;\r\n      padding-top: 1.5rem;\r\n      border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n    }\r\n\r\n    .step {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 0.75rem;\r\n      padding: 0.5rem 0;\r\n      color: #94a3b8;\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    .step-num {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 1.5rem;\r\n      height: 1.5rem;\r\n      background: linear-gradient(135deg, #0088cc, #0066aa);\r\n      border-radius: 50%;\r\n      color: #fff;\r\n      font-size: 0.75rem;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .spinner {\r\n      width: 40px;\r\n      height: 40px;\r\n      border: 3px solid rgba(255, 255, 255, 0.1);\r\n      border-top-color: #0088cc;\r\n      border-radius: 50%;\r\n      animation: spin 1s linear infinite;\r\n      margin: 1rem auto;\r\n    }\r\n\r\n    .spinner.small {\r\n      width: 24px;\r\n      height: 24px;\r\n      border-width: 2px;\r\n    }\r\n\r\n    @keyframes spin {\r\n      to { transform: rotate(360deg); }\r\n    }\r\n\r\n    .retry-btn {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 0.75rem 1.5rem;\r\n      background: transparent;\r\n      border: 1px solid #64748b;\r\n      border-radius: 8px;\r\n      color: #94a3b8;\r\n      font-size: 0.9rem;\r\n      cursor: pointer;\r\n      transition: all 0.2s ease;\r\n      margin-top: 1rem;\r\n    }\r\n\r\n    .retry-btn:hover {\r\n      background: rgba(255, 255, 255, 0.05);\r\n      border-color: #fff;\r\n      color: #fff;\r\n    }\r\n\r\n    .footer {\r\n      margin-top: 2rem;\r\n      padding-top: 1rem;\r\n      border-top: 1px solid rgba(255, 255, 255, 0.05);\r\n    }\r\n\r\n    .footer p {\r\n      color: #475569;\r\n      font-size: 0.75rem;\r\n      margin: 0;\r\n    }\r\n\r\n    /* Status specific styles */\r\n    .status-section.loading p {\r\n      color: #94a3b8;\r\n    }\r\n\r\n    .status-section.waiting h2 {\r\n      color: #fbbf24;\r\n    }\r\n\r\n    .status-section.confirmed .success-icon {\r\n      color: #4ade80;\r\n    }\r\n\r\n    .status-section.confirmed h2 {\r\n      color: #4ade80;\r\n    }\r\n\r\n    .status-section.expired .error-icon,\r\n    .status-section.error .error-icon {\r\n      color: #f87171;\r\n    }\r\n\r\n    .status-section.expired h2,\r\n    .status-section.error h2 {\r\n      color: #f87171;\r\n    }\r\n\r\n    /* üÜï Bot Â∞ÅÈéñÊ®£Âºè */\r\n    .status-section.bot-blocked .warning-icon {\r\n      font-size: 4rem;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    .status-section.bot-blocked h2 {\r\n      color: #fbbf24;\r\n    }\r\n\r\n    .telegram-btn.primary {\r\n      background: linear-gradient(135deg, #0088cc, #0066aa);\r\n      box-shadow: 0 4px 15px rgba(0, 136, 204, 0.4);\r\n    }\r\n\r\n    .hint {\r\n      color: #64748b;\r\n      font-size: 0.8rem;\r\n      margin: 1rem 0;\r\n    }\r\n\r\n    /* üÜï ÊàêÂäüÂãïÁï´ */\r\n    .success-animation {\r\n      margin: 1rem 0 2rem;\r\n    }\r\n\r\n    .checkmark-circle {\r\n      width: 80px;\r\n      height: 80px;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .checkmark {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    .checkmark-circle-bg {\r\n      stroke: #4ade80;\r\n      stroke-width: 2;\r\n      stroke-dasharray: 157;\r\n      stroke-dashoffset: 157;\r\n      animation: circle-draw 0.6s ease-out forwards;\r\n    }\r\n\r\n    .checkmark-check {\r\n      stroke: #4ade80;\r\n      stroke-width: 3;\r\n      stroke-linecap: round;\r\n      stroke-linejoin: round;\r\n      stroke-dasharray: 48;\r\n      stroke-dashoffset: 48;\r\n      animation: check-draw 0.4s 0.4s ease-out forwards;\r\n    }\r\n\r\n    @keyframes circle-draw {\r\n      to { stroke-dashoffset: 0; }\r\n    }\r\n\r\n    @keyframes check-draw {\r\n      to { stroke-dashoffset: 0; }\r\n    }\r\n\r\n    .status-section.confirmed.animate {\r\n      animation: success-scale 0.5s ease-out;\r\n    }\r\n\r\n    @keyframes success-scale {\r\n      0% { transform: scale(0.8); opacity: 0; }\r\n      50% { transform: scale(1.05); }\r\n      100% { transform: scale(1); opacity: 1; }\r\n    }\r\n\r\n    .redirect-hint {\r\n      color: #64748b;\r\n      font-size: 0.85rem;\r\n      margin-top: 1rem;\r\n      animation: blink 1.5s infinite;\r\n    }\r\n\r\n    @keyframes blink {\r\n      0%, 100% { opacity: 1; }\r\n      50% { opacity: 0.5; }\r\n    }\r\n\r\n    /* üÜï Ë®≠ÂÇôÊèêÁ§∫Ê®£Âºè */\r\n    .device-hint {\r\n      background: rgba(0, 136, 204, 0.1);\r\n      border: 1px solid rgba(0, 136, 204, 0.3);\r\n      border-radius: 8px;\r\n      padding: 0.75rem;\r\n      margin: 1rem 0;\r\n      color: #60a5fa;\r\n      font-size: 0.85rem;\r\n    }\r\n\r\n    .device-hint .icon {\r\n      margin-right: 0.5rem;\r\n    }\r\n  `]\r\n})\r\nexport class ScanLoginComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  private route = inject(ActivatedRoute);\r\n  private router = inject(Router);\r\n  private i18n = inject(I18nService);\r\n\r\n  tokenStatus = signal<TokenStatus>({ status: 'loading' });\r\n  countdown = signal(0);\r\n  waitingConfirm = signal(false);\r\n  telegramUser = signal<TelegramUser | null>(null);\r\n  showSuccessAnimation = signal(false);\r\n  deviceType = signal<DeviceType>('unknown');\r\n\r\n  private token = '';\r\n  private botUsername = '';\r\n  private countdownInterval: any = null;\r\n  private pollInterval: any = null;\r\n  private widgetLoaded = false;\r\n  \r\n  // üÜï LocalStorage Èçµ\r\n  private readonly SAVED_TG_USER_KEY = 'tg_matrix_saved_user';\r\n\r\n  ngOnInit() {\r\n    // üÜï Ê™¢Ê∏¨Ë®≠ÂÇôÈ°ûÂûã\r\n    this.deviceType.set(detectDevice());\r\n    console.log('Device type:', this.deviceType());\r\n    \r\n    // Âæû URL Áç≤Âèñ token\r\n    this.token = this.route.snapshot.queryParams['token'] || '';\r\n    \r\n    if (!this.token) {\r\n      this.tokenStatus.set({\r\n        status: 'error',\r\n        message: this.t('scanLogin.noToken')\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Ë®≠ÁΩÆÂÖ®Â±ÄÂõûË™øÂáΩÊï∏\r\n    window.onTelegramAuth = this.handleTelegramAuth.bind(this);\r\n\r\n    // È©óË≠â Token\r\n    this.verifyToken();\r\n    \r\n    // üÜï Ê™¢Êü•ÊòØÂê¶Êúâ‰øùÂ≠òÁöÑÁî®Êà∂ÔºàË®ò‰ΩèÊéàÊ¨äÂäüËÉΩÔºâ\r\n    this.checkSavedUser();\r\n  }\r\n  \r\n  /**\r\n   * üÜï Ê™¢Êü•ÊòØÂê¶Êúâ‰øùÂ≠òÁöÑ Telegram Áî®Êà∂\r\n   */\r\n  private checkSavedUser() {\r\n    try {\r\n      const savedUserStr = localStorage.getItem(this.SAVED_TG_USER_KEY);\r\n      if (savedUserStr) {\r\n        const savedUser = JSON.parse(savedUserStr) as TelegramUser;\r\n        // Ê™¢Êü•ÊéàÊ¨äÊòØÂê¶ÈÅéÊúüÔºà24Â∞èÊôÇÔºâ\r\n        const authTime = savedUser.auth_date * 1000;\r\n        const now = Date.now();\r\n        const hoursSinceAuth = (now - authTime) / (1000 * 60 * 60);\r\n        \r\n        if (hoursSinceAuth < 24) {\r\n          console.log('Found saved user, auto-sending confirmation...');\r\n          this.telegramUser.set(savedUser);\r\n          // Ëá™ÂãïÁôºÈÄÅÁ¢∫Ë™çÔºàÂª∂ÈÅ≤Á≠âÂæÖ token È©óË≠âÂÆåÊàêÔºâ\r\n          setTimeout(() => {\r\n            if (this.tokenStatus().status === 'valid') {\r\n              this.sendConfirmationToUser(savedUser);\r\n            }\r\n          }, 500);\r\n        } else {\r\n          // ÊéàÊ¨äÈÅéÊúüÔºåÊ∏ÖÈô§\r\n          localStorage.removeItem(this.SAVED_TG_USER_KEY);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Error checking saved user:', e);\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // Âú®Ë¶ñÂúñÂàùÂßãÂåñÂæåÂä†Ëºâ Telegram WidgetÔºàÂ¶ÇÊûúÈúÄË¶ÅÔºâ\r\n  }\r\n\r\n  /**\r\n   * üÜï ËôïÁêÜ Telegram Login Widget ÊéàÊ¨äÂõûË™ø\r\n   */\r\n  handleTelegramAuth(user: TelegramUser) {\r\n    console.log('Telegram auth received:', user);\r\n    this.telegramUser.set(user);\r\n    \r\n    // Êõ¥Êñ∞ÁãÄÊÖãÁÇ∫\"Ê≠£Âú®ÁôºÈÄÅÁ¢∫Ë™çÊ∂àÊÅØ\"\r\n    this.tokenStatus.update(s => ({ ...s, status: 'sending' }));\r\n    \r\n    // Ë™øÁî®ÂæåÁ´Ø API ÁôºÈÄÅÁ¢∫Ë™çÊ∂àÊÅØ\r\n    this.sendConfirmationToUser(user);\r\n  }\r\n\r\n  /**\r\n   * üÜï Ë™øÁî®ÂæåÁ´Ø APIÔºåËÆì Bot ‰∏ªÂãïÁôºÈÄÅÁ¢∫Ë™çÊ∂àÊÅØÁµ¶Áî®Êà∂\r\n   */\r\n  async sendConfirmationToUser(user: TelegramUser) {\r\n    try {\r\n      const response = await fetch(`/api/v1/auth/login-token/${this.token}/send-confirmation`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          telegram_id: user.id,\r\n          telegram_username: user.username,\r\n          telegram_first_name: user.first_name,\r\n          telegram_last_name: user.last_name,\r\n          auth_date: user.auth_date,\r\n          hash: user.hash\r\n        })\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // üÜï ‰øùÂ≠òÁî®Êà∂‰ø°ÊÅØÔºàË®ò‰ΩèÊéàÊ¨äÔºâ\r\n        this.saveUser(user);\r\n        \r\n        // ÊàêÂäüÁôºÈÄÅÔºåÁ≠âÂæÖÁî®Êà∂Âú® Telegram Á¢∫Ë™ç\r\n        this.tokenStatus.update(s => ({ ...s, status: 'valid' }));\r\n        this.waitingConfirm.set(true);\r\n        this.startPolling();\r\n        \r\n        // üÜï Âú®ÁßªÂãïË®≠ÂÇô‰∏äËá™ÂãïÊâìÈñã Telegram\r\n        if (isMobile()) {\r\n          setTimeout(() => {\r\n            window.location.href = `tg://resolve?domain=${this.botUsername}`;\r\n          }, 1000);\r\n        }\r\n      } else {\r\n        // üÜï Ê™¢Ê∏¨ Bot Â∞ÅÈéñÊÉÖÊ≥Å\r\n        if (result.need_start_bot) {\r\n          this.tokenStatus.set({\r\n            status: 'bot_blocked',\r\n            message: result.error,\r\n            botLink: result.bot_link || `https://t.me/${this.botUsername}`\r\n          });\r\n        } else {\r\n          this.tokenStatus.set({\r\n            status: 'error',\r\n            message: result.error || this.t('scanLogin.sendFailed')\r\n          });\r\n        }\r\n      }\r\n    } catch (e: any) {\r\n      console.error('Send confirmation error:', e);\r\n      this.tokenStatus.set({\r\n        status: 'error',\r\n        message: this.t('scanLogin.networkError')\r\n      });\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * üÜï ‰øùÂ≠òÁî®Êà∂‰ø°ÊÅØÂà∞ LocalStorage\r\n   */\r\n  private saveUser(user: TelegramUser) {\r\n    try {\r\n      localStorage.setItem(this.SAVED_TG_USER_KEY, JSON.stringify(user));\r\n    } catch (e) {\r\n      console.error('Error saving user:', e);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * üÜï Bot Ëß£Â∞ÅÂæåÈáçË©¶\r\n   */\r\n  retryAfterUnblock() {\r\n    const user = this.telegramUser();\r\n    if (user) {\r\n      this.tokenStatus.set({ status: 'sending' });\r\n      this.sendConfirmationToUser(user);\r\n    } else {\r\n      // ÈáçÊñ∞Âä†ËºâÈ†ÅÈù¢\r\n      window.location.reload();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * üÜï Âä†Ëºâ Telegram Login Widget\r\n   */\r\n  private loadTelegramWidget() {\r\n    if (this.widgetLoaded || !this.botUsername) return;\r\n    \r\n    const container = document.getElementById('telegram-login-widget');\r\n    if (!container) return;\r\n\r\n    // Ê∏ÖÁ©∫ÂÆπÂô®\r\n    container.innerHTML = '';\r\n\r\n    // ÂâµÂª∫ script Ê®ôÁ±§\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.src = 'https://telegram.org/js/telegram-widget.js?22';\r\n    script.setAttribute('data-telegram-login', this.botUsername);\r\n    script.setAttribute('data-size', 'large');\r\n    script.setAttribute('data-radius', '10');\r\n    script.setAttribute('data-onauth', 'onTelegramAuth(user)');\r\n    script.setAttribute('data-request-access', 'write');\r\n    \r\n    container.appendChild(script);\r\n    this.widgetLoaded = true;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.countdownInterval) {\r\n      clearInterval(this.countdownInterval);\r\n    }\r\n    if (this.pollInterval) {\r\n      clearInterval(this.pollInterval);\r\n    }\r\n  }\r\n\r\n  t(key: string, params?: Record<string, any>): string {\r\n    return this.i18n.t(key, params);\r\n  }\r\n\r\n  async verifyToken() {\r\n    try {\r\n      const response = await fetch(`/api/v1/auth/login-token/${this.token}`);\r\n      const result = await response.json();\r\n\r\n      if (!result.success) {\r\n        this.tokenStatus.set({\r\n          status: 'error',\r\n          message: result.error || this.t('scanLogin.tokenInvalid')\r\n        });\r\n        return;\r\n      }\r\n\r\n      const { status, expires_in, deep_link_url, bot_username } = result.data;\r\n\r\n      if (status === 'expired') {\r\n        this.tokenStatus.set({ status: 'expired' });\r\n        return;\r\n      }\r\n\r\n      if (status === 'confirmed') {\r\n        this.tokenStatus.set({ status: 'confirmed' });\r\n        return;\r\n      }\r\n\r\n      // ‰øùÂ≠ò Bot username ‰æõ Widget ‰ΩøÁî®\r\n      this.botUsername = bot_username || 'tgzkw_bot';\r\n\r\n      // Token ÊúâÊïà\r\n      this.tokenStatus.set({\r\n        status: 'valid',\r\n        deepLinkUrl: deep_link_url,\r\n        botUsername: bot_username,\r\n        expiresIn: expires_in || 300\r\n      });\r\n\r\n      // ÂïüÂãïÂÄíË®àÊôÇ\r\n      this.countdown.set(expires_in || 300);\r\n      this.startCountdown();\r\n      \r\n      // üÜï Âª∂ÈÅ≤Âä†Ëºâ Telegram WidgetÔºàÁ≠âÂæÖ DOM Ê∏≤ÊüìÂÆåÊàêÔºâ\r\n      setTimeout(() => {\r\n        this.loadTelegramWidget();\r\n      }, 100);\r\n\r\n    } catch (e: any) {\r\n      console.error('Token verification error:', e);\r\n      this.tokenStatus.set({\r\n        status: 'error',\r\n        message: this.t('scanLogin.networkError')\r\n      });\r\n    }\r\n  }\r\n\r\n  onTelegramClick() {\r\n    // Áî®Êà∂ÈªûÊìä‰∫Ü Telegram ÊåâÈàïÔºåÈñãÂßãÁ≠âÂæÖÁ¢∫Ë™ç\r\n    this.waitingConfirm.set(true);\r\n    this.startPolling();\r\n  }\r\n\r\n  private startCountdown() {\r\n    this.countdownInterval = setInterval(() => {\r\n      const current = this.countdown();\r\n      if (current <= 0) {\r\n        clearInterval(this.countdownInterval);\r\n        this.tokenStatus.set({ status: 'expired' });\r\n      } else {\r\n        this.countdown.set(current - 1);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  private startPolling() {\r\n    // ÊØè 2 ÁßíËº™Ë©¢‰∏ÄÊ¨° Token ÁãÄÊÖã\r\n    this.pollInterval = setInterval(async () => {\r\n      try {\r\n        const response = await fetch(`/api/v1/auth/login-token/${this.token}`);\r\n        const result = await response.json();\r\n\r\n        if (result.success && result.data) {\r\n          if (result.data.status === 'confirmed') {\r\n            clearInterval(this.pollInterval);\r\n            this.waitingConfirm.set(false);\r\n            \r\n            // üÜï È°ØÁ§∫ÊàêÂäüÂãïÁï´\r\n            this.showSuccessAnimation.set(true);\r\n            this.tokenStatus.set({ status: 'confirmed' });\r\n            \r\n            // üÜï ÂãïÁï´ÁµêÊùüÂæåÂèØ‰ª•ÈóúÈñâÈ†ÅÈù¢ÊàñÈ°ØÁ§∫ÊèêÁ§∫\r\n            setTimeout(() => {\r\n              // Â¶ÇÊûúÂú®ÁßªÂãïË®≠ÂÇô‰∏äÔºåÊèêÁ§∫Áî®Êà∂ÂèØ‰ª•ÈóúÈñâÈ†ÅÈù¢\r\n              // ÈõªËÖ¶Á´ØÊúÉÈÄöÈÅé WebSocket Ëá™ÂãïË∑≥ËΩâ\r\n            }, 2000);\r\n            \r\n          } else if (result.data.status === 'expired') {\r\n            clearInterval(this.pollInterval);\r\n            this.waitingConfirm.set(false);\r\n            this.tokenStatus.set({ status: 'expired' });\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('Polling error:', e);\r\n      }\r\n    }, 2000);\r\n  }\r\n\r\n  goToLogin() {\r\n    // Ë∑≥ËΩâÂõûÁôªÂÖ•È†ÅÔºà‰ΩøÁî®ÂÆåÊï¥ URL ‰ª•ÊîØÊåÅË∑®Ë®≠ÂÇôÔºâ\r\n    window.location.href = 'https://tgw.usdt2026.cc/auth/login';\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
