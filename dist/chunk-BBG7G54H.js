import{M as s,g as n}from"./chunk-YLSLTE5F.js";var t={ACCESS_TOKEN:"tgm_access_token",REFRESH_TOKEN:"tgm_refresh_token",AUTH_TOKEN:"tgm_auth_token",USER:"tgm_user",SESSION_ID:"tgm_session_id",REMEMBER_ME:"tgm_remember_me"},a=class o{constructor(){this._authEvents=new n;this.authEvents$=this._authEvents.asObservable()}emitLogin(e){this._authEvents.next({type:"login",payload:e,timestamp:Date.now()}),console.log("[AuthEvents] Login event emitted")}emitLogout(){this._authEvents.next({type:"logout",timestamp:Date.now()}),console.log("[AuthEvents] Logout event emitted")}emitSessionExpired(){this._authEvents.next({type:"session_expired",timestamp:Date.now()}),console.log("[AuthEvents] Session expired event emitted")}emitTokenRefresh(e){this._authEvents.next({type:"token_refresh",payload:{token:e},timestamp:Date.now()})}emitUserUpdate(e){this._authEvents.next({type:"user_update",payload:{user:e},timestamp:Date.now()})}clearAllAuthStorage(){console.log("[AuthEvents] Clearing all auth storage"),Object.values(t).forEach(e=>{localStorage.removeItem(e)})}getStoredToken(){return localStorage.getItem(t.ACCESS_TOKEN)||localStorage.getItem(t.AUTH_TOKEN)}getStoredUser(){try{let e=localStorage.getItem(t.USER);return e?JSON.parse(e):null}catch{return null}}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})}};export{t as a,a as b};
