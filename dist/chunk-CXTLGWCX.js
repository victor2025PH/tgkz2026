import{a as Z}from"./chunk-4EE5Z3DR.js";import{e as R,f as I,h as L}from"./chunk-PHWS6WVI.js";import"./chunk-GQQBGSXN.js";import"./chunk-V2IXOMTS.js";import{b as Y}from"./chunk-CXXWQ5XE.js";import"./chunk-BBG7G54H.js";import{a as N,b as W,c as z,d as F,e as A,f as q,g as B,p as V,q as j,t as G}from"./chunk-36YFMG3E.js";import{$a as u,Aa as n,Eb as f,Fb as _,Gb as b,Mb as D,Na as x,R as w,Vb as v,_a as c,bb as y,cb as S,db as O,eb as p,fb as t,ga as C,gb as i,hb as P,nb as M,pb as h,qc as T,vb as k,wb as E,xb as o,yb as d,zb as g}from"./chunk-YLSLTE5F.js";var J=()=>[1,2,3,4];function K(s,r){if(s&1&&(t(0,"div",3)(1,"span",27),o(2,"\u26A0\uFE0F"),i(),t(3,"span"),o(4),i()()),s&2){let a=h();n(4),d(a.error())}}function Q(s,r){if(s&1&&P(0,"div",31),s&2){let a=r.$implicit,e=h(2);k("active",e.passwordStrength()>=a)("weak",e.passwordStrength()===1)("fair",e.passwordStrength()===2)("good",e.passwordStrength()===3)("strong",e.passwordStrength()===4)}}function U(s,r){if(s&1&&(t(0,"div",15)(1,"div",28),S(2,Q,1,10,"div",29,y),i(),t(4,"span",30),o(5),i()()),s&2){let a=h();n(2),O(D(3,J)),n(2),E(a.strengthClass()),n(),g(" ",a.passwordStrengthText()," ")}}function X(s,r){s&1&&(t(0,"span",18),o(1,"\u274C"),i())}function $(s,r){s&1&&(t(0,"span",19),o(1,"\u2705"),i())}function ee(s,r){if(s&1&&(P(0,"span",32),t(1,"span"),o(2),i()),s&2){let a=h();n(2),d(a.t("auth.registering"))}}function te(s,r){if(s&1&&(t(0,"span"),o(1),i()),s&2){let a=h();n(),d(a.t("auth.register"))}}var H=class s{constructor(){this.authService=w(Z);this.router=w(R);this.i18n=w(Y);this.username="";this.email="";this.password="";this.confirmPassword="";this.agreeTerms=!1;this.showPassword=C(!1);this.isLoading=C(!1);this.error=C(null);this.passwordStrength=C(0);this.passwordStrengthText=v(()=>{let r=this.passwordStrength();return["",this.t("auth.weak"),this.t("auth.fair"),this.t("auth.good"),this.t("auth.strong")][r]||""});this.strengthClass=v(()=>["","weak","fair","good","strong"][this.passwordStrength()]||"")}get canSubmit(){return!!(this.email&&this.password&&this.password===this.confirmPassword&&this.agreeTerms&&this.passwordStrength()>=2&&!this.isLoading())}t(r){return this.i18n.t(r)}checkPasswordStrength(){let r=0,a=this.password;a.length>=6&&r++,a.length>=8&&/[a-z]/.test(a)&&/[A-Z]/.test(a)&&r++,/\d/.test(a)&&r++,/[!@#$%^&*(),.?":{}|<>]/.test(a)&&r++,this.passwordStrength.set(r)}async onSubmit(){if(this.canSubmit){this.isLoading.set(!0),this.error.set(null);try{let r=await this.authService.register({email:this.email,password:this.password,username:this.username||void 0,display_name:this.username||void 0});r.success?this.router.navigate(["/"]):this.error.set(r.error||this.t("auth.registerFailed"))}catch(r){this.error.set(r.message||this.t("auth.registerFailed"))}finally{this.isLoading.set(!1)}}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=x({type:s,selectors:[["app-register"]],decls:56,vars:34,consts:[[1,"register-page"],[1,"page-title"],[1,"page-subtitle"],[1,"error-alert"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","username"],[1,"input-wrapper"],[1,"input-icon"],["type","text","id","username","name","username","autocomplete","username",3,"ngModelChange","ngModel","placeholder","disabled"],["for","email"],["type","email","id","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel","placeholder","disabled"],["for","password"],["id","password","name","password","required","","autocomplete","new-password",3,"ngModelChange","input","type","ngModel","placeholder","disabled"],["type","button",1,"toggle-password",3,"click"],[1,"password-strength"],["for","confirmPassword"],["id","confirmPassword","name","confirmPassword","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel","placeholder","disabled"],[1,"input-error"],[1,"input-success"],[1,"checkbox-label","terms"],["type","checkbox","name","agreeTerms","required","",3,"ngModelChange","ngModel"],["href","/terms","target","_blank"],["href","/privacy","target","_blank"],["type","submit",1,"submit-btn",3,"disabled"],[1,"login-link"],["routerLink","/auth/login"],[1,"error-icon"],[1,"strength-bars"],[1,"strength-bar",3,"active","weak","fair","good","strong"],[1,"strength-text"],[1,"strength-bar"],[1,"loading-spinner"]],template:function(a,e){a&1&&(t(0,"div",0)(1,"h2",1),o(2),i(),t(3,"p",2),o(4),i(),c(5,K,5,1,"div",3),t(6,"form",4),M("ngSubmit",function(){return e.onSubmit()}),t(7,"div",5)(8,"label",6),o(9),i(),t(10,"div",7)(11,"span",8),o(12,"\u{1F464}"),i(),t(13,"input",9),b("ngModelChange",function(l){return _(e.username,l)||(e.username=l),l}),i()()(),t(14,"div",5)(15,"label",10),o(16),i(),t(17,"div",7)(18,"span",8),o(19,"\u{1F4E7}"),i(),t(20,"input",11),b("ngModelChange",function(l){return _(e.email,l)||(e.email=l),l}),i()()(),t(21,"div",5)(22,"label",12),o(23),i(),t(24,"div",7)(25,"span",8),o(26,"\u{1F512}"),i(),t(27,"input",13),b("ngModelChange",function(l){return _(e.password,l)||(e.password=l),l}),M("input",function(){return e.checkPasswordStrength()}),i(),t(28,"button",14),M("click",function(){return e.showPassword.set(!e.showPassword())}),o(29),i()(),c(30,U,6,4,"div",15),i(),t(31,"div",5)(32,"label",16),o(33),i(),t(34,"div",7)(35,"span",8),o(36,"\u{1F512}"),i(),t(37,"input",17),b("ngModelChange",function(l){return _(e.confirmPassword,l)||(e.confirmPassword=l),l}),i(),c(38,X,2,0,"span",18),c(39,$,2,0,"span",19),i()(),t(40,"label",20)(41,"input",21),b("ngModelChange",function(l){return _(e.agreeTerms,l)||(e.agreeTerms=l),l}),i(),t(42,"span"),o(43),t(44,"a",22),o(45),i(),o(46),t(47,"a",23),o(48),i()()(),t(49,"button",24),c(50,ee,3,1)(51,te,2,1,"span"),i()(),t(52,"p",25),o(53),t(54,"a",26),o(55),i()()()),a&2&&(n(2),d(e.t("auth.createAccount")),n(2),d(e.t("auth.registerSubtitle")),n(),u(e.error()?5:-1),n(4),d(e.t("auth.username")),n(4),f("ngModel",e.username),p("placeholder",e.t("auth.usernamePlaceholder"))("disabled",e.isLoading()),n(3),g("",e.t("auth.email")," *"),n(4),f("ngModel",e.email),p("placeholder",e.t("auth.emailPlaceholder"))("disabled",e.isLoading()),n(3),g("",e.t("auth.password")," *"),n(4),p("type",e.showPassword()?"text":"password"),f("ngModel",e.password),p("placeholder",e.t("auth.passwordPlaceholder"))("disabled",e.isLoading()),n(2),g(" ",e.showPassword()?"\u{1F648}":"\u{1F441}\uFE0F"," "),n(),u(e.password?30:-1),n(3),g("",e.t("auth.confirmPassword")," *"),n(4),p("type",e.showPassword()?"text":"password"),f("ngModel",e.confirmPassword),p("placeholder",e.t("auth.confirmPasswordPlaceholder"))("disabled",e.isLoading()),n(),u(e.confirmPassword&&e.password!==e.confirmPassword?38:-1),n(),u(e.confirmPassword&&e.password===e.confirmPassword?39:-1),n(2),f("ngModel",e.agreeTerms),n(2),g(" ",e.t("auth.agreeToTerms")," "),n(2),d(e.t("auth.termsOfService")),n(),g(" ",e.t("auth.and")," "),n(2),d(e.t("auth.privacyPolicy")),n(),p("disabled",!e.canSubmit),n(),u(e.isLoading()?50:51),n(3),g(" ",e.t("auth.haveAccount")," "),n(2),d(e.t("auth.loginNow")))},dependencies:[T,G,B,W,N,z,F,V,j,q,A,L,I],styles:[".register-page[_ngcontent-%COMP%]{color:var(--text-primary, #fff)}.page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.5rem}.page-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary, #888);margin-bottom:2rem}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1rem;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:8px;color:#f87171;margin-bottom:1.5rem;font-size:.875rem}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-secondary, #aaa)}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1rem;opacity:.5}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 2.75rem;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);font-size:1rem;transition:all .2s ease}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary, #3b82f6);box-shadow:0 0 0 3px #3b82f61a}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted, #666)}.toggle-password[_ngcontent-%COMP%], .input-error[_ngcontent-%COMP%], .input-success[_ngcontent-%COMP%]{position:absolute;right:1rem;background:none;border:none;cursor:pointer;font-size:1rem}.toggle-password[_ngcontent-%COMP%]{opacity:.5;transition:opacity .2s}.toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.password-strength[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.5rem}.strength-bars[_ngcontent-%COMP%]{display:flex;gap:4px}.strength-bar[_ngcontent-%COMP%]{width:40px;height:4px;background:var(--bg-tertiary, #333);border-radius:2px;transition:all .3s ease}.strength-bar.active.weak[_ngcontent-%COMP%]{background:#ef4444}.strength-bar.active.fair[_ngcontent-%COMP%]{background:#f59e0b}.strength-bar.active.good[_ngcontent-%COMP%]{background:#10b981}.strength-bar.active.strong[_ngcontent-%COMP%]{background:#22c55e}.strength-text[_ngcontent-%COMP%]{font-size:.75rem}.strength-text.weak[_ngcontent-%COMP%]{color:#ef4444}.strength-text.fair[_ngcontent-%COMP%]{color:#f59e0b}.strength-text.good[_ngcontent-%COMP%]{color:#10b981}.strength-text.strong[_ngcontent-%COMP%]{color:#22c55e}.checkbox-label.terms[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;cursor:pointer;color:var(--text-secondary, #aaa);font-size:.875rem;line-height:1.4}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;margin-top:2px;accent-color:var(--primary, #3b82f6)}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary, #3b82f6);text-decoration:none}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border:none;border-radius:8px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:.5rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:var(--text-secondary, #888);font-size:.875rem}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary, #3b82f6);text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0})}};export{H as RegisterComponent};
