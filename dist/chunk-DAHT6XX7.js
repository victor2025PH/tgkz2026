import{a as U}from"./chunk-MKTJUSEE.js";import{b as B,c as H,f as q,h as R,o as L,t as j}from"./chunk-3FNGYHNZ.js";import{j as A,k as z,o as N}from"./chunk-HDSZBSQ2.js";import{Ab as T,Eb as h,Fb as M,Gb as E,J as k,La as F,N as V,O as D,Qa as _,Rb as O,T as u,U as g,Vb as S,cb as d,da as x,db as i,eb as n,jb as y,nb as v,pb as l,tb as C,ub as w,vb as b,wb as I,xa as a,xb as o,yb as p,zb as f}from"./chunk-XBIFDY2N.js";var P=class r{constructor(t){this.ipc=t;this._currentIntent=x(null);this.currentIntent=this._currentIntent.asReadonly();this._paymentHistory=x([]);this.paymentHistory=this._paymentHistory.asReadonly();this._invoices=x([]);this.invoices=this._invoices.asReadonly();this._loading=x(!1);this.loading=this._loading.asReadonly();this.hasActivePayment=S(()=>{let t=this._currentIntent();return t&&["created","pending","processing"].includes(t.state)});this.completedPayments=S(()=>this._paymentHistory().filter(t=>t.state==="completed"))}async createPayment(t){this._loading.set(!0);try{let e=await this.ipc.invoke("create-payment",{amount:t.amount,currency:t.currency||"CNY",provider:t.provider||"demo",payment_type:t.paymentType||"one_time",description:t.description||"",metadata:t.metadata||{},success_url:t.successUrl,cancel_url:t.cancelUrl});if(e?.success&&e?.data){let c=e.data;return this._currentIntent.set(c),{success:!0,intent:c}}return{success:!1,error:e?.error||"\u5275\u5EFA\u652F\u4ED8\u5931\u6557"}}catch(e){return console.error("Create payment error:",e),{success:!1,error:String(e)}}finally{this._loading.set(!1)}}async checkPaymentStatus(t){try{let e=await this.ipc.invoke("get-payment-status",{intent_id:t});return e?.success&&e?.data?(e.data.intent&&this._currentIntent.set(e.data.intent),{success:!0,paid:e.data.paid,state:e.data.state}):{success:!1,paid:!1,state:"failed",error:e?.error}}catch(e){return console.error("Check payment status error:",e),{success:!1,paid:!1,state:"failed",error:String(e)}}}async pollPaymentStatus(t,e=3e3,c=60){let s=0;for(;s<c;){let m=await this.checkPaymentStatus(t);if(m.paid||m.state==="completed")return{success:!0,paid:!0};if(["failed","cancelled","expired","refunded"].includes(m.state))return{success:!1,paid:!1};s++,await new Promise($=>setTimeout($,e))}return{success:!1,paid:!1}}async loadPaymentHistory(t=50){try{let e=await this.ipc.invoke("get-payment-history",{limit:t});e?.success&&e?.data?.payments&&this._paymentHistory.set(e.data.payments)}catch(e){console.error("Load payment history error:",e)}}async loadInvoices(t=50){try{let e=await this.ipc.invoke("get-invoices",{limit:t});e?.success&&e?.data?.invoices&&this._invoices.set(e.data.invoices)}catch(e){console.error("Load invoices error:",e)}}async getInvoiceDetail(t){try{let e=await this.ipc.invoke("get-invoice-detail",{invoice_id:t});return e?.success&&e?.data?e.data:null}catch(e){return console.error("Get invoice detail error:",e),null}}openPaymentPage(t){t.pay_url&&window.open(t.pay_url,"_blank")}formatAmount(t,e="CNY"){let c=t/100;return`${{CNY:"\xA5",USD:"$",EUR:"\u20AC",GBP:"\xA3"}[e.toUpperCase()]||e}${c.toFixed(2)}`}getProviderIcon(t){return{stripe:"\u{1F4B3}",paypal:"\u{1F17F}\uFE0F",alipay:"\u{1F499}",wechat:"\u{1F49A}",usdt:"\u{1F4B0}",demo:"\u{1F3AE}"}[t]||"\u{1F4B3}"}getProviderName(t){return{stripe:"Stripe",paypal:"PayPal",alipay:"\u652F\u4ED8\u5BF6",wechat:"\u5FAE\u4FE1\u652F\u4ED8",usdt:"USDT",demo:"\u6F14\u793A\u652F\u4ED8"}[t]||t}getStateLabel(t){return{created:{text:"\u5DF2\u5275\u5EFA",color:"#6b7280"},pending:{text:"\u5F85\u652F\u4ED8",color:"#f59e0b"},processing:{text:"\u8655\u7406\u4E2D",color:"#3b82f6"},completed:{text:"\u5DF2\u5B8C\u6210",color:"#22c55e"},failed:{text:"\u5931\u6557",color:"#ef4444"},cancelled:{text:"\u5DF2\u53D6\u6D88",color:"#6b7280"},refunded:{text:"\u5DF2\u9000\u6B3E",color:"#8b5cf6"},expired:{text:"\u5DF2\u904E\u671F",color:"#9ca3af"}}[t]||{text:t,color:"#666"}}clearCurrentIntent(){this._currentIntent.set(null)}static{this.\u0275fac=function(e){return new(e||r)(V(U))}}static{this.\u0275prov=k({token:r,factory:r.\u0275fac,providedIn:"root"})}};function G(r,t){if(r&1){let e=y();i(0,"button",8),v("click",function(){let s=u(e).$implicit,m=l();return g(m.activeTab.set(s.value))}),o(1),n()}if(r&2){let e=t.$implicit,c=l();b("active",c.activeTab()===e.value),a(),T(" ",e.icon," ",e.label," ")}}function J(r,t){if(r&1){let e=y();i(0,"button",8),v("click",function(){let s=u(e).$implicit,m=l(2);return g(m.selectedProvider.set(s.value))}),i(1,"span",19),o(2),n(),i(3,"span",20),o(4),n()()}if(r&2){let e=t.$implicit,c=l(2);b("selected",c.selectedProvider()===e.value),a(2),p(e.icon),a(2),p(e.name)}}function K(r,t){if(r&1){let e=y();i(0,"button",32),v("click",function(){u(e);let s=l(3);return g(s.payment.openPaymentPage(s.payment.currentIntent()))}),o(1," \u6253\u958B\u652F\u4ED8\u9801\u9762 "),n()}}function Q(r,t){if(r&1){let e=y();i(0,"button",33),v("click",function(){u(e);let s=l(3);return g(s.checkStatus())}),o(1," \u6AA2\u67E5\u72C0\u614B "),n()}}function X(r,t){if(r&1&&(i(0,"div",34)(1,"p"),o(2,"\u6383\u78BC\u652F\u4ED8\uFF1A"),n(),i(3,"div",35),o(4),n()()),r&2){let e=l(3);a(4),p(e.payment.currentIntent().qr_code)}}function Z(r,t){if(r&1){let e=y();i(0,"div",21)(1,"h3"),o(2,"\u7576\u524D\u652F\u4ED8"),n(),i(3,"div",22)(4,"div",23)(5,"span",19),o(6),n(),i(7,"span",24),o(8),n()(),i(9,"div",25),o(10),n(),i(11,"div",26),o(12),n(),i(13,"div",27),_(14,K,2,0,"button",28)(15,Q,2,0,"button",29),i(16,"button",30),v("click",function(){u(e);let s=l(2);return g(s.payment.clearCurrentIntent())}),o(17," \u6E05\u9664 "),n()(),_(18,X,5,1,"div",31),n()()}if(r&2){let e=l(2);a(6),p(e.payment.getProviderIcon(e.payment.currentIntent().provider)),a(2),f("",e.payment.currentIntent().id.slice(0,12),"..."),a(2),f(" ",e.payment.formatAmount(e.payment.currentIntent().amount,e.payment.currentIntent().currency)," "),a(),w("color",e.payment.getStateLabel(e.payment.currentIntent().state).color),a(),f(" ",e.payment.getStateLabel(e.payment.currentIntent().state).text," "),a(2),d("ngIf",e.payment.currentIntent().pay_url&&e.payment.currentIntent().state!=="completed"),a(),d("ngIf",e.payment.currentIntent().state!=="completed"),a(3),d("ngIf",e.payment.currentIntent().qr_code)}}function ee(r,t){if(r&1){let e=y();i(0,"div",9)(1,"div",10)(2,"h2"),o(3,"\u5FEB\u901F\u652F\u4ED8"),n(),i(4,"div",11)(5,"div",12)(6,"label"),o(7,"\u91D1\u984D\uFF08\u5143\uFF09"),n(),i(8,"input",13),E("ngModelChange",function(s){u(e);let m=l();return M(m.payAmount,s)||(m.payAmount=s),g(s)}),n()(),i(9,"div",12)(10,"label"),o(11,"\u63CF\u8FF0"),n(),i(12,"input",14),E("ngModelChange",function(s){u(e);let m=l();return M(m.payDescription,s)||(m.payDescription=s),g(s)}),n()(),i(13,"div",12)(14,"label"),o(15,"\u652F\u4ED8\u65B9\u5F0F"),n(),i(16,"div",15),_(17,J,5,4,"button",16),n()(),i(18,"button",17),v("click",function(){u(e);let s=l();return g(s.createPayment())}),o(19),n()()(),_(20,Z,19,9,"div",18),n()}if(r&2){let e=l();a(8),h("ngModel",e.payAmount),a(4),h("ngModel",e.payDescription),a(5),d("ngForOf",e.providers),a(),d("disabled",!e.payAmount||e.payment.loading()),a(),f(" ",e.payment.loading()?"\u8655\u7406\u4E2D...":"\u5275\u5EFA\u652F\u4ED8"," "),a(),d("ngIf",e.payment.currentIntent())}}function te(r,t){if(r&1&&(i(0,"div",42)(1,"div",43),o(2),n(),i(3,"div",44)(4,"span",45),o(5),n(),i(6,"span",46),o(7),n()(),i(8,"div",47),o(9),n(),i(10,"div",48),o(11),n()()),r&2){let e=t.$implicit,c=l(3);a(2),p(c.payment.getProviderIcon(e.provider)),a(3),p(e.description||"\u652F\u4ED8"),a(2),p(c.formatDate(e.created_at)),a(),b("completed",e.state==="completed"),a(),f(" ",c.payment.formatAmount(e.amount,e.currency)," "),a(),w("color",c.payment.getStateLabel(e.state).color),a(),f(" ",c.payment.getStateLabel(e.state).text," ")}}function ne(r,t){if(r&1&&(i(0,"div",40),_(1,te,12,9,"div",41),n()),r&2){let e=l(2);a(),d("ngForOf",e.payment.paymentHistory())}}function ie(r,t){r&1&&(i(0,"div",49)(1,"span",50),o(2,"\u{1F4B3}"),n(),i(3,"p"),o(4,"\u66AB\u7121\u652F\u4ED8\u8A18\u9304"),n()())}function oe(r,t){if(r&1){let e=y();i(0,"div",9)(1,"section",36)(2,"div",37)(3,"h2"),o(4,"\u652F\u4ED8\u6B77\u53F2"),n(),i(5,"button",38),v("click",function(){u(e);let s=l();return g(s.loadHistory())}),o(6,"\u{1F504} \u5237\u65B0"),n()(),_(7,ne,2,1,"div",39)(8,ie,5,0,"ng-template",null,0,O),n()()}if(r&2){let e=C(9),c=l();a(7),d("ngIf",c.payment.paymentHistory().length>0)("ngIfElse",e)}}function re(r,t){r&1&&(i(0,"button",64),o(1,"\u4E0B\u8F09 PDF"),n())}function ae(r,t){if(r&1){let e=y();i(0,"div",55),v("click",function(){let s=u(e).$implicit,m=l(3);return g(m.viewInvoice(s))}),i(1,"div",56)(2,"span",57),o(3),n(),i(4,"span",58),o(5),n()(),i(6,"div",59),o(7),n(),i(8,"div",60),o(9),n(),i(10,"div",61)(11,"button",62),o(12,"\u67E5\u770B\u8A73\u60C5"),n(),_(13,re,2,0,"button",63),n()()}if(r&2){let e=t.$implicit,c=l(3);a(3),p(e.invoice_number),a(),I(e.status),a(),p(c.getInvoiceStatusLabel(e.status)),a(2),f(" ",c.payment.formatAmount(e.total,e.currency)," "),a(2),f(" ",c.formatDate(e.issued_at)," "),a(4),d("ngIf",e.pdf_url)}}function ce(r,t){if(r&1&&(i(0,"div",53),_(1,ae,14,7,"div",54),n()),r&2){let e=l(2);a(),d("ngForOf",e.payment.invoices())}}function se(r,t){r&1&&(i(0,"div",49)(1,"span",50),o(2,"\u{1F4C4}"),n(),i(3,"p"),o(4,"\u66AB\u7121\u767C\u7968"),n()())}function le(r,t){if(r&1){let e=y();i(0,"div",9)(1,"section",51)(2,"div",37)(3,"h2"),o(4,"\u6211\u7684\u767C\u7968"),n(),i(5,"button",38),v("click",function(){u(e);let s=l();return g(s.loadInvoices())}),o(6,"\u{1F504} \u5237\u65B0"),n()(),_(7,ce,2,1,"div",52)(8,se,5,0,"ng-template",null,1,O),n()()}if(r&2){let e=C(9),c=l();a(7),d("ngIf",c.payment.invoices().length>0)("ngIfElse",e)}}function de(r,t){if(r&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),n(),i(7,"td"),o(8),n()()),r&2){let e=t.$implicit,c=l(3);a(2),p(e.description),a(2),p(e.quantity),a(2),p(c.payment.formatAmount(e.unit_price)),a(2),p(c.payment.formatAmount(e.amount))}}function pe(r,t){if(r&1&&(i(0,"div",75)(1,"span"),o(2,"\u7A05\u8CBB"),n(),i(3,"span"),o(4),n()()),r&2){let e=l(3);a(4),p(e.payment.formatAmount(e.selectedInvoice().tax))}}function me(r,t){if(r&1&&(i(0,"div",69)(1,"h3"),o(2,"\u767C\u7968\u8A73\u60C5"),n(),i(3,"div",70)(4,"div",71)(5,"span"),o(6,"\u767C\u7968\u865F"),n(),i(7,"span"),o(8),n()(),i(9,"div",71)(10,"span"),o(11,"\u958B\u7968\u65E5\u671F"),n(),i(12,"span"),o(13),n()(),i(14,"div",71)(15,"span"),o(16,"\u72C0\u614B"),n(),i(17,"span"),o(18),n()()(),i(19,"div",72)(20,"h4"),o(21,"\u9805\u76EE\u660E\u7D30"),n(),i(22,"table")(23,"thead")(24,"tr")(25,"th"),o(26,"\u63CF\u8FF0"),n(),i(27,"th"),o(28,"\u6578\u91CF"),n(),i(29,"th"),o(30,"\u55AE\u50F9"),n(),i(31,"th"),o(32,"\u91D1\u984D"),n()()(),i(33,"tbody"),_(34,de,9,4,"tr",73),n()()(),i(35,"div",74)(36,"div",75)(37,"span"),o(38,"\u5C0F\u8A08"),n(),i(39,"span"),o(40),n()(),_(41,pe,5,1,"div",76),i(42,"div",77)(43,"span"),o(44,"\u7E3D\u8A08"),n(),i(45,"span"),o(46),n()()()()),r&2){let e=l(2);a(8),p(e.selectedInvoice().invoice_number),a(5),p(e.formatDate(e.selectedInvoice().issued_at)),a(4),I(e.selectedInvoice().status),a(),p(e.getInvoiceStatusLabel(e.selectedInvoice().status)),a(16),d("ngForOf",e.selectedInvoice().items),a(6),p(e.payment.formatAmount(e.selectedInvoice().subtotal)),a(),d("ngIf",e.selectedInvoice().tax>0),a(5),p(e.payment.formatAmount(e.selectedInvoice().total))}}function ue(r,t){if(r&1){let e=y();i(0,"div",65),v("click",function(){u(e);let s=l();return g(s.showInvoiceDialog.set(!1))}),i(1,"div",66),v("click",function(s){return u(e),g(s.stopPropagation())}),_(2,me,47,9,"div",67),i(3,"button",68),v("click",function(){u(e);let s=l();return g(s.showInvoiceDialog.set(!1))}),o(4,"\u95DC\u9589"),n()()()}if(r&2){let e=l();a(2),d("ngIf",e.selectedInvoice())}}var W=class r{constructor(){this.payment=D(P);this.activeTab=x("quick");this.selectedProvider=x("demo");this.payAmount=0;this.payDescription="";this.showInvoiceDialog=x(!1);this.selectedInvoice=x(null);this.tabs=[{value:"quick",label:"\u5FEB\u901F\u652F\u4ED8",icon:"\u{1F4B3}"},{value:"history",label:"\u652F\u4ED8\u6B77\u53F2",icon:"\u{1F4CB}"},{value:"invoices",label:"\u767C\u7968",icon:"\u{1F4C4}"}];this.providers=[{value:"alipay",name:"\u652F\u4ED8\u5BF6",icon:"\u{1F499}"},{value:"wechat",name:"\u5FAE\u4FE1",icon:"\u{1F49A}"},{value:"stripe",name:"Stripe",icon:"\u{1F4B3}"},{value:"paypal",name:"PayPal",icon:"\u{1F17F}\uFE0F"},{value:"demo",name:"\u6F14\u793A",icon:"\u{1F3AE}"}];this.PaymentProvider=""}ngOnInit(){this.loadHistory(),this.loadInvoices()}async createPayment(){if(!this.payAmount||this.payAmount<=0)return;let t=Math.round(this.payAmount*100),e=await this.payment.createPayment({amount:t,provider:this.selectedProvider(),description:this.payDescription||"\u7528\u6236\u652F\u4ED8",paymentType:"one_time"});e.success&&e.intent?e.intent.pay_url&&this.payment.openPaymentPage(e.intent):alert(e.error||"\u5275\u5EFA\u652F\u4ED8\u5931\u6557")}async checkStatus(){let t=this.payment.currentIntent();t&&await this.payment.checkPaymentStatus(t.id)}loadHistory(){this.payment.loadPaymentHistory()}loadInvoices(){this.payment.loadInvoices()}viewInvoice(t){this.selectedInvoice.set(t),this.showInvoiceDialog.set(!0)}formatDate(t){if(!t)return"-";try{return new Date(t).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return t}}getInvoiceStatusLabel(t){return{draft:"\u8349\u7A3F",issued:"\u5DF2\u958B\u5177",paid:"\u5DF2\u652F\u4ED8",void:"\u5DF2\u4F5C\u5EE2"}[t]||t}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=F({type:r,selectors:[["app-payment-view"]],decls:10,vars:5,consts:[["noHistory",""],["noInvoices",""],[1,"payment-view"],[1,"page-header"],[1,"tabs"],[3,"active","click",4,"ngFor","ngForOf"],["class","tab-content",4,"ngIf"],["class","dialog-overlay",3,"click",4,"ngIf"],[3,"click"],[1,"tab-content"],[1,"quick-pay-section"],[1,"pay-form"],[1,"form-group"],["type","number","min","1","step","0.01","placeholder","\u8F38\u5165\u91D1\u984D",3,"ngModelChange","ngModel"],["type","text","placeholder","\u652F\u4ED8\u63CF\u8FF0\uFF08\u53EF\u9078\uFF09",3,"ngModelChange","ngModel"],[1,"provider-options"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"pay-btn",3,"click","disabled"],["class","current-payment",4,"ngIf"],[1,"provider-icon"],[1,"provider-name"],[1,"current-payment"],[1,"payment-card"],[1,"payment-header"],[1,"payment-id"],[1,"payment-amount"],[1,"payment-status"],[1,"payment-actions"],["class","open-pay-btn",3,"click",4,"ngIf"],["class","check-btn",3,"click",4,"ngIf"],[1,"clear-btn",3,"click"],["class","qr-section",4,"ngIf"],[1,"open-pay-btn",3,"click"],[1,"check-btn",3,"click"],[1,"qr-section"],[1,"qr-code"],[1,"history-section"],[1,"section-header"],[1,"refresh-btn",3,"click"],["class","history-list",4,"ngIf","ngIfElse"],[1,"history-list"],["class","history-item",4,"ngFor","ngForOf"],[1,"history-item"],[1,"item-icon"],[1,"item-info"],[1,"item-desc"],[1,"item-time"],[1,"item-amount"],[1,"item-status"],[1,"empty-state"],[1,"empty-icon"],[1,"invoices-section"],["class","invoices-list",4,"ngIf","ngIfElse"],[1,"invoices-list"],["class","invoice-card",3,"click",4,"ngFor","ngForOf"],[1,"invoice-card",3,"click"],[1,"invoice-header"],[1,"invoice-number"],[1,"invoice-status"],[1,"invoice-amount"],[1,"invoice-date"],[1,"invoice-actions"],[1,"view-btn"],["class","download-btn",4,"ngIf"],[1,"download-btn"],[1,"dialog-overlay",3,"click"],[1,"dialog-content","invoice-dialog",3,"click"],["class","invoice-detail",4,"ngIf"],[1,"close-btn",3,"click"],[1,"invoice-detail"],[1,"invoice-meta"],[1,"meta-row"],[1,"invoice-items"],[4,"ngFor","ngForOf"],[1,"invoice-total"],[1,"total-row"],["class","total-row",4,"ngIf"],[1,"total-row","grand"]],template:function(e,c){e&1&&(i(0,"div",2)(1,"header",3)(2,"h1"),o(3,"\u652F\u4ED8\u4E2D\u5FC3"),n()(),i(4,"div",4),_(5,G,2,4,"button",5),n(),_(6,ee,21,6,"div",6)(7,oe,10,2,"div",6)(8,le,10,2,"div",6)(9,ue,5,1,"div",7),n()),e&2&&(a(5),d("ngForOf",c.tabs),a(),d("ngIf",c.activeTab()==="quick"),a(),d("ngIf",c.activeTab()==="history"),a(),d("ngIf",c.activeTab()==="invoices"),a(),d("ngIf",c.showInvoiceDialog()))},dependencies:[N,A,z,j,B,R,H,L,q],styles:[".payment-view[_ngcontent-%COMP%]{padding:24px;max-width:900px;margin:0 auto}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 24px;font-size:24px}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;border-bottom:1px solid var(--border-color, #333);padding-bottom:12px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background:transparent;border:none;color:var(--text-secondary, #888);font-size:14px;cursor:pointer;border-radius:8px;transition:all .2s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--bg-secondary, #1a1a1a);color:var(--text-primary, #fff)}.quick-pay-section[_ngcontent-%COMP%]{background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:16px;padding:24px;margin-bottom:24px}.quick-pay-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:18px}.pay-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:13px;color:var(--text-secondary, #888)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;background:var(--bg-tertiary, #2a2a2a);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);font-size:14px}.provider-options[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.provider-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 24px;background:var(--bg-tertiary, #2a2a2a);border:2px solid var(--border-color, #333);border-radius:12px;color:var(--text-primary, #fff);cursor:pointer;transition:all .2s}.provider-options[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:var(--primary, #3b82f6);background:#3b82f61a}.provider-icon[_ngcontent-%COMP%]{font-size:24px}.provider-name[_ngcontent-%COMP%]{font-size:12px}.pay-btn[_ngcontent-%COMP%]{padding:14px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border:none;border-radius:8px;color:#fff;font-size:16px;font-weight:600;cursor:pointer}.pay-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.current-payment[_ngcontent-%COMP%]{background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:16px;padding:24px}.current-payment[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px}.payment-card[_ngcontent-%COMP%]{text-align:center}.payment-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:16px}.payment-id[_ngcontent-%COMP%]{font-family:monospace;color:var(--text-muted, #666)}.payment-amount[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:8px}.payment-status[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:20px}.payment-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.payment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-size:14px;cursor:pointer}.open-pay-btn[_ngcontent-%COMP%]{background:var(--primary, #3b82f6);border:none;color:#fff}.check-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color, #333);color:var(--text-primary, #fff)}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color, #333);color:var(--text-muted, #666)}.qr-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color, #333)}.qr-code[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;word-break:break-all;color:var(--text-muted, #666)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.refresh-btn[_ngcontent-%COMP%]{padding:8px 16px;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);cursor:pointer}.history-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.history-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:12px}.item-icon[_ngcontent-%COMP%]{font-size:24px}.item-info[_ngcontent-%COMP%]{flex:1}.item-desc[_ngcontent-%COMP%]{display:block;font-weight:500}.item-time[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted, #666)}.item-amount[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.item-amount.completed[_ngcontent-%COMP%]{color:#22c55e}.item-status[_ngcontent-%COMP%]{font-size:12px;font-weight:600}.invoices-list[_ngcontent-%COMP%]{display:grid;gap:16px}.invoice-card[_ngcontent-%COMP%]{padding:16px;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:12px;cursor:pointer;transition:all .2s}.invoice-card[_ngcontent-%COMP%]:hover{border-color:var(--primary, #3b82f6)}.invoice-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px}.invoice-number[_ngcontent-%COMP%]{font-weight:600;font-family:monospace}.invoice-status[_ngcontent-%COMP%]{padding:2px 8px;border-radius:4px;font-size:11px}.invoice-status.issued[_ngcontent-%COMP%], .invoice-status.paid[_ngcontent-%COMP%]{background:#22c55e;color:#fff}.invoice-status.draft[_ngcontent-%COMP%]{background:#f59e0b;color:#000}.invoice-amount[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:8px}.invoice-date[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted, #666);margin-bottom:12px}.invoice-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.invoice-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer}.view-btn[_ngcontent-%COMP%]{background:var(--primary, #3b82f6);border:none;color:#fff}.download-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color, #333);color:var(--text-primary, #fff)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px;color:var(--text-muted, #666)}.empty-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:12px}.dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.dialog-content[_ngcontent-%COMP%]{background:var(--bg-primary, #0f0f0f);border-radius:16px;padding:24px;min-width:500px;max-height:80vh;overflow-y:auto}.invoice-detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px}.invoice-meta[_ngcontent-%COMP%]{margin-bottom:20px}.meta-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border-color, #333)}.invoice-items[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid var(--border-color, #333)}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary, #888)}.invoice-total[_ngcontent-%COMP%]{margin-bottom:20px}.total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0}.total-row.grand[_ngcontent-%COMP%]{font-size:18px;font-weight:700;border-top:2px solid var(--border-color, #333);padding-top:12px}.close-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);cursor:pointer}"],changeDetection:0})}};export{W as PaymentViewComponent};
