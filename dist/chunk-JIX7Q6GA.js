import{a as K}from"./chunk-24SFQVZB.js";import"./chunk-FF535MQ4.js";import{b as U,c as z,f as B,t as W}from"./chunk-BCTLVZY2.js";import{b as N}from"./chunk-6FHZTSI7.js";import{o as I}from"./chunk-35776WZA.js";import{Ab as A,Eb as w,Fb as y,Gb as h,La as F,O,T as g,U as p,Ya as u,Za as _,ab as P,bb as M,cb as b,da as f,db as i,eb as n,fb as S,jb as x,nb as v,pb as l,vb as k,wb as T,xa as r,xb as s,yb as m,zb as C}from"./chunk-MB4RORS3.js";var E=(o,t)=>t.id;function R(o,t){if(o&1){let e=x();i(0,"button",7),v("click",function(){let d=g(e).$implicit,c=l();return p(c.activeTab.set(d.id))}),i(1,"span",8),s(2),n(),i(3,"span",9),s(4),n()()}if(o&2){let e=t.$implicit,a=l();k("active",a.activeTab()===e.id),r(2),m(e.icon),r(2),m(a.t(e.label))}}function $(o,t){o&1&&S(0,"span",17)}function j(o,t){o&1&&(i(0,"span",18),s(1,"\u2705 \u5DF2\u4FDD\u5B58"),n())}function G(o,t){if(o&1){let e=x();i(0,"div",6)(1,"h2"),s(2),n(),i(3,"div",10)(4,"label"),s(5),n(),S(6,"input",11),i(7,"span",12),s(8,"\u90F5\u7BB1\u7121\u6CD5\u66F4\u6539"),n()(),i(9,"div",10)(10,"label"),s(11),n(),i(12,"input",13),h("ngModelChange",function(d){g(e);let c=l();return y(c.profileForm.username,d)||(c.profileForm.username=d),p(d)}),n()(),i(13,"div",10)(14,"label"),s(15),n(),i(16,"input",14),h("ngModelChange",function(d){g(e);let c=l();return y(c.profileForm.display_name,d)||(c.profileForm.display_name=d),p(d)}),n()(),i(17,"div",10)(18,"label"),s(19),n(),i(20,"input",15),h("ngModelChange",function(d){g(e);let c=l();return y(c.profileForm.avatar_url,d)||(c.profileForm.avatar_url=d),p(d)}),n()(),i(21,"button",16),v("click",function(){g(e);let d=l();return p(d.saveProfile())}),u(22,$,1,0,"span",17),s(23),n(),u(24,j,2,0,"span",18),n()}if(o&2){let e,a=l();r(2),m(a.t("userSettings.profile")),r(3),m(a.t("auth.email")),r(),b("value",((e=a.user())==null?null:e.email)||""),r(5),m(a.t("auth.username")),r(),w("ngModel",a.profileForm.username),b("placeholder",a.t("auth.usernamePlaceholder")),r(3),m(a.t("userSettings.displayName")),r(),w("ngModel",a.profileForm.display_name),r(3),m(a.t("userSettings.avatarUrl")),r(),w("ngModel",a.profileForm.avatar_url),r(),b("disabled",a.isSaving()),r(),_(a.isSaving()?22:-1),r(),C(" ",a.t("userSettings.updateProfile")," "),r(),_(a.saveSuccess()?24:-1)}}function H(o,t){if(o&1&&(i(0,"div",26),s(1),n()),o&2){let e=l(3);r(),m(e.passwordError())}}function q(o,t){o&1&&S(0,"span",17)}function J(o,t){if(o&1){let e=x();i(0,"div",22)(1,"div",10)(2,"label"),s(3),n(),i(4,"input",24),h("ngModelChange",function(d){g(e);let c=l(2);return y(c.passwordForm.currentPassword,d)||(c.passwordForm.currentPassword=d),p(d)}),n()(),i(5,"div",10)(6,"label"),s(7),n(),i(8,"input",25),h("ngModelChange",function(d){g(e);let c=l(2);return y(c.passwordForm.newPassword,d)||(c.passwordForm.newPassword=d),p(d)}),n()(),i(9,"div",10)(10,"label"),s(11),n(),i(12,"input",25),h("ngModelChange",function(d){g(e);let c=l(2);return y(c.passwordForm.confirmPassword,d)||(c.passwordForm.confirmPassword=d),p(d)}),n()(),u(13,H,2,1,"div",26),i(14,"button",16),v("click",function(){g(e);let d=l(2);return p(d.changePassword())}),u(15,q,1,0,"span",17),s(16," \u78BA\u8A8D\u4FEE\u6539 "),n()()}if(o&2){let e=l(2);r(3),m(e.t("auth.currentPassword")),r(),w("ngModel",e.passwordForm.currentPassword),r(3),m(e.t("auth.newPassword")),r(),w("ngModel",e.passwordForm.newPassword),r(3),m(e.t("auth.confirmNewPassword")),r(),w("ngModel",e.passwordForm.confirmPassword),r(),_(e.passwordError()?13:-1),r(),b("disabled",e.isChangingPassword()),r(),_(e.isChangingPassword()?15:-1)}}function Q(o,t){if(o&1){let e=x();i(0,"div",6)(1,"h2"),s(2),n(),i(3,"div",19)(4,"div",20)(5,"h3"),s(6),n(),i(7,"p"),s(8,"\u5B9A\u671F\u66F4\u63DB\u5BC6\u78BC\u4EE5\u4FDD\u8B77\u5E33\u6236\u5B89\u5168"),n()(),i(9,"button",21),v("click",function(){g(e);let d=l();return p(d.showPasswordForm.set(!d.showPasswordForm()))}),s(10),n()(),u(11,J,17,9,"div",22),i(12,"div",19)(13,"div",20)(14,"h3"),s(15,"\u5169\u6B65\u9A57\u8B49"),n(),i(16,"p"),s(17,"\u589E\u52A0\u5E33\u6236\u5B89\u5168\u6027"),n()(),i(18,"span",23),s(19,"\u5373\u5C07\u63A8\u51FA"),n()()()}if(o&2){let e=l();r(2),m(e.t("userSettings.security")),r(4),m(e.t("auth.changePassword")),r(4),C(" ",e.showPasswordForm()?"\u53D6\u6D88":"\u4FEE\u6539"," "),r(),_(e.showPasswordForm()?11:-1)}}function X(o,t){o&1&&(i(0,"div",34),S(1,"div",17),i(2,"span"),s(3,"\u8F09\u5165\u8A2D\u5099\u5217\u8868..."),n()())}function Y(o,t){o&1&&(i(0,"span",43),s(1,"\u2713 \u7576\u524D\u8A2D\u5099"),n())}function Z(o,t){o&1&&s(0," \u76EE\u524D\u5728\u7DDA ")}function ee(o,t){if(o&1&&s(0),o&2){let e=l().$implicit,a=l(3);C(" \u6700\u5F8C\u6D3B\u52D5: ",a.formatRelativeTime(e.last_activity_at)," ")}}function te(o,t){o&1&&S(0,"span",50)}function ne(o,t){o&1&&s(0," \u767B\u51FA ")}function ie(o,t){if(o&1){let e=x();i(0,"button",49),v("click",function(){g(e);let d=l().$implicit,c=l(3);return p(c.confirmRevokeSession(d))}),u(1,te,1,0,"span",50)(2,ne,1,0),n()}if(o&2){let e=l().$implicit,a=l(3);b("disabled",a.revokingSessionId()===e.id),r(),_(a.revokingSessionId()===e.id?1:2)}}function oe(o,t){if(o&1&&(i(0,"div",39)(1,"div",40),s(2),n(),i(3,"div",41)(4,"div",42)(5,"strong"),s(6),n(),u(7,Y,2,0,"span",43),n(),i(8,"div",44)(9,"span",45)(10,"span",46),s(11,"\u{1F310}"),n(),s(12),n(),i(13,"span",45)(14,"span",46),s(15,"\u{1F4CD}"),n(),s(16),n()(),i(17,"span",47),u(18,Z,1,0)(19,ee,1,1),n()(),u(20,ie,3,2,"button",48),n()),o&2){let e=t.$implicit,a=l(3);k("current",e.is_current),r(),T("device-"+(e.device_type||"unknown")),r(),C(" ",a.getDeviceIcon(e.device_type)," "),r(4),m(e.device_name||"\u672A\u77E5\u8A2D\u5099"),r(),_(e.is_current?7:-1),r(5),C(" ",e.browser||"\u672A\u77E5\u700F\u89BD\u5668"," "),r(4),C(" ",e.location||a.formatIpAddress(e.ip_address)," "),r(2),_(e.is_current?18:19),r(2),_(e.is_current?-1:20)}}function re(o,t){o&1&&(i(0,"div",37)(1,"span",51),s(2,"\u{1F4F1}"),n(),i(3,"p"),s(4,"\u6C92\u6709\u627E\u5230\u767B\u5165\u8A2D\u5099"),n()())}function ae(o,t){if(o&1){let e=x();i(0,"div",38)(1,"button",52),v("click",function(){g(e);let d=l(3);return p(d.confirmRevokeAllSessions())}),s(2),n(),i(3,"p",53),s(4,"\u9019\u5C07\u767B\u51FA\u9664\u7576\u524D\u8A2D\u5099\u5916\u7684\u6240\u6709\u5176\u4ED6\u8A2D\u5099"),n()()}if(o&2){let e=l(3);r(2),C(" \u{1F6AB} ",e.t("userSettings.revokeAllSessions")," ")}}function se(o,t){if(o&1&&(i(0,"div",35),P(1,oe,21,11,"div",36,E,!1,re,5,0,"div",37),n(),u(4,ae,5,1,"div",38)),o&2){let e=l(2);r(),M(e.sessions()),r(3),_(e.sessions().length>1?4:-1)}}function de(o,t){if(o&1){let e=x();i(0,"div",6)(1,"div",27)(2,"div")(3,"h2"),s(4),n(),i(5,"p",28),s(6,"\u7BA1\u7406\u60A8\u5728\u5404\u8A2D\u5099\u4E0A\u7684\u767B\u5165\u72C0\u614B"),n()(),i(7,"button",29),v("click",function(){g(e);let d=l();return p(d.loadSessions())}),i(8,"span"),s(9,"\u{1F504}"),n()()(),i(10,"div",30)(11,"div",31)(12,"span",32),s(13),n(),i(14,"span",33),s(15,"\u5DF2\u767B\u5165\u8A2D\u5099"),n()(),i(16,"div",31)(17,"span",32),s(18),n(),i(19,"span",33),s(20,"\u6700\u8FD1\u6D3B\u8E8D"),n()()(),u(21,X,4,0,"div",34)(22,se,5,2),n()}if(o&2){let e=l();r(4),m(e.t("auth.sessions")),r(3),b("disabled",e.isLoadingSessions()),r(),k("spinning",e.isLoadingSessions()),r(5),m(e.sessions().length),r(5),m(e.getActiveDevicesCount()),r(3),_(e.isLoadingSessions()?21:22)}}function le(o,t){if(o&1){let e=x();i(0,"div",55)(1,"div",56)(2,"strong"),s(3),n(),i(4,"code"),s(5),n(),i(6,"span",57),s(7),n()(),i(8,"button",58),v("click",function(){let d=g(e).$implicit,c=l(2);return p(c.deleteApiKey(d.id))}),s(9),n()()}if(o&2){let e=t.$implicit,a=l(2);r(3),m(e.name),r(2),C("",e.prefix,"...****"),r(2),A(" ",a.t("userSettings.lastUsed"),": ",e.last_used_at?a.formatDate(e.last_used_at):a.t("userSettings.neverUsed")," "),r(2),C(" ",a.t("userSettings.deleteApiKey")," ")}}function ce(o,t){o&1&&(i(0,"p",37),s(1,"\u66AB\u7121 API \u91D1\u9470"),n())}function me(o,t){if(o&1){let e=x();i(0,"div",6)(1,"h2"),s(2),n(),i(3,"p",28),s(4,"\u7528\u65BC\u7A0B\u5E8F\u5316\u8A2A\u554F TG-Matrix API"),n(),i(5,"div",54),P(6,le,10,5,"div",55,E,!1,ce,2,0,"p",37),n(),i(9,"button",21),v("click",function(){g(e);let d=l();return p(d.createApiKey())}),s(10),n()()}if(o&2){let e=l();r(2),m(e.t("userSettings.apiKeys")),r(4),M(e.apiKeys()),r(4),C(" + ",e.t("userSettings.createApiKey")," ")}}var L=class o{constructor(){this.authService=O(K);this.i18n=O(N);this.tabs=[{id:"profile",icon:"\u{1F464}",label:"userSettings.profile"},{id:"security",icon:"\u{1F512}",label:"userSettings.security"},{id:"sessions",icon:"\u{1F4F1}",label:"auth.sessions"},{id:"apiKeys",icon:"\u{1F511}",label:"userSettings.apiKeys"}];this.activeTab=f("profile");this.user=this.authService.user;this.profileForm={username:"",display_name:"",avatar_url:""};this.isSaving=f(!1);this.saveSuccess=f(!1);this.showPasswordForm=f(!1);this.passwordForm={currentPassword:"",newPassword:"",confirmPassword:""};this.isChangingPassword=f(!1);this.passwordError=f(null);this.sessions=f([]);this.isLoadingSessions=f(!1);this.revokingSessionId=f(null);this.apiKeys=f([])}t(t){return this.i18n.t(t)}ngOnInit(){let t=this.user();t&&(this.profileForm={username:t.username||"",display_name:t.display_name||"",avatar_url:t.avatar_url||""}),this.loadSessions()}async saveProfile(){this.isSaving.set(!0),this.saveSuccess.set(!1);try{(await this.authService.updateProfile(this.profileForm)).success&&(this.saveSuccess.set(!0),setTimeout(()=>this.saveSuccess.set(!1),3e3))}finally{this.isSaving.set(!1)}}async changePassword(){if(this.passwordForm.newPassword!==this.passwordForm.confirmPassword){this.passwordError.set("\u65B0\u5BC6\u78BC\u4E0D\u5339\u914D");return}this.isChangingPassword.set(!0),this.passwordError.set(null);try{let t=await this.authService.changePassword(this.passwordForm.currentPassword,this.passwordForm.newPassword);t.success?(this.showPasswordForm.set(!1),this.passwordForm={currentPassword:"",newPassword:"",confirmPassword:""}):this.passwordError.set(t.error||"\u4FEE\u6539\u5931\u6557")}finally{this.isChangingPassword.set(!1)}}async loadSessions(){this.isLoadingSessions.set(!0);try{let t=await this.authService.getSessions();this.sessions.set(t)}finally{this.isLoadingSessions.set(!1)}}async revokeSession(t){await this.authService.revokeSession(t)&&this.sessions.update(a=>a.filter(d=>d.id!==t))}async confirmRevokeSession(t){let e=t.device_name||"\u672A\u77E5\u8A2D\u5099";if(confirm(`\u78BA\u5B9A\u8981\u767B\u51FA\u300C${e}\u300D\u55CE\uFF1F

\u8A72\u8A2D\u5099\u5C07\u9700\u8981\u91CD\u65B0\u767B\u5165\u624D\u80FD\u4F7F\u7528\u3002`)){this.revokingSessionId.set(t.id);try{await this.revokeSession(t.id)}finally{this.revokingSessionId.set(null)}}}async confirmRevokeAllSessions(){let t=this.sessions().filter(e=>!e.is_current);if(t.length===0){alert("\u6C92\u6709\u5176\u4ED6\u8A2D\u5099\u9700\u8981\u767B\u51FA");return}confirm(`\u78BA\u5B9A\u8981\u767B\u51FA\u6240\u6709\u5176\u4ED6 ${t.length} \u500B\u8A2D\u5099\u55CE\uFF1F

\u9019\u4E9B\u8A2D\u5099\u5C07\u9700\u8981\u91CD\u65B0\u767B\u5165\u624D\u80FD\u4F7F\u7528\u3002`)&&await this.revokeAllSessions()}async revokeAllSessions(){let t=await this.authService.revokeAllOtherSessions();t>0&&(await this.loadSessions(),alert(`\u5DF2\u6210\u529F\u767B\u51FA ${t} \u500B\u8A2D\u5099`))}getActiveDevicesCount(){let t=Date.now()-864e5;return this.sessions().filter(e=>e.is_current?!0:e.last_activity_at?new Date(e.last_activity_at).getTime()>t:!1).length}formatIpAddress(t){if(!t)return"\u672A\u77E5\u4F4D\u7F6E";let e=t.split(".");return e.length===4?`${e[0]}.${e[1]}.${e[2]}.*`:t}formatRelativeTime(t){if(!t)return"\u672A\u77E5";let e=new Date(t),d=new Date().getTime()-e.getTime(),c=Math.floor(d/6e4),D=Math.floor(d/36e5),V=Math.floor(d/864e5);return c<1?"\u525B\u525B":c<60?`${c} \u5206\u9418\u524D`:D<24?`${D} \u5C0F\u6642\u524D`:V<7?`${V} \u5929\u524D`:this.formatDate(t)}createApiKey(){}deleteApiKey(t){}getDeviceIcon(t){return{desktop:"\u{1F4BB}",web:"\u{1F310}",mobile:"\u{1F4F1}",tablet:"\u{1F4F1}"}[t]||"\u{1F4BB}"}formatDate(t){return t?new Date(t).toLocaleDateString("zh-TW",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"\u672A\u77E5"}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=F({type:o,selectors:[["app-user-settings-view"]],decls:13,vars:5,consts:[[1,"user-settings-page"],[1,"page-header"],[1,"settings-container"],[1,"settings-nav"],[1,"nav-item",3,"active"],[1,"settings-content"],[1,"settings-section"],[1,"nav-item",3,"click"],[1,"nav-icon"],[1,"nav-label"],[1,"form-group"],["type","email","disabled","",1,"input-disabled",3,"value"],[1,"hint"],["type","text",3,"ngModelChange","ngModel","placeholder"],["type","text","placeholder","\u60A8\u7684\u986F\u793A\u540D\u7A31",3,"ngModelChange","ngModel"],["type","url","placeholder","https://...",3,"ngModelChange","ngModel"],[1,"btn-primary",3,"click","disabled"],[1,"loading-spinner"],[1,"success-message"],[1,"security-item"],[1,"item-info"],[1,"btn-secondary",3,"click"],[1,"password-form"],[1,"badge"],["type","password","autocomplete","current-password",3,"ngModelChange","ngModel"],["type","password","autocomplete","new-password",3,"ngModelChange","ngModel"],[1,"error-message"],[1,"section-header"],[1,"section-desc"],[1,"btn-refresh",3,"click","disabled"],[1,"device-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"loading-state"],[1,"sessions-list"],[1,"session-item",3,"current"],[1,"empty-state"],[1,"session-actions"],[1,"session-item"],[1,"session-icon"],[1,"session-info"],[1,"session-header"],[1,"current-badge"],[1,"session-details"],[1,"detail-item"],[1,"detail-icon"],[1,"session-time"],[1,"btn-revoke",3,"disabled"],[1,"btn-revoke",3,"click","disabled"],[1,"btn-spinner"],[1,"empty-icon"],[1,"btn-danger-outline",3,"click"],[1,"action-hint"],[1,"api-keys-list"],[1,"api-key-item"],[1,"key-info"],[1,"key-meta"],[1,"btn-danger-small",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"header",1)(2,"h1"),s(3),n()(),i(4,"div",2)(5,"nav",3),P(6,R,5,4,"button",4,E),n(),i(8,"div",5),u(9,G,25,14,"div",6),u(10,Q,20,4,"div",6),u(11,de,23,7,"div",6),u(12,me,11,3,"div",6),n()()()),e&2&&(r(3),m(a.t("userSettings.title")),r(3),M(a.tabs),r(3),_(a.activeTab()==="profile"?9:-1),r(),_(a.activeTab()==="security"?10:-1),r(),_(a.activeTab()==="sessions"?11:-1),r(),_(a.activeTab()==="apiKeys"?12:-1))},dependencies:[I,W,U,z,B],styles:[".user-settings-page[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:1.5rem}.settings-container[_ngcontent-%COMP%]{display:flex;gap:2rem;background:var(--bg-secondary, #1a1a1a);border-radius:12px;overflow:hidden}.settings-nav[_ngcontent-%COMP%]{width:240px;padding:1rem;background:var(--bg-tertiary, #151515);border-right:1px solid var(--border-color, #333)}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem 1rem;background:transparent;border:none;border-radius:8px;color:var(--text-secondary, #888);font-size:.875rem;cursor:pointer;transition:all .2s ease;text-align:left}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:var(--text-primary, #fff)}.nav-item.active[_ngcontent-%COMP%]{background:var(--primary, #3b82f6);color:#fff}.nav-icon[_ngcontent-%COMP%]{font-size:1.25rem}.settings-content[_ngcontent-%COMP%]{flex:1;padding:2rem}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem}.section-desc[_ngcontent-%COMP%]{color:var(--text-secondary, #888);margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--text-secondary, #aaa);margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:.75rem 1rem;background:var(--bg-primary, #0f0f0f);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);font-size:.875rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary, #3b82f6)}.input-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-muted, #666);margin-top:.25rem}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:var(--primary, #3b82f6);border:none;border-radius:8px;color:#fff;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-hover, #2563eb)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{padding:.5rem 1rem;background:transparent;border:1px solid var(--border-color, #333);border-radius:6px;color:var(--text-primary, #fff);font-size:.875rem;cursor:pointer;transition:all .2s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff0d;border-color:var(--border-hover, #444)}.btn-danger-small[_ngcontent-%COMP%]{padding:.375rem .75rem;background:transparent;border:1px solid rgba(239,68,68,.5);border-radius:6px;color:#f87171;font-size:.75rem;cursor:pointer;transition:all .2s ease}.btn-danger-small[_ngcontent-%COMP%]:hover{background:#ef44441a}.btn-danger[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:8px;color:#f87171;font-size:.875rem;cursor:pointer;margin-top:1rem}.btn-danger[_ngcontent-%COMP%]:hover{background:#ef444433}.security-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:var(--bg-primary, #0f0f0f);border-radius:8px;margin-bottom:1rem}.item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;margin-bottom:.25rem}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #888)}.password-form[_ngcontent-%COMP%]{padding:1rem;background:var(--bg-primary, #0f0f0f);border-radius:8px;margin-bottom:1rem}.sessions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.session-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--bg-primary, #0f0f0f);border-radius:8px;border:1px solid transparent}.session-item.current[_ngcontent-%COMP%]{border-color:var(--primary, #3b82f6)}.session-icon[_ngcontent-%COMP%]{font-size:1.5rem}.session-info[_ngcontent-%COMP%]{flex:1}.session-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:.875rem}.session-meta[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #888)}.current-badge[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .5rem;background:linear-gradient(135deg,#10b981,#059669);border-radius:4px;font-size:.625rem;color:#fff;margin-left:.5rem}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem}.btn-refresh[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color, #333);border-radius:8px;padding:.5rem;cursor:pointer;font-size:1rem;transition:all .2s}.btn-refresh[_ngcontent-%COMP%]:hover{background:var(--bg-primary, #0f0f0f);border-color:var(--primary, #3b82f6)}.btn-refresh[_ngcontent-%COMP%]   .spinning[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_spin 1s linear infinite}.device-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1.5rem}.stat-item[_ngcontent-%COMP%]{background:var(--bg-primary, #0f0f0f);border-radius:12px;padding:1rem;text-align:center}.stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;background:linear-gradient(135deg,#0ea5e9,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #888)}.session-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.25rem;background:var(--bg-primary, #0f0f0f);border-radius:12px;border:1px solid transparent;transition:all .2s}.session-item[_ngcontent-%COMP%]:hover{border-color:var(--border-color, #333)}.session-item.current[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,rgba(16,185,129,.1),transparent)}.session-icon[_ngcontent-%COMP%]{font-size:2rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--bg-secondary, #1a1a1a);border-radius:12px}.session-icon.device-desktop[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f633,#3b82f61a)}.session-icon.device-mobile[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98133,#10b9811a)}.session-icon.device-web[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf633,#8b5cf61a)}.session-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.session-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.95rem}.session-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:var(--text-secondary, #888)}.detail-icon[_ngcontent-%COMP%]{font-size:.9rem}.session-time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted, #666)}.btn-revoke[_ngcontent-%COMP%]{background:transparent;border:1px solid #f87171;color:#f87171;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-size:.8rem;transition:all .2s;min-width:60px}.btn-revoke[_ngcontent-%COMP%]:hover{background:#f871711a}.btn-revoke[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-spinner[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;border:2px solid rgba(248,113,113,.3);border-top-color:#f87171;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.session-actions[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color, #333);text-align:center}.btn-danger-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid #ef4444;color:#ef4444;padding:.75rem 1.5rem;border-radius:8px;cursor:pointer;font-size:.9rem;transition:all .2s}.btn-danger-outline[_ngcontent-%COMP%]:hover{background:#ef44441a}.action-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted, #666);margin-top:.5rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--text-secondary, #888)}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;display:block;margin-bottom:1rem;opacity:.5}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:3rem;color:var(--text-secondary, #888)}.loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid var(--border-color, #333);border-top-color:var(--primary, #3b82f6);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.api-keys-list[_ngcontent-%COMP%]{margin-bottom:1rem}.api-key-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:var(--bg-primary, #0f0f0f);border-radius:8px;margin-bottom:.75rem}.key-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.key-info[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem;color:var(--text-secondary, #888)}.key-meta[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted, #666)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary, #888)}.loading-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{margin-left:1rem;color:#4ade80;font-size:.875rem}.error-message[_ngcontent-%COMP%]{padding:.5rem;background:#ef44441a;border-radius:4px;color:#f87171;font-size:.875rem;margin-bottom:1rem}.badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:var(--bg-tertiary, #252525);border-radius:4px;font-size:.75rem;color:var(--text-secondary, #888)}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary, #888)}@media(max-width:768px){.settings-container[_ngcontent-%COMP%]{flex-direction:column}.settings-nav[_ngcontent-%COMP%]{width:100%;flex-direction:row;overflow-x:auto;border-right:none;border-bottom:1px solid var(--border-color, #333)}}"],changeDetection:0})}};export{L as UserSettingsViewComponent};
