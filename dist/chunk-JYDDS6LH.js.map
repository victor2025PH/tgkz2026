{
  "version": 3,
  "sources": ["src/services/monitoring-management.service.ts"],
  "sourcesContent": ["/**\r\n * Monitoring Management Service\r\n * Áõ£ÊéßÁÆ°ÁêÜÊúçÂãô\r\n * \r\n * üÜï Phase 19: Âæû app.component.ts ÊèêÂèñ\r\n * \r\n * ÁÆ°ÁêÜÁæ§ÁµÑÁõ£Êéß„ÄÅÈóúÈçµË©ûÂåπÈÖç„ÄÅËß∏ÁôºË¶èÂâáÁ≠âÂäüËÉΩ\r\n */\r\n\r\nimport { Injectable, signal, inject, computed } from '@angular/core';\r\nimport { IpcService } from '../ipc.service';\r\nimport { ToastService } from '../toast.service';\r\n\r\n// È°ûÂûãÂÆöÁæ©\r\nexport interface MonitoredGroup {\r\n  id: number;\r\n  name: string;\r\n  username?: string;\r\n  url?: string;\r\n  member_count?: number;\r\n  status: 'active' | 'paused' | 'error';\r\n  keywordSetId?: number;\r\n  accountPhone?: string;\r\n  lastActivity?: string;\r\n  messagesCount?: number;\r\n  matchedCount?: number;\r\n}\r\n\r\nexport interface KeywordSet {\r\n  id: number;\r\n  name: string;\r\n  keywords: KeywordConfig[];\r\n  active: boolean;\r\n  matchCount?: number;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface KeywordConfig {\r\n  keyword: string;\r\n  isRegex: boolean;\r\n  caseSensitive?: boolean;\r\n}\r\n\r\nexport interface TriggerRule {\r\n  id: number;\r\n  name: string;\r\n  keywordSetId: number;\r\n  sourceGroupIds: number[];\r\n  action: TriggerAction;\r\n  active: boolean;\r\n  triggerCount?: number;\r\n}\r\n\r\nexport interface TriggerAction {\r\n  type: 'send_message' | 'add_to_funnel' | 'notify' | 'extract_member';\r\n  templateId?: number;\r\n  targetGroupId?: number;\r\n  delaySeconds?: number;\r\n}\r\n\r\nexport interface JoinMonitorConfig {\r\n  resourceId: number;\r\n  resourceTitle: string;\r\n  accountPhone: string;\r\n  selectedKeywordSetId: number | null;\r\n  customKeywords: string[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MonitoringManagementService {\r\n  private ipcService = inject(IpcService);\r\n  private toastService = inject(ToastService);\r\n  \r\n  // ÁãÄÊÖã\r\n  readonly monitoredGroups = signal<MonitoredGroup[]>([]);\r\n  readonly keywordSets = signal<KeywordSet[]>([]);\r\n  readonly triggerRules = signal<TriggerRule[]>([]);\r\n  readonly monitoringActive = signal(false);\r\n  \r\n  // Âä†ÂÖ•Áõ£ÊéßÂ∞çË©±Ê°ÜÁãÄÊÖã\r\n  readonly showJoinMonitorDialog = signal(false);\r\n  readonly joinMonitorConfig = signal<JoinMonitorConfig>({\r\n    resourceId: 0,\r\n    resourceTitle: '',\r\n    accountPhone: '',\r\n    selectedKeywordSetId: null,\r\n    customKeywords: []\r\n  });\r\n  \r\n  // Âø´ÈÄüÂâµÂª∫ÈóúÈçµË©ûÈõÜ\r\n  readonly showQuickCreateKeywordSet = signal(false);\r\n  readonly quickKeywordSetName = signal('');\r\n  readonly quickKeywords = signal<string[]>([]);\r\n  readonly quickKeywordInput = signal('');\r\n  \r\n  // ÊâπÈáèÂä†ÂÖ•Áõ£Êéß\r\n  readonly showBatchJoinMonitorDialog = signal(false);\r\n  readonly batchJoinMonitorProgress = signal(0);\r\n  readonly isBatchJoining = signal(false);\r\n  \r\n  // Ë®àÁÆóÂ±¨ÊÄß\r\n  readonly activeMonitoredGroups = computed(() => \r\n    this.monitoredGroups().filter(g => g.status === 'active')\r\n  );\r\n  \r\n  readonly activeKeywordSets = computed(() => \r\n    this.keywordSets().filter(s => s.active)\r\n  );\r\n  \r\n  readonly totalMatchedCount = computed(() => \r\n    this.monitoredGroups().reduce((sum, g) => sum + (g.matchedCount || 0), 0)\r\n  );\r\n  \r\n  // Êé®Ëñ¶ÈóúÈçµË©û\r\n  readonly recommendedKeywords = [\r\n    '‰ªòÊ¨æ', 'ÊîØ‰ªò', 'Êî∂Ê¨æ', 'USDT', 'BTC', 'ÊØîÁâπÂπ£',\r\n    'ÊäïË≥á', 'ÁêÜË≤°', 'Ë≥∫Èå¢', 'ÂÖºËÅ∑', '‰ª£ÁêÜ', 'Âêà‰Ωú'\r\n  ];\r\n  \r\n  constructor() {\r\n    this.setupIpcListeners();\r\n  }\r\n  \r\n  // ==================== Âä†ËºâÊñπÊ≥ï ====================\r\n  \r\n  loadMonitoredGroups(): void {\r\n    this.ipcService.send('get-monitored-groups', {});\r\n  }\r\n  \r\n  loadKeywordSets(): void {\r\n    this.ipcService.send('get-keyword-sets', {});\r\n  }\r\n  \r\n  loadTriggerRules(): void {\r\n    this.ipcService.send('get-trigger-rules', {});\r\n  }\r\n  \r\n  loadAllMonitoringData(): void {\r\n    this.loadMonitoredGroups();\r\n    this.loadKeywordSets();\r\n    this.loadTriggerRules();\r\n  }\r\n  \r\n  // ==================== Áõ£ÊéßÁæ§ÁµÑÊìç‰Ωú ====================\r\n  \r\n  startMonitoring(): void {\r\n    this.ipcService.send('start-monitoring', {});\r\n    this.monitoringActive.set(true);\r\n  }\r\n  \r\n  stopMonitoring(): void {\r\n    this.ipcService.send('stop-monitoring', {});\r\n    this.monitoringActive.set(false);\r\n  }\r\n  \r\n  toggleMonitoring(): void {\r\n    if (this.monitoringActive()) {\r\n      this.stopMonitoring();\r\n    } else {\r\n      this.startMonitoring();\r\n    }\r\n  }\r\n  \r\n  addMonitoredGroup(group: Partial<MonitoredGroup>): void {\r\n    this.ipcService.send('add-monitored-group', group);\r\n  }\r\n  \r\n  removeMonitoredGroup(groupId: number): void {\r\n    if (!confirm('Á¢∫ÂÆöË¶ÅÂÅúÊ≠¢Áõ£ÊéßÊ≠§Áæ§ÁµÑÂóéÔºü')) return;\r\n    this.ipcService.send('remove-monitored-group', { id: groupId });\r\n  }\r\n  \r\n  pauseMonitoredGroup(groupId: number): void {\r\n    this.ipcService.send('pause-monitored-group', { id: groupId });\r\n  }\r\n  \r\n  resumeMonitoredGroup(groupId: number): void {\r\n    this.ipcService.send('resume-monitored-group', { id: groupId });\r\n  }\r\n  \r\n  // ==================== Âä†ÂÖ•‰∏¶Áõ£Êéß ====================\r\n  \r\n  openJoinAndMonitorDialog(resource: any): void {\r\n    this.joinMonitorConfig.set({\r\n      resourceId: resource.id,\r\n      resourceTitle: resource.title || resource.name,\r\n      accountPhone: '',\r\n      selectedKeywordSetId: null,\r\n      customKeywords: []\r\n    });\r\n    this.showJoinMonitorDialog.set(true);\r\n  }\r\n  \r\n  closeJoinMonitorDialog(): void {\r\n    this.showJoinMonitorDialog.set(false);\r\n  }\r\n  \r\n  selectMonitorAccount(phone: string): void {\r\n    this.joinMonitorConfig.update(c => ({ ...c, accountPhone: phone }));\r\n  }\r\n  \r\n  selectKeywordSet(setId: number): void {\r\n    this.joinMonitorConfig.update(c => ({ ...c, selectedKeywordSetId: setId }));\r\n  }\r\n  \r\n  addMonitorKeyword(keyword?: string): void {\r\n    const kw = keyword || this.quickKeywordInput().trim();\r\n    if (!kw) return;\r\n    \r\n    this.joinMonitorConfig.update(c => ({\r\n      ...c,\r\n      customKeywords: [...c.customKeywords, kw]\r\n    }));\r\n    this.quickKeywordInput.set('');\r\n  }\r\n  \r\n  removeMonitorKeyword(keyword: string): void {\r\n    this.joinMonitorConfig.update(c => ({\r\n      ...c,\r\n      customKeywords: c.customKeywords.filter(k => k !== keyword)\r\n    }));\r\n  }\r\n  \r\n  executeJoinAndMonitor(): void {\r\n    const config = this.joinMonitorConfig();\r\n    \r\n    if (!config.accountPhone) {\r\n      this.toastService.warning('Ë´ãÈÅ∏ÊìáÂü∑Ë°åÂ∏≥Ëôü');\r\n      return;\r\n    }\r\n    \r\n    if (!config.selectedKeywordSetId && config.customKeywords.length === 0) {\r\n      this.toastService.warning('Ë´ãÈÅ∏ÊìáÈóúÈçµË©ûÈõÜÊàñÊ∑ªÂä†Ëá™ÂÆöÁæ©ÈóúÈçµË©û');\r\n      return;\r\n    }\r\n    \r\n    this.ipcService.send('join-and-monitor', {\r\n      resourceId: config.resourceId,\r\n      accountPhone: config.accountPhone,\r\n      keywordSetId: config.selectedKeywordSetId,\r\n      customKeywords: config.customKeywords\r\n    });\r\n    \r\n    this.closeJoinMonitorDialog();\r\n    this.toastService.success('Ê≠£Âú®Âä†ÂÖ•‰∏¶Ë®≠ÁΩÆÁõ£Êéß...');\r\n  }\r\n  \r\n  // ==================== Âø´ÈÄüÂâµÂª∫ÈóúÈçµË©ûÈõÜ ====================\r\n  \r\n  openQuickCreateKeywordSet(): void {\r\n    this.quickKeywordSetName.set('');\r\n    this.quickKeywords.set([]);\r\n    this.quickKeywordInput.set('');\r\n    this.showQuickCreateKeywordSet.set(true);\r\n  }\r\n  \r\n  closeQuickCreateKeywordSet(): void {\r\n    this.showQuickCreateKeywordSet.set(false);\r\n  }\r\n  \r\n  addQuickKeyword(): void {\r\n    const keyword = this.quickKeywordInput().trim();\r\n    if (!keyword) return;\r\n    \r\n    this.quickKeywords.update(kws => [...kws, keyword]);\r\n    this.quickKeywordInput.set('');\r\n  }\r\n  \r\n  removeQuickKeyword(keyword: string): void {\r\n    this.quickKeywords.update(kws => kws.filter(k => k !== keyword));\r\n  }\r\n  \r\n  addQuickRecommendedKeyword(keyword: string): void {\r\n    if (!this.quickKeywords().includes(keyword)) {\r\n      this.quickKeywords.update(kws => [...kws, keyword]);\r\n    }\r\n  }\r\n  \r\n  executeQuickCreateKeywordSet(): void {\r\n    const name = this.quickKeywordSetName().trim();\r\n    const keywords = this.quickKeywords();\r\n    \r\n    if (!name) {\r\n      this.toastService.warning('Ë´ãËº∏ÂÖ•ÈóúÈçµË©ûÈõÜÂêçÁ®±');\r\n      return;\r\n    }\r\n    \r\n    if (keywords.length === 0) {\r\n      this.toastService.warning('Ë´ãÊ∑ªÂä†Ëá≥Â∞ë‰∏ÄÂÄãÈóúÈçµË©û');\r\n      return;\r\n    }\r\n    \r\n    this.ipcService.send('create-keyword-set', {\r\n      name,\r\n      keywords: keywords.map(k => ({ keyword: k, isRegex: false }))\r\n    });\r\n    \r\n    this.closeQuickCreateKeywordSet();\r\n    this.toastService.success('ÈóúÈçµË©ûÈõÜÂâµÂª∫ÊàêÂäü');\r\n  }\r\n  \r\n  // ==================== ÊâπÈáèÂä†ÂÖ•Áõ£Êéß ====================\r\n  \r\n  openBatchJoinMonitorDialog(): void {\r\n    this.batchJoinMonitorProgress.set(0);\r\n    this.isBatchJoining.set(false);\r\n    this.showBatchJoinMonitorDialog.set(true);\r\n  }\r\n  \r\n  closeBatchJoinMonitorDialog(): void {\r\n    this.showBatchJoinMonitorDialog.set(false);\r\n  }\r\n  \r\n  executeBatchJoinMonitor(resources: any[], accountPhone: string, keywordSetId: number): void {\r\n    if (resources.length === 0) {\r\n      this.toastService.warning('Ë´ãÈÅ∏ÊìáË¶ÅÂä†ÂÖ•ÁöÑÁæ§ÁµÑ');\r\n      return;\r\n    }\r\n    \r\n    if (!accountPhone) {\r\n      this.toastService.warning('Ë´ãÈÅ∏ÊìáÂü∑Ë°åÂ∏≥Ëôü');\r\n      return;\r\n    }\r\n    \r\n    this.isBatchJoining.set(true);\r\n    this.batchJoinMonitorProgress.set(0);\r\n    \r\n    this.ipcService.send('batch-join-and-monitor', {\r\n      resourceIds: resources.map(r => r.id),\r\n      accountPhone,\r\n      keywordSetId\r\n    });\r\n  }\r\n  \r\n  // ==================== ÈóúÈçµË©ûÈõÜÊìç‰Ωú ====================\r\n  \r\n  createKeywordSet(name: string, keywords: KeywordConfig[]): void {\r\n    this.ipcService.send('create-keyword-set', { name, keywords });\r\n  }\r\n  \r\n  deleteKeywordSet(setId: number): void {\r\n    if (!confirm('Á¢∫ÂÆöË¶ÅÂà™Èô§Ê≠§ÈóúÈçµË©ûÈõÜÂóéÔºü')) return;\r\n    this.ipcService.send('delete-keyword-set', { id: setId });\r\n  }\r\n  \r\n  toggleKeywordSetStatus(setId: number): void {\r\n    this.ipcService.send('toggle-keyword-set-status', { id: setId });\r\n  }\r\n  \r\n  addKeywordToSet(setId: number, keyword: KeywordConfig): void {\r\n    this.ipcService.send('add-keyword-to-set', { setId, keyword });\r\n  }\r\n  \r\n  removeKeywordFromSet(setId: number, keyword: string): void {\r\n    this.ipcService.send('remove-keyword-from-set', { setId, keyword });\r\n  }\r\n  \r\n  // ==================== Ëß∏ÁôºË¶èÂâáÊìç‰Ωú ====================\r\n  \r\n  createTriggerRule(rule: Partial<TriggerRule>): void {\r\n    this.ipcService.send('create-trigger-rule', rule);\r\n  }\r\n  \r\n  deleteTriggerRule(ruleId: number): void {\r\n    if (!confirm('Á¢∫ÂÆöË¶ÅÂà™Èô§Ê≠§Ëß∏ÁôºË¶èÂâáÂóéÔºü')) return;\r\n    this.ipcService.send('delete-trigger-rule', { id: ruleId });\r\n  }\r\n  \r\n  toggleTriggerRuleStatus(ruleId: number): void {\r\n    this.ipcService.send('toggle-trigger-rule-status', { id: ruleId });\r\n  }\r\n  \r\n  // ==================== ËºîÂä©ÊñπÊ≥ï ====================\r\n  \r\n  getKeywordSetName(setId: number): string {\r\n    return this.keywordSets().find(s => s.id === setId)?.name || 'Unknown';\r\n  }\r\n  \r\n  getKeywordPreview(keywords: KeywordConfig[]): string {\r\n    if (!keywords || keywords.length === 0) return '';\r\n    const preview = keywords.slice(0, 3).map(k => k.keyword).join(', ');\r\n    if (keywords.length > 3) {\r\n      return `${preview} Á≠â ${keywords.length} ÂÄã`;\r\n    }\r\n    return preview;\r\n  }\r\n  \r\n  getRecommendedKeywords(): string[] {\r\n    return this.recommendedKeywords;\r\n  }\r\n  \r\n  // ==================== IPC ‰∫ã‰ª∂ËôïÁêÜ ====================\r\n  \r\n  private setupIpcListeners(): void {\r\n    this.ipcService.on('monitored-groups-result', (data: any) => this.handleMonitoredGroups(data));\r\n    this.ipcService.on('keyword-sets-result', (data: any) => this.handleKeywordSets(data));\r\n    this.ipcService.on('trigger-rules-result', (data: any) => this.handleTriggerRules(data));\r\n    // üîß P0‰øÆÂæ©: Áõ£ËÅΩÊâÄÊúâÁõ£ÊéßÁãÄÊÖãÁõ∏Èóú‰∫ã‰ª∂\r\n    this.ipcService.on('monitoring-started', (data: any) => {\r\n      console.log('[MonitoringManagement] monitoring-started:', data);\r\n      this.monitoringActive.set(true);\r\n    });\r\n    this.ipcService.on('monitoring-stopped', () => {\r\n      console.log('[MonitoringManagement] monitoring-stopped');\r\n      this.monitoringActive.set(false);\r\n    });\r\n    this.ipcService.on('monitoring-status-changed', (active: boolean) => {\r\n      console.log('[MonitoringManagement] monitoring-status-changed:', active);\r\n      this.monitoringActive.set(active);\r\n    });\r\n    this.ipcService.on('monitoring-status', (data: { isMonitoring?: boolean; active?: boolean }) => {\r\n      const isActive = data.isMonitoring ?? data.active ?? false;\r\n      console.log('[MonitoringManagement] monitoring-status:', isActive);\r\n      this.monitoringActive.set(isActive);\r\n    });\r\n    this.ipcService.on('group-added-to-monitor', (data: any) => this.handleGroupAdded(data));\r\n    this.ipcService.on('keyword-set-created', (data: any) => this.handleKeywordSetCreated(data));\r\n    this.ipcService.on('batch-join-progress', (data: any) => this.handleBatchJoinProgress(data));\r\n    this.ipcService.on('batch-join-completed', (data: any) => this.handleBatchJoinCompleted(data));\r\n  }\r\n  \r\n  private handleMonitoredGroups(data: any): void {\r\n    if (data.success || data.groups) {\r\n      this.monitoredGroups.set(data.groups || []);\r\n    }\r\n  }\r\n  \r\n  private handleKeywordSets(data: any): void {\r\n    if (data.success || data.sets) {\r\n      this.keywordSets.set(data.sets || []);\r\n    }\r\n  }\r\n  \r\n  private handleTriggerRules(data: any): void {\r\n    if (data.success || data.rules) {\r\n      this.triggerRules.set(data.rules || []);\r\n    }\r\n  }\r\n  \r\n  private handleGroupAdded(data: any): void {\r\n    if (data.success) {\r\n      this.toastService.success('Áæ§ÁµÑÂ∑≤Âä†ÂÖ•Áõ£Êéß');\r\n      this.loadMonitoredGroups();\r\n    } else {\r\n      this.toastService.error(`Âä†ÂÖ•Â§±Êïó: ${data.error}`);\r\n    }\r\n  }\r\n  \r\n  private handleKeywordSetCreated(data: any): void {\r\n    if (data.success) {\r\n      this.loadKeywordSets();\r\n    }\r\n  }\r\n  \r\n  private handleBatchJoinProgress(data: any): void {\r\n    this.batchJoinMonitorProgress.set(data.progress || 0);\r\n  }\r\n  \r\n  private handleBatchJoinCompleted(data: any): void {\r\n    this.isBatchJoining.set(false);\r\n    this.batchJoinMonitorProgress.set(100);\r\n    \r\n    if (data.success) {\r\n      this.toastService.success(`ÊâπÈáèÂä†ÂÖ•ÂÆåÊàê: ${data.successCount}/${data.totalCount} ÂÄãÁæ§ÁµÑ`);\r\n      this.loadMonitoredGroups();\r\n    } else {\r\n      this.toastService.error(`ÊâπÈáèÂä†ÂÖ•Â§±Êïó: ${data.error}`);\r\n    }\r\n    \r\n    setTimeout(() => this.closeBatchJoinMonitorDialog(), 1500);\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAuEM,IAAO,8BAAP,MAAO,6BAA2B;EAkDtC,cAAA;AAjDQ,SAAA,aAAa,OAAO,kBAAU;AAC9B,SAAA,eAAe,OAAO,YAAY;AAGjC,SAAA,kBAAkB,OAAyB,CAAA,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,kBAAA,CAAA,IAAA,CAAA,CAAA;AAC7C,SAAA,cAAc,OAAqB,CAAA,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,cAAA,CAAA,IAAA,CAAA,CAAA;AACrC,SAAA,eAAe,OAAsB,CAAA,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,eAAA,CAAA,IAAA,CAAA,CAAA;AACvC,SAAA,mBAAmB,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,mBAAA,CAAA,IAAA,CAAA,CAAA;AAG/B,SAAA,wBAAwB,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,wBAAA,CAAA,IAAA,CAAA,CAAA;AACpC,SAAA,oBAAoB,OAA0B;MACrD,YAAY;MACZ,eAAe;MACf,cAAc;MACd,sBAAsB;MACtB,gBAAgB,CAAA;OACjB,GAAA,YAAA,CAAA,EAAA,WAAA,oBAAA,CAAA,IAAA,CAAA,CAAA;AAGQ,SAAA,4BAA4B,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,4BAAA,CAAA,IAAA,CAAA,CAAA;AACxC,SAAA,sBAAsB,OAAO,IAAE,GAAA,YAAA,CAAA,EAAA,WAAA,sBAAA,CAAA,IAAA,CAAA,CAAA;AAC/B,SAAA,gBAAgB,OAAiB,CAAA,GAAE,GAAA,YAAA,CAAA,EAAA,WAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;AACnC,SAAA,oBAAoB,OAAO,IAAE,GAAA,YAAA,CAAA,EAAA,WAAA,oBAAA,CAAA,IAAA,CAAA,CAAA;AAG7B,SAAA,6BAA6B,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,6BAAA,CAAA,IAAA,CAAA,CAAA;AACzC,SAAA,2BAA2B,OAAO,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,2BAAA,CAAA,IAAA,CAAA,CAAA;AACnC,SAAA,iBAAiB,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,iBAAA,CAAA,IAAA,CAAA,CAAA;AAG7B,SAAA,wBAAwB,SAAS,MACxC,KAAK,gBAAe,EAAG,OAAO,OAAK,EAAE,WAAW,QAAQ,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,wBAAA,CAAA,IAAA,CAAA,CAAA;AAGlD,SAAA,oBAAoB,SAAS,MACpC,KAAK,YAAW,EAAG,OAAO,OAAK,EAAE,MAAM,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,oBAAA,CAAA,IAAA,CAAA,CAAA;AAGjC,SAAA,oBAAoB,SAAS,MACpC,KAAK,gBAAe,EAAG,OAAO,CAAC,KAAK,MAAM,OAAO,EAAE,gBAAgB,IAAI,CAAC,GAAC,GAAA,YAAA,CAAA,EAAA,WAAA,oBAAA,CAAA,IAAA,CAAA,CAAA;AAIlE,SAAA,sBAAsB;MAC7B;MAAM;MAAM;MAAM;MAAQ;MAAO;MACjC;MAAM;MAAM;MAAM;MAAM;MAAM;;AAI9B,SAAK,kBAAiB;EACxB;;EAIA,sBAAmB;AACjB,SAAK,WAAW,KAAK,wBAAwB,CAAA,CAAE;EACjD;EAEA,kBAAe;AACb,SAAK,WAAW,KAAK,oBAAoB,CAAA,CAAE;EAC7C;EAEA,mBAAgB;AACd,SAAK,WAAW,KAAK,qBAAqB,CAAA,CAAE;EAC9C;EAEA,wBAAqB;AACnB,SAAK,oBAAmB;AACxB,SAAK,gBAAe;AACpB,SAAK,iBAAgB;EACvB;;EAIA,kBAAe;AACb,SAAK,WAAW,KAAK,oBAAoB,CAAA,CAAE;AAC3C,SAAK,iBAAiB,IAAI,IAAI;EAChC;EAEA,iBAAc;AACZ,SAAK,WAAW,KAAK,mBAAmB,CAAA,CAAE;AAC1C,SAAK,iBAAiB,IAAI,KAAK;EACjC;EAEA,mBAAgB;AACd,QAAI,KAAK,iBAAgB,GAAI;AAC3B,WAAK,eAAc;IACrB,OAAO;AACL,WAAK,gBAAe;IACtB;EACF;EAEA,kBAAkB,OAA8B;AAC9C,SAAK,WAAW,KAAK,uBAAuB,KAAK;EACnD;EAEA,qBAAqB,SAAe;AAClC,QAAI,CAAC,QAAQ,0EAAc;AAAG;AAC9B,SAAK,WAAW,KAAK,0BAA0B,EAAE,IAAI,QAAO,CAAE;EAChE;EAEA,oBAAoB,SAAe;AACjC,SAAK,WAAW,KAAK,yBAAyB,EAAE,IAAI,QAAO,CAAE;EAC/D;EAEA,qBAAqB,SAAe;AAClC,SAAK,WAAW,KAAK,0BAA0B,EAAE,IAAI,QAAO,CAAE;EAChE;;EAIA,yBAAyB,UAAa;AACpC,SAAK,kBAAkB,IAAI;MACzB,YAAY,SAAS;MACrB,eAAe,SAAS,SAAS,SAAS;MAC1C,cAAc;MACd,sBAAsB;MACtB,gBAAgB,CAAA;KACjB;AACD,SAAK,sBAAsB,IAAI,IAAI;EACrC;EAEA,yBAAsB;AACpB,SAAK,sBAAsB,IAAI,KAAK;EACtC;EAEA,qBAAqB,OAAa;AAChC,SAAK,kBAAkB,OAAO,OAAM,iCAAK,IAAL,EAAQ,cAAc,MAAK,EAAG;EACpE;EAEA,iBAAiB,OAAa;AAC5B,SAAK,kBAAkB,OAAO,OAAM,iCAAK,IAAL,EAAQ,sBAAsB,MAAK,EAAG;EAC5E;EAEA,kBAAkB,SAAgB;AAChC,UAAM,KAAK,WAAW,KAAK,kBAAiB,EAAG,KAAI;AACnD,QAAI,CAAC;AAAI;AAET,SAAK,kBAAkB,OAAO,OAAM,iCAC/B,IAD+B;MAElC,gBAAgB,CAAC,GAAG,EAAE,gBAAgB,EAAE;MACxC;AACF,SAAK,kBAAkB,IAAI,EAAE;EAC/B;EAEA,qBAAqB,SAAe;AAClC,SAAK,kBAAkB,OAAO,OAAM,iCAC/B,IAD+B;MAElC,gBAAgB,EAAE,eAAe,OAAO,OAAK,MAAM,OAAO;MAC1D;EACJ;EAEA,wBAAqB;AACnB,UAAM,SAAS,KAAK,kBAAiB;AAErC,QAAI,CAAC,OAAO,cAAc;AACxB,WAAK,aAAa,QAAQ,4CAAS;AACnC;IACF;AAEA,QAAI,CAAC,OAAO,wBAAwB,OAAO,eAAe,WAAW,GAAG;AACtE,WAAK,aAAa,QAAQ,kGAAkB;AAC5C;IACF;AAEA,SAAK,WAAW,KAAK,oBAAoB;MACvC,YAAY,OAAO;MACnB,cAAc,OAAO;MACrB,cAAc,OAAO;MACrB,gBAAgB,OAAO;KACxB;AAED,SAAK,uBAAsB;AAC3B,SAAK,aAAa,QAAQ,2DAAc;EAC1C;;EAIA,4BAAyB;AACvB,SAAK,oBAAoB,IAAI,EAAE;AAC/B,SAAK,cAAc,IAAI,CAAA,CAAE;AACzB,SAAK,kBAAkB,IAAI,EAAE;AAC7B,SAAK,0BAA0B,IAAI,IAAI;EACzC;EAEA,6BAA0B;AACxB,SAAK,0BAA0B,IAAI,KAAK;EAC1C;EAEA,kBAAe;AACb,UAAM,UAAU,KAAK,kBAAiB,EAAG,KAAI;AAC7C,QAAI,CAAC;AAAS;AAEd,SAAK,cAAc,OAAO,SAAO,CAAC,GAAG,KAAK,OAAO,CAAC;AAClD,SAAK,kBAAkB,IAAI,EAAE;EAC/B;EAEA,mBAAmB,SAAe;AAChC,SAAK,cAAc,OAAO,SAAO,IAAI,OAAO,OAAK,MAAM,OAAO,CAAC;EACjE;EAEA,2BAA2B,SAAe;AACxC,QAAI,CAAC,KAAK,cAAa,EAAG,SAAS,OAAO,GAAG;AAC3C,WAAK,cAAc,OAAO,SAAO,CAAC,GAAG,KAAK,OAAO,CAAC;IACpD;EACF;EAEA,+BAA4B;AAC1B,UAAM,OAAO,KAAK,oBAAmB,EAAG,KAAI;AAC5C,UAAM,WAAW,KAAK,cAAa;AAEnC,QAAI,CAAC,MAAM;AACT,WAAK,aAAa,QAAQ,wDAAW;AACrC;IACF;AAEA,QAAI,SAAS,WAAW,GAAG;AACzB,WAAK,aAAa,QAAQ,8DAAY;AACtC;IACF;AAEA,SAAK,WAAW,KAAK,sBAAsB;MACzC;MACA,UAAU,SAAS,IAAI,QAAM,EAAE,SAAS,GAAG,SAAS,MAAK,EAAG;KAC7D;AAED,SAAK,2BAA0B;AAC/B,SAAK,aAAa,QAAQ,kDAAU;EACtC;;EAIA,6BAA0B;AACxB,SAAK,yBAAyB,IAAI,CAAC;AACnC,SAAK,eAAe,IAAI,KAAK;AAC7B,SAAK,2BAA2B,IAAI,IAAI;EAC1C;EAEA,8BAA2B;AACzB,SAAK,2BAA2B,IAAI,KAAK;EAC3C;EAEA,wBAAwB,WAAkB,cAAsB,cAAoB;AAClF,QAAI,UAAU,WAAW,GAAG;AAC1B,WAAK,aAAa,QAAQ,wDAAW;AACrC;IACF;AAEA,QAAI,CAAC,cAAc;AACjB,WAAK,aAAa,QAAQ,4CAAS;AACnC;IACF;AAEA,SAAK,eAAe,IAAI,IAAI;AAC5B,SAAK,yBAAyB,IAAI,CAAC;AAEnC,SAAK,WAAW,KAAK,0BAA0B;MAC7C,aAAa,UAAU,IAAI,OAAK,EAAE,EAAE;MACpC;MACA;KACD;EACH;;EAIA,iBAAiB,MAAc,UAAyB;AACtD,SAAK,WAAW,KAAK,sBAAsB,EAAE,MAAM,SAAQ,CAAE;EAC/D;EAEA,iBAAiB,OAAa;AAC5B,QAAI,CAAC,QAAQ,0EAAc;AAAG;AAC9B,SAAK,WAAW,KAAK,sBAAsB,EAAE,IAAI,MAAK,CAAE;EAC1D;EAEA,uBAAuB,OAAa;AAClC,SAAK,WAAW,KAAK,6BAA6B,EAAE,IAAI,MAAK,CAAE;EACjE;EAEA,gBAAgB,OAAe,SAAsB;AACnD,SAAK,WAAW,KAAK,sBAAsB,EAAE,OAAO,QAAO,CAAE;EAC/D;EAEA,qBAAqB,OAAe,SAAe;AACjD,SAAK,WAAW,KAAK,2BAA2B,EAAE,OAAO,QAAO,CAAE;EACpE;;EAIA,kBAAkB,MAA0B;AAC1C,SAAK,WAAW,KAAK,uBAAuB,IAAI;EAClD;EAEA,kBAAkB,QAAc;AAC9B,QAAI,CAAC,QAAQ,0EAAc;AAAG;AAC9B,SAAK,WAAW,KAAK,uBAAuB,EAAE,IAAI,OAAM,CAAE;EAC5D;EAEA,wBAAwB,QAAc;AACpC,SAAK,WAAW,KAAK,8BAA8B,EAAE,IAAI,OAAM,CAAE;EACnE;;EAIA,kBAAkB,OAAa;AAC7B,WAAO,KAAK,YAAW,EAAG,KAAK,OAAK,EAAE,OAAO,KAAK,GAAG,QAAQ;EAC/D;EAEA,kBAAkB,UAAyB;AACzC,QAAI,CAAC,YAAY,SAAS,WAAW;AAAG,aAAO;AAC/C,UAAM,UAAU,SAAS,MAAM,GAAG,CAAC,EAAE,IAAI,OAAK,EAAE,OAAO,EAAE,KAAK,IAAI;AAClE,QAAI,SAAS,SAAS,GAAG;AACvB,aAAO,GAAG,OAAO,WAAM,SAAS,MAAM;IACxC;AACA,WAAO;EACT;EAEA,yBAAsB;AACpB,WAAO,KAAK;EACd;;EAIQ,oBAAiB;AACvB,SAAK,WAAW,GAAG,2BAA2B,CAAC,SAAc,KAAK,sBAAsB,IAAI,CAAC;AAC7F,SAAK,WAAW,GAAG,uBAAuB,CAAC,SAAc,KAAK,kBAAkB,IAAI,CAAC;AACrF,SAAK,WAAW,GAAG,wBAAwB,CAAC,SAAc,KAAK,mBAAmB,IAAI,CAAC;AAEvF,SAAK,WAAW,GAAG,sBAAsB,CAAC,SAAa;AACrD,cAAQ,IAAI,8CAA8C,IAAI;AAC9D,WAAK,iBAAiB,IAAI,IAAI;IAChC,CAAC;AACD,SAAK,WAAW,GAAG,sBAAsB,MAAK;AAC5C,cAAQ,IAAI,2CAA2C;AACvD,WAAK,iBAAiB,IAAI,KAAK;IACjC,CAAC;AACD,SAAK,WAAW,GAAG,6BAA6B,CAAC,WAAmB;AAClE,cAAQ,IAAI,qDAAqD,MAAM;AACvE,WAAK,iBAAiB,IAAI,MAAM;IAClC,CAAC;AACD,SAAK,WAAW,GAAG,qBAAqB,CAAC,SAAsD;AAC7F,YAAM,WAAW,KAAK,gBAAgB,KAAK,UAAU;AACrD,cAAQ,IAAI,6CAA6C,QAAQ;AACjE,WAAK,iBAAiB,IAAI,QAAQ;IACpC,CAAC;AACD,SAAK,WAAW,GAAG,0BAA0B,CAAC,SAAc,KAAK,iBAAiB,IAAI,CAAC;AACvF,SAAK,WAAW,GAAG,uBAAuB,CAAC,SAAc,KAAK,wBAAwB,IAAI,CAAC;AAC3F,SAAK,WAAW,GAAG,uBAAuB,CAAC,SAAc,KAAK,wBAAwB,IAAI,CAAC;AAC3F,SAAK,WAAW,GAAG,wBAAwB,CAAC,SAAc,KAAK,yBAAyB,IAAI,CAAC;EAC/F;EAEQ,sBAAsB,MAAS;AACrC,QAAI,KAAK,WAAW,KAAK,QAAQ;AAC/B,WAAK,gBAAgB,IAAI,KAAK,UAAU,CAAA,CAAE;IAC5C;EACF;EAEQ,kBAAkB,MAAS;AACjC,QAAI,KAAK,WAAW,KAAK,MAAM;AAC7B,WAAK,YAAY,IAAI,KAAK,QAAQ,CAAA,CAAE;IACtC;EACF;EAEQ,mBAAmB,MAAS;AAClC,QAAI,KAAK,WAAW,KAAK,OAAO;AAC9B,WAAK,aAAa,IAAI,KAAK,SAAS,CAAA,CAAE;IACxC;EACF;EAEQ,iBAAiB,MAAS;AAChC,QAAI,KAAK,SAAS;AAChB,WAAK,aAAa,QAAQ,4CAAS;AACnC,WAAK,oBAAmB;IAC1B,OAAO;AACL,WAAK,aAAa,MAAM,6BAAS,KAAK,KAAK,EAAE;IAC/C;EACF;EAEQ,wBAAwB,MAAS;AACvC,QAAI,KAAK,SAAS;AAChB,WAAK,gBAAe;IACtB;EACF;EAEQ,wBAAwB,MAAS;AACvC,SAAK,yBAAyB,IAAI,KAAK,YAAY,CAAC;EACtD;EAEQ,yBAAyB,MAAS;AACxC,SAAK,eAAe,IAAI,KAAK;AAC7B,SAAK,yBAAyB,IAAI,GAAG;AAErC,QAAI,KAAK,SAAS;AAChB,WAAK,aAAa,QAAQ,yCAAW,KAAK,YAAY,IAAI,KAAK,UAAU,qBAAM;AAC/E,WAAK,oBAAmB;IAC1B,OAAO;AACL,WAAK,aAAa,MAAM,yCAAW,KAAK,KAAK,EAAE;IACjD;AAEA,eAAW,MAAM,KAAK,4BAA2B,GAAI,IAAI;EAC3D;;;uCAjZW,8BAA2B;IAAA;EAAA;;4EAA3B,8BAA2B,SAA3B,6BAA2B,WAAA,YAF1B,OAAM,CAAA;EAAA;;;sEAEP,6BAA2B,CAAA;UAHvC;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
