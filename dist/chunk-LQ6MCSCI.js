import{a as U}from"./chunk-SJSUUKGP.js";import{b as B,c as R,f as N,s as $,t as j}from"./chunk-36YFMG3E.js";import{a as L}from"./chunk-B6NL44GT.js";import{g as I}from"./chunk-N7GMY4UM.js";import{$a as _,Aa as l,Eb as V,Fb as z,Gb as W,Ia as v,Mb as k,Na as T,Sa as E,Vb as P,W as g,X as f,_a as x,cb as w,db as M,eb as b,fb as t,ga as m,gb as o,hb as C,lb as y,mc as F,nb as d,pb as c,qc as A,ub as O,vb as D,xb as a,yb as p,zb as h}from"./chunk-YLSLTE5F.js";var Y=()=>[],X=(r,n)=>n.id,q=(r,n)=>n.category,G=(r,n)=>n.month;function J(r,n){r&1&&(t(0,"div",18),a(1," \u{1F512} \u9322\u5305\u5DF2\u88AB\u51CD\u7D50\uFF0C\u8ACB\u806F\u7E6B\u5BA2\u670D\u89E3\u51CD\u5F8C\u64CD\u4F5C "),o())}function K(r,n){if(r&1){let e=y();t(0,"div",23)(1,"span",35),a(2,"\u{1F4E1}"),o(),t(3,"span",36),a(4,"\u60A8\u76EE\u524D\u8655\u65BC\u96E2\u7DDA\u72C0\u614B"),o(),t(5,"button",37),d("click",function(){g(e);let s=c();return f(s.retryConnection())}),a(6,"\u91CD\u8A66\u9023\u63A5"),o()()}}function Q(r,n){if(r&1){let e=y();t(0,"div",38),d("click",function(){g(e);let s=c();return f(s.dismissError())}),t(1,"span",39),a(2,"\u26A0\uFE0F"),o(),t(3,"span",40),a(4),o(),t(5,"button",41),a(6,"\xD7"),o()()}if(r&2){let e=c();l(4),p(e.globalError())}}function Z(r,n){if(r&1&&(t(0,"div",45)(1,"div",46)(2,"span",4),a(3),o(),t(4,"span",47),a(5),o()(),t(6,"div",48),C(7,"div",49),o(),t(8,"div",50)(9,"span",13),a(10),o(),t(11,"span",51),a(12),o()()()),r&2){let e=n.$implicit,i=c(2);l(3),p(i.getCategoryIcon(e.category)),l(2),p(e.category_name),l(2),O("width",e.percent,"%"),l(3),p(e.amount_display),l(2),h("",e.percent,"%")}}function ee(r,n){r&1&&(t(0,"div",31)(1,"span",4),a(2,"\u{1F4ED}"),o(),t(3,"span",52),a(4,"\u672C\u6708\u66AB\u7121\u6D88\u8CBB"),o()())}function te(r,n){if(r&1&&(t(0,"div",42)(1,"div",27)(2,"h2"),a(3,"\u{1F4CA} \u672C\u6708\u6D88\u8CBB\u6982\u89BD"),o(),t(4,"span",43),a(5),o()(),t(6,"div",44),w(7,Z,13,6,"div",45,q),x(9,ee,5,0,"div",31),o()()),r&2){let e,i,s,u=c();l(5),p((e=u.analysis())==null?null:e.total_display),l(2),M(((i=u.analysis())==null?null:i.by_category)||k(2,Y)),l(2),_((((s=u.analysis())==null?null:s.by_category)||k(3,Y)).length===0?9:-1)}}function ne(r,n){if(r&1&&(t(0,"div",53)(1,"div",54),a(2),o(),t(3,"div",55)(4,"div",56),a(5),o(),t(6,"div",57),a(7),o()(),t(8,"div",58),a(9),o()()),r&2){let e=n.$implicit,i=c();D("income",e.amount>0)("expense",e.amount<0),l(2),p(i.getTypeIcon(e.type)),l(3),p(e.description||i.getTypeName(e.type)),l(2),p(i.formatDate(e.created_at)),l(),D("positive",e.amount>0)("negative",e.amount<0),l(),h(" ",e.amount_display," ")}}function ie(r,n){r&1&&(t(0,"div",31)(1,"span",4),a(2,"\u{1F4ED}"),o(),t(3,"span",52),a(4,"\u66AB\u7121\u4EA4\u6613\u8A18\u9304"),o()())}function oe(r,n){if(r&1&&(t(0,"div",61)(1,"div",66),a(2),o(),t(3,"div",67)(4,"div",68)(5,"span",69),a(6),o()(),t(7,"div",70)(8,"span",69),a(9),o()()()()),r&2){let e=n.$implicit,i=c(2);l(2),p(i.formatMonth(e.month)),l(2),O("height",i.getBarHeight(e.income),"px"),l(2),h("\u6536\u5165: ",e.income_display),l(),O("height",i.getBarHeight(e.expense),"px"),l(2),h("\u652F\u51FA: ",e.expense_display)}}function ae(r,n){if(r&1&&(t(0,"div",59)(1,"div",27)(2,"h2"),a(3,"\u{1F4C5} \u6708\u5EA6\u7D71\u8A08"),o()(),t(4,"div",60),w(5,oe,10,7,"div",61,G),o(),t(7,"div",62)(8,"div",63),C(9,"span",64),t(10,"span",16),a(11,"\u6536\u5165"),o()(),t(12,"div",65),C(13,"span",64),t(14,"span",16),a(15,"\u652F\u51FA"),o()()()()),r&2){let e=c();l(5),M(e.monthlySummary())}}function re(r,n){r&1&&(t(0,"div",71),C(1,"div",72),t(2,"span"),a(3,"\u52A0\u8F09\u4E2D..."),o()())}function le(r,n){if(r&1&&(t(0,"div",81),a(1),o()),r&2){let e=c(2);l(),p(e.redeemError())}}function se(r,n){if(r&1&&(t(0,"div",82),a(1),o()),r&2){let e=c(2);l(),p(e.redeemSuccess())}}function ce(r,n){r&1&&(C(0,"span",86),a(1," \u514C\u63DB\u4E2D... "))}function de(r,n){r&1&&a(0," \u78BA\u8A8D\u514C\u63DB ")}function pe(r,n){if(r&1){let e=y();t(0,"div",73),d("click",function(){g(e);let s=c();return f(s.closeRedeemModal())}),t(1,"div",74),d("click",function(s){return g(e),f(s.stopPropagation())}),t(2,"div",75)(3,"h3"),a(4,"\u{1F381} \u514C\u63DB\u78BC"),o(),t(5,"button",76),d("click",function(){g(e);let s=c();return f(s.closeRedeemModal())}),a(6,"\u2715"),o()(),t(7,"div",77)(8,"p",78),a(9,"\u8F38\u5165\u514C\u63DB\u78BC\u4EE5\u7372\u5F97\u9918\u984D\u6216\u512A\u60E0"),o(),t(10,"div",79)(11,"input",80),W("ngModelChange",function(s){g(e);let u=c();return z(u.redeemCode,s)||(u.redeemCode=s),f(s)}),d("keyup.enter",function(){g(e);let s=c();return f(s.submitRedeemCode())}),o()(),x(12,le,2,1,"div",81),x(13,se,2,1,"div",82),o(),t(14,"div",83)(15,"button",84),d("click",function(){g(e);let s=c();return f(s.closeRedeemModal())}),a(16," \u53D6\u6D88 "),o(),t(17,"button",85),d("click",function(){g(e);let s=c();return f(s.submitRedeemCode())}),x(18,ce,2,0)(19,de,1,0),o()()()()}if(r&2){let e=c();l(11),V("ngModel",e.redeemCode),b("disabled",e.isRedeeming()),l(),_(e.redeemError()?12:-1),l(),_(e.redeemSuccess()?13:-1),l(2),b("disabled",e.isRedeeming()),l(2),b("disabled",!e.redeemCode.trim()||e.isRedeeming()),l(),_(e.isRedeeming()?18:19)}}var H=class r{constructor(n,e,i){this.walletService=n;this.router=e;this.apiService=i;this.wallet=m(null);this.recentTransactions=m([]);this.analysis=m(null);this.monthlySummary=m([]);this.loading=m(!1);this.showRedeemModal=m(!1);this.redeemCode="";this.isRedeeming=m(!1);this.redeemError=m("");this.redeemSuccess=m("");this.isOnline=m(!0);this.globalError=m("");this.isNavigating=m(!1);this.balanceDisplay=P(()=>{let n=this.wallet();return n?(n.available_balance/100).toFixed(2):"0.00"});this.isFrozen=P(()=>this.wallet()?.status==="frozen");this.canOperate=P(()=>this.isOnline()&&!this.isFrozen()&&!this.loading()&&!this.isNavigating());typeof window<"u"&&(window.addEventListener("online",()=>{this.isOnline.set(!0),this.globalError.set(""),this.loadData()}),window.addEventListener("offline",()=>{this.isOnline.set(!1),this.globalError.set("\u7DB2\u7D61\u9023\u63A5\u5DF2\u65B7\u958B\uFF0C\u8ACB\u6AA2\u67E5\u7DB2\u7D61\u8A2D\u7F6E")}),this.isOnline.set(navigator.onLine))}ngOnInit(){this.loadData(),this.walletService.startAutoRefresh()}ngOnDestroy(){this.walletService.stopAutoRefresh()}async loadData(){if(this.isOnline()){this.loading.set(!0),this.globalError.set("");try{let[n,e,i,s]=await Promise.all([this.walletService.loadWallet(),this.walletService.getRecentTransactions(5),this.walletService.getConsumeAnalysis(),this.walletService.getMonthlySummary(6)]);n&&(this.wallet.set(n),n.status==="frozen"&&this.globalError.set("\u60A8\u7684\u9322\u5305\u5DF2\u88AB\u51CD\u7D50\uFF0C\u8ACB\u806F\u7E6B\u5BA2\u670D")),this.recentTransactions.set(e),i&&this.analysis.set(i),this.monthlySummary.set(s)}catch(n){console.error("Load wallet data error:",n),n.message?.includes("Network")||n.name==="TypeError"?this.globalError.set("\u7DB2\u7D61\u8ACB\u6C42\u5931\u6557\uFF0C\u8ACB\u6AA2\u67E5\u7DB2\u7D61\u9023\u63A5"):n.message?.includes("401")||n.message?.includes("Unauthorized")?(this.globalError.set("\u767B\u9304\u5DF2\u904E\u671F\uFF0C\u8ACB\u91CD\u65B0\u767B\u9304"),setTimeout(()=>this.router.navigate(["/login"]),2e3)):this.globalError.set("\u8F09\u5165\u6578\u64DA\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u91CD\u8A66")}finally{this.loading.set(!1)}}}goBack(){window.dispatchEvent(new CustomEvent("changeView",{detail:"dashboard"}))}goToRecharge(){if(console.log("[Wallet] goToRecharge called, isFrozen:",this.isFrozen()),this.isFrozen()){this.globalError.set("\u9322\u5305\u5DF2\u51CD\u7D50\uFF0C\u7121\u6CD5\u9032\u884C\u5145\u503C\u64CD\u4F5C");return}console.log("[Wallet] Dispatching changeView event to wallet-recharge"),window.dispatchEvent(new CustomEvent("changeView",{detail:"wallet-recharge"}))}goToWithdraw(){if(console.log("[Wallet] goToWithdraw called, isFrozen:",this.isFrozen()),this.isFrozen()){this.globalError.set("\u9322\u5305\u5DF2\u51CD\u7D50\uFF0C\u7121\u6CD5\u9032\u884C\u63D0\u73FE\u64CD\u4F5C");return}console.log("[Wallet] Dispatching changeView event to wallet-withdraw"),window.dispatchEvent(new CustomEvent("changeView",{detail:"wallet-withdraw"}))}retryConnection(){navigator.onLine?(this.isOnline.set(!0),this.globalError.set(""),this.loadData()):this.globalError.set("\u7DB2\u7D61\u4ECD\u672A\u9023\u63A5\uFF0C\u8ACB\u6AA2\u67E5\u7DB2\u7D61\u8A2D\u7F6E")}dismissError(){this.globalError.set("")}showRedeemCode(){if(this.isFrozen()){this.globalError.set("\u9322\u5305\u5DF2\u51CD\u7D50\uFF0C\u7121\u6CD5\u4F7F\u7528\u514C\u63DB\u78BC");return}this.redeemCode="",this.redeemError.set(""),this.redeemSuccess.set(""),this.showRedeemModal.set(!0)}closeRedeemModal(){this.isRedeeming()||(this.showRedeemModal.set(!1),this.redeemCode="",this.redeemError.set(""),this.redeemSuccess.set(""))}async submitRedeemCode(){let n=this.redeemCode.trim().toUpperCase();if(!n){this.redeemError.set("\u8ACB\u8F38\u5165\u514C\u63DB\u78BC");return}this.isRedeeming.set(!0),this.redeemError.set(""),this.redeemSuccess.set("");try{let e=await this.apiService.post("/api/wallet/redeem",{code:n});if(e.success){let i=e.data?.amount||0,s=e.data?.bonus_amount||0,u=i+s;this.redeemSuccess.set(`\u{1F389} \u514C\u63DB\u6210\u529F\uFF01\u7372\u5F97 $${(u/100).toFixed(2)}`+(s>0?` (\u542B\u8D08\u9001 $${(s/100).toFixed(2)})`:"")),this.walletService.optimisticUpdateBalance(i,s);let S=this.walletService.wallet();S&&this.wallet.set(S),this.loadData(),setTimeout(()=>{this.closeRedeemModal()},2e3)}else{let i={CODE_NOT_FOUND:"\u514C\u63DB\u78BC\u4E0D\u5B58\u5728",CODE_USED:"\u6B64\u514C\u63DB\u78BC\u5DF2\u88AB\u4F7F\u7528",CODE_EXPIRED:"\u6B64\u514C\u63DB\u78BC\u5DF2\u904E\u671F",CODE_DISABLED:"\u6B64\u514C\u63DB\u78BC\u5DF2\u88AB\u7981\u7528",ALREADY_REDEEMED:"\u60A8\u5DF2\u4F7F\u7528\u904E\u6B64\u514C\u63DB\u78BC",LIMIT_EXCEEDED:"\u8D85\u51FA\u514C\u63DB\u6B21\u6578\u9650\u5236"},s=e.code||"";this.redeemError.set(i[s]||e.error||"\u514C\u63DB\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66")}}catch(e){console.error("Redeem code error:",e),this.redeemError.set("\u7DB2\u7D61\u932F\u8AA4\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66")}finally{this.isRedeeming.set(!1)}}showTransactions(){this.router.navigate(["/wallet/transactions"])}showOrders(){this.router.navigate(["/wallet/orders"])}showAnalytics(){this.router.navigate(["/wallet/analytics"])}formatCents(n){return"$"+(n/100).toFixed(2)}formatDate(n){return n?new Date(n).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""}formatMonth(n){if(!n)return"";let[e,i]=n.split("-");return`${i}\u6708`}getCategoryIcon(n){return{membership:"\u{1F451}",ip_proxy:"\u{1F310}",quota_pack:"\u{1F4E6}",other:"\u{1F4CB}"}[n]||"\u{1F4CB}"}getTypeIcon(n){return this.walletService.getTypeIcon(n)}getTypeName(n){return this.walletService.getTypeName(n)}getBarHeight(n){let e=Math.max(...this.monthlySummary().flatMap(i=>[i.income,i.expense]));return e===0?4:Math.max(4,n/e*60)}static{this.\u0275fac=function(e){return new(e||r)(v(U),v(I),v(L))}}static{this.\u0275cmp=T({type:r,selectors:[["app-wallet-view"]],decls:60,vars:14,consts:[[1,"wallet-view"],[1,"view-header"],[1,"header-left"],[1,"back-btn",3,"click"],[1,"icon"],[1,"header-actions"],[1,"action-btn",3,"click"],[1,"balance-card"],[1,"balance-bg"],[1,"balance-content"],[1,"balance-label"],[1,"balance-amount"],[1,"currency"],[1,"amount"],[1,"balance-details"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"frozen-warning"],[1,"balance-actions"],[1,"recharge-btn",3,"click","disabled"],[1,"withdraw-btn",3,"click","disabled"],[1,"redeem-btn",3,"click","disabled"],[1,"offline-banner"],[1,"global-error-toast"],["class","section consume-overview",4,"ngIf"],[1,"section","recent-transactions"],[1,"section-header"],[1,"view-all-btn",3,"click"],[1,"transaction-list"],[1,"transaction-item",3,"income","expense"],[1,"empty-state"],["class","section monthly-stats",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"offline-icon"],[1,"offline-text"],[1,"retry-btn",3,"click"],[1,"global-error-toast",3,"click"],[1,"error-icon"],[1,"error-text"],[1,"dismiss-btn"],[1,"section","consume-overview"],[1,"total"],[1,"consume-bars"],[1,"consume-bar"],[1,"bar-label"],[1,"name"],[1,"bar-track"],[1,"bar-fill"],[1,"bar-value"],[1,"percent"],[1,"text"],[1,"transaction-item"],[1,"tx-icon"],[1,"tx-info"],[1,"tx-desc"],[1,"tx-time"],[1,"tx-amount"],[1,"section","monthly-stats"],[1,"monthly-chart"],[1,"month-bar"],[1,"chart-legend"],[1,"legend-item","income"],[1,"dot"],[1,"legend-item","expense"],[1,"month-label"],[1,"bars"],[1,"income-bar"],[1,"tooltip"],[1,"expense-bar"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"modal-overlay",3,"click"],[1,"modal-content","redeem-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-desc"],[1,"input-group"],["type","text","placeholder","\u8ACB\u8F38\u5165\u514C\u63DB\u78BC","maxlength","32",1,"redeem-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"error-message"],[1,"success-message"],[1,"modal-footer"],[1,"cancel-btn",3,"click","disabled"],[1,"submit-btn",3,"click","disabled"],[1,"btn-spinner"]],template:function(e,i){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),d("click",function(){return i.goBack()}),t(4,"span",4),a(5,"\u2190"),o()(),t(6,"h1"),a(7,"\u{1F4B0} \u6211\u7684\u9322\u5305"),o()(),t(8,"div",5)(9,"button",6),d("click",function(){return i.showTransactions()}),a(10," \u{1F4DC} \u4EA4\u6613\u8A18\u9304 "),o(),t(11,"button",6),d("click",function(){return i.showOrders()}),a(12," \u{1F4CB} \u5145\u503C\u8A02\u55AE "),o(),t(13,"button",6),d("click",function(){return i.showAnalytics()}),a(14," \u{1F4CA} \u6D88\u8CBB\u5206\u6790 "),o()()(),t(15,"div",7),C(16,"div",8),t(17,"div",9)(18,"div",10),a(19,"\u53EF\u7528\u9918\u984D"),o(),t(20,"div",11)(21,"span",12),a(22,"$"),o(),t(23,"span",13),a(24),o()(),t(25,"div",14)(26,"div",15)(27,"span",16),a(28,"\u51CD\u7D50\u4E2D"),o(),t(29,"span",17),a(30),o()(),t(31,"div",15)(32,"span",16),a(33,"\u8D08\u9001\u9918\u984D"),o(),t(34,"span",17),a(35),o()()(),x(36,J,2,0,"div",18),t(37,"div",19)(38,"button",20),d("click",function(){return i.goToRecharge()}),a(39," \u{1F4B3} \u5145\u503C "),o(),t(40,"button",21),d("click",function(){return i.goToWithdraw()}),a(41," \u{1F4E4} \u63D0\u73FE "),o(),t(42,"button",22),d("click",function(){return i.showRedeemCode()}),a(43," \u{1F381} \u514C\u63DB\u78BC "),o()()()(),x(44,K,7,0,"div",23),x(45,Q,7,1,"div",24),E(46,te,10,4,"div",25),t(47,"div",26)(48,"div",27)(49,"h2"),a(50,"\u{1F550} \u6700\u8FD1\u4EA4\u6613"),o(),t(51,"button",28),d("click",function(){return i.showTransactions()}),a(52," \u67E5\u770B\u5168\u90E8 \u2192 "),o()(),t(53,"div",29),w(54,ne,10,12,"div",30,X),x(56,ie,5,0,"div",31),o()(),E(57,ae,16,0,"div",32)(58,re,4,0,"div",33),x(59,pe,20,7,"div",34),o()),e&2){let s,u;l(24),p(i.balanceDisplay()),l(6),p(i.formatCents(((s=i.wallet())==null?null:s.frozen_balance)||0)),l(5),p(((u=i.wallet())==null?null:u.bonus_display)||"$0.00"),l(),_(i.isFrozen()?36:-1),l(2),b("disabled",i.isFrozen()),l(2),b("disabled",i.isFrozen()),l(2),b("disabled",i.isFrozen()),l(2),_(i.isOnline()?-1:44),l(),_(i.globalError()?45:-1),l(),b("ngIf",i.analysis()),l(8),M(i.recentTransactions()),l(2),_(i.recentTransactions().length===0?56:-1),l(),b("ngIf",i.monthlySummary().length>0),l(),b("ngIf",i.loading()),l(),_(i.showRedeemModal()?59:-1)}},dependencies:[A,F,j,B,R,$,N],styles:[".wallet-view[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);padding:20px;color:#fff}.view-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:#ffffff1a;border:none;color:#fff;font-size:20px;cursor:pointer;transition:all .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#fff3}h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0}.action-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:12px;background:#ffffff1a;border:none;color:#fff;font-size:14px;cursor:pointer;transition:all .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#fff3}.balance-card[_ngcontent-%COMP%]{position:relative;border-radius:24px;overflow:hidden;margin-bottom:24px}.balance-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#667eea,#764ba2);pointer-events:none}.balance-content[_ngcontent-%COMP%]{position:relative;padding:32px;z-index:1}.balance-label[_ngcontent-%COMP%]{font-size:14px;opacity:.8;margin-bottom:8px}.balance-amount[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:4px;margin-bottom:24px}.balance-amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.balance-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:48px;font-weight:700}.balance-details[_ngcontent-%COMP%]{display:flex;gap:32px;margin-bottom:24px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;opacity:.7}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.balance-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.balance-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border-radius:12px;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.recharge-btn[_ngcontent-%COMP%]{background:#fff;color:#764ba2;box-shadow:0 4px 12px #00000026}.recharge-btn[_ngcontent-%COMP%]:hover{background:#f8f8ff;box-shadow:0 6px 16px #667eea4d}.recharge-btn[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:0 2px 8px #0000001a}.withdraw-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.withdraw-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.withdraw-btn[_ngcontent-%COMP%]:active{transform:scale(.98);background:#ffffff40}.redeem-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.redeem-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.redeem-btn[_ngcontent-%COMP%]:active{transform:scale(.98);background:#ffffff40}.balance-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.balance-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.balance-actions[_ngcontent-%COMP%]   button.loading[_ngcontent-%COMP%]{position:relative}.frozen-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444433,#b91c1c33);border:1px solid rgba(239,68,68,.4);border-radius:12px;padding:12px 16px;margin-bottom:16px;font-size:14px;color:#fca5a5;text-align:center;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.offline-banner[_ngcontent-%COMP%]{position:fixed;top:60px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;padding:12px 20px;border-radius:12px;display:flex;align-items:center;gap:12px;box-shadow:0 4px 20px #0000004d;z-index:1000;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translate(-50%) translateY(-100%);opacity:0}to{transform:translate(-50%) translateY(0);opacity:1}}.offline-icon[_ngcontent-%COMP%]{font-size:20px}.offline-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.retry-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:6px 12px;border-radius:6px;font-size:13px;cursor:pointer;transition:background .2s}.retry-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.global-error-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#dc2626,#b91c1c);color:#fff;padding:12px 20px;border-radius:12px;display:flex;align-items:center;gap:10px;box-shadow:0 4px 20px #0000004d;z-index:1000;cursor:pointer;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translate(-50%) translateY(100%);opacity:0}to{transform:translate(-50%) translateY(0);opacity:1}}.error-icon[_ngcontent-%COMP%]{font-size:18px}.error-text[_ngcontent-%COMP%]{font-size:14px;max-width:280px}.dismiss-btn[_ngcontent-%COMP%]{background:none;border:none;color:#ffffffb3;font-size:18px;cursor:pointer;padding:0 4px}.dismiss-btn[_ngcontent-%COMP%]:hover{color:#fff}.section[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:16px;padding:20px;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0}.section-header[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#f59e0b}.view-all-btn[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;font-size:13px;cursor:pointer}.consume-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.bar-label[_ngcontent-%COMP%]{width:100px;display:flex;align-items:center;gap:8px;font-size:13px}.bar-track[_ngcontent-%COMP%]{flex:1;height:8px;background:#ffffff1a;border-radius:4px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:4px;transition:width .5s ease}.bar-value[_ngcontent-%COMP%]{width:100px;text-align:right;font-size:13px}.bar-value[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#f59e0b;margin-right:8px}.bar-value[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{opacity:.6}.transaction-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.05)}.transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.tx-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:#ffffff1a;display:flex;align-items:center;justify-content:center;font-size:18px}.tx-info[_ngcontent-%COMP%]{flex:1}.tx-desc[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}.tx-time[_ngcontent-%COMP%]{font-size:12px;opacity:.5}.tx-amount[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.tx-amount.positive[_ngcontent-%COMP%]{color:#22c55e}.tx-amount.negative[_ngcontent-%COMP%]{color:#ef4444}.monthly-chart[_ngcontent-%COMP%]{display:flex;gap:12px;height:120px;align-items:flex-end;padding-bottom:24px}.month-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:8px}.month-label[_ngcontent-%COMP%]{font-size:11px;opacity:.6}.bars[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:flex-end;height:80px}.income-bar[_ngcontent-%COMP%], .expense-bar[_ngcontent-%COMP%]{width:12px;border-radius:4px 4px 0 0;position:relative;min-height:4px}.income-bar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#22c55e,#16a34a)}.expense-bar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ef4444,#dc2626)}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin-top:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;opacity:.7}.legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.legend-item.income[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#22c55e}.legend-item.expense[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px;opacity:.5}.empty-state[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;z-index:100}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(255,255,255,.2);border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000bf;display:flex;align-items:center;justify-content:center;z-index:200;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:20px;width:90%;max-width:400px;border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #00000080;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.1)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#94a3b8;font-size:18px;cursor:pointer;padding:4px 8px;border-radius:6px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-desc[_ngcontent-%COMP%]{color:#94a3b8;font-size:14px;margin:0 0 16px}.input-group[_ngcontent-%COMP%]{margin-bottom:16px}.redeem-input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;border-radius:12px;border:2px solid rgba(255,255,255,.1);background:#ffffff0d;color:#fff;font-size:16px;text-align:center;letter-spacing:2px;text-transform:uppercase;transition:all .2s}.redeem-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#667eea1a}.redeem-input[_ngcontent-%COMP%]:disabled{opacity:.5}.redeem-input[_ngcontent-%COMP%]::placeholder{color:#64748b;letter-spacing:normal;text-transform:none}.error-message[_ngcontent-%COMP%]{padding:12px 16px;background:#ef444426;border:1px solid rgba(239,68,68,.3);border-radius:10px;color:#fca5a5;font-size:14px;margin-top:12px}.success-message[_ngcontent-%COMP%]{padding:12px 16px;background:#22c55e26;border:1px solid rgba(34,197,94,.3);border-radius:10px;color:#86efac;font-size:14px;margin-top:12px}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;padding:20px 24px;border-top:1px solid rgba(255,255,255,.1)}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:14px 20px;border-radius:12px;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s;border:none}.cancel-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#94a3b8}.cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff26;color:#fff}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;gap:8px}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}"]})}};export{H as a};
