{
  "version": 3,
  "sources": ["src/services/account-management.service.ts"],
  "sourcesContent": ["/**\r\n * Â∏≥ËôüÁÆ°ÁêÜÊúçÂãô\r\n * Account Management Service\r\n * \r\n * ÈõÜ‰∏≠ËôïÁêÜ Telegram Â∏≥ËôüÁöÑÁÆ°ÁêÜÈÇèËºØ\r\n */\r\n\r\nimport { Injectable, signal, computed, inject } from '@angular/core';\r\nimport { ElectronIpcService } from '../electron-ipc.service';\r\nimport { ToastService } from '../toast.service';\r\nimport { TelegramAccount, AccountRole, AccountStatus } from '../models';\r\n\r\n// ============ È°ûÂûãÂÆöÁæ© ============\r\n\r\nexport interface AccountFilter {\r\n  status?: AccountStatus | 'all';\r\n  role?: AccountRole | 'all';\r\n  search?: string;\r\n}\r\n\r\nexport interface AccountStats {\r\n  total: number;\r\n  online: number;\r\n  offline: number;\r\n  connecting: number;\r\n  error: number;\r\n  byRole: Record<string, number>;\r\n}\r\n\r\nexport interface RoleInfo {\r\n  id: AccountRole;\r\n  name: string;\r\n  icon: string;\r\n  description: string;\r\n  color: string;\r\n}\r\n\r\n// ============ ËßíËâ≤ÈÖçÁΩÆ ============\r\n\r\nexport const ACCOUNT_ROLES: RoleInfo[] = [\r\n  { id: 'Listener', name: 'Áõ£ÊéßËôü', icon: 'üëÅÔ∏è', description: 'Áî®ÊñºÁõ£ÊéßÁæ§ÁµÑÊ∂àÊÅØ', color: 'blue' },\r\n  { id: 'Sender', name: 'ÁôºÈÄÅËôü', icon: 'üì§', description: 'Áî®ÊñºÁôºÈÄÅÊ∂àÊÅØ', color: 'green' },\r\n  { id: 'Explorer', name: 'Êé¢Á¥¢Ëôü', icon: 'üîç', description: 'Áî®ÊñºÊêúÁ¥¢ÂíåÁôºÁèæË≥áÊ∫ê', color: 'purple' },\r\n  { id: 'AI', name: 'AI Ëôü', icon: 'ü§ñ', description: 'Áî®Êñº AI Â∞çË©±', color: 'cyan' },\r\n  { id: 'Backup', name: 'ÂÇôÁî®Ëôü', icon: '‚ö°', description: 'ÂÇôÁî®Â∏≥Ëôü', color: 'yellow' },\r\n  { id: 'Unassigned', name: 'Êú™ÂàÜÈÖç', icon: '‚≠ï', description: 'Â∞öÊú™ÂàÜÈÖçËßíËâ≤', color: 'gray' }\r\n];\r\n\r\n// ============ ÊúçÂãôÂØ¶Áèæ ============\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AccountManagementService {\r\n  private ipc = inject(ElectronIpcService);\r\n  private toast = inject(ToastService);\r\n  \r\n  // ========== ÁãÄÊÖã ==========\r\n  private _accounts = signal<TelegramAccount[]>([]);\r\n  private _selectedAccountIds = signal<Set<number>>(new Set());\r\n  private _filter = signal<AccountFilter>({ status: 'all', role: 'all' });\r\n  private _isLoading = signal(false);\r\n  private _initialized = false;\r\n  \r\n  accounts = this._accounts.asReadonly();\r\n  selectedAccountIds = this._selectedAccountIds.asReadonly();\r\n  filter = this._filter.asReadonly();\r\n  isLoading = this._isLoading.asReadonly();\r\n  \r\n  constructor() {\r\n    // üÜï Ëá™ÂãïÁõ£ËÅΩ accounts-updated ‰∫ã‰ª∂\r\n    this.setupIpcListeners();\r\n  }\r\n  \r\n  private setupIpcListeners(): void {\r\n    if (this._initialized) return;\r\n    this._initialized = true;\r\n    \r\n    console.log('[AccountManagementService] Setting up IPC listeners');\r\n    \r\n    // Áõ£ËÅΩÂ∏≥ËôüÊõ¥Êñ∞‰∫ã‰ª∂\r\n    this.ipc.on('accounts-updated', (accounts: TelegramAccount[]) => {\r\n      console.log('[AccountManagementService] Received accounts-updated:', accounts.length, 'accounts');\r\n      this._accounts.set(accounts);\r\n      this._isLoading.set(false);\r\n    });\r\n    \r\n    // Áõ£ËÅΩÂ∏≥ËôüÂà™Èô§ÁµêÊûú\r\n    this.ipc.on('account-deleted', (data: { success: boolean; accountId: number; error?: string }) => {\r\n      if (data.success) {\r\n        this._accounts.update(list => list.filter(a => a.id !== data.accountId));\r\n        this.toast.success('Â∏≥ËôüÂ∑≤Âà™Èô§');\r\n      } else {\r\n        this.toast.error(`Âà™Èô§Â§±Êïó: ${data.error || 'Êú™Áü•ÈåØË™§'}`);\r\n      }\r\n    });\r\n    \r\n    // Áõ£ËÅΩÈ©óË≠âÁ¢ºË´ãÊ±Ç\r\n    this.ipc.on('login-requires-code', (data: { accountId: number; phoneCodeHash: string }) => {\r\n      console.log('[AccountManagementService] Login requires code for account:', data.accountId);\r\n      this.handleCodeRequired(data);\r\n    });\r\n    \r\n    // Áõ£ËÅØ 2FA Ë´ãÊ±Ç\r\n    this.ipc.on('login-requires-2fa', (data: { accountId: number }) => {\r\n      console.log('[AccountManagementService] Login requires 2FA for account:', data.accountId);\r\n      this.handle2FARequired(data);\r\n    });\r\n    \r\n    // Áõ£ËÅΩÁôªÈåÑÊàêÂäü\r\n    this.ipc.on('login-success', (data: { accountId: number }) => {\r\n      console.log('[AccountManagementService] Login success for account:', data.accountId);\r\n      this.handleLoginSuccess(data);\r\n    });\r\n    \r\n    // Áõ£ËÅΩÁôªÈåÑÂ§±Êïó\r\n    this.ipc.on('login-failed', (data: { accountId: number; error: string }) => {\r\n      console.log('[AccountManagementService] Login failed for account:', data.accountId);\r\n      this.handleLoginFailed(data);\r\n    });\r\n    \r\n    // Áõ£ËÅΩÁôªÂá∫ÁµêÊûú\r\n    this.ipc.on('logout-result', (data: { success: boolean; accountId: number; error?: string }) => {\r\n      this.handleLogoutResult(data);\r\n    });\r\n    \r\n    // ÂàùÂßãÂä†ËºâÂ∏≥Ëôü\r\n    this.loadAccounts();\r\n  }\r\n  \r\n  loadAccounts(): void {\r\n    console.log('[AccountManagementService] Loading accounts...');\r\n    this._isLoading.set(true);\r\n    this.ipc.send('get-accounts');\r\n  }\r\n  \r\n  // ========== Ë®àÁÆóÂ±¨ÊÄß ==========\r\n  \r\n  filteredAccounts = computed(() => {\r\n    const accounts = this._accounts();\r\n    const filter = this._filter();\r\n    \r\n    return accounts.filter(account => {\r\n      // ÁãÄÊÖãÈÅéÊøæ\r\n      if (filter.status && filter.status !== 'all') {\r\n        if (account.status !== filter.status) return false;\r\n      }\r\n      \r\n      // ËßíËâ≤ÈÅéÊøæ\r\n      if (filter.role && filter.role !== 'all') {\r\n        if (account.role !== filter.role) return false;\r\n      }\r\n      \r\n      // ÊêúÁ¥¢ÈÅéÊøæ\r\n      if (filter.search) {\r\n        const search = filter.search.toLowerCase();\r\n        const matchPhone = account.phone?.toLowerCase().includes(search);\r\n        const matchName = account.name?.toLowerCase().includes(search);\r\n        if (!matchPhone && !matchName) return false;\r\n      }\r\n      \r\n      return true;\r\n    });\r\n  });\r\n  \r\n  stats = computed((): AccountStats => {\r\n    const accounts = this._accounts();\r\n    const byRole: Record<string, number> = {};\r\n    \r\n    for (const role of ACCOUNT_ROLES) {\r\n      byRole[role.id] = 0;\r\n    }\r\n    \r\n    for (const account of accounts) {\r\n      if (account.role && byRole[account.role] !== undefined) {\r\n        byRole[account.role]++;\r\n      }\r\n    }\r\n    \r\n    return {\r\n      total: accounts.length,\r\n      online: accounts.filter(a => a.status === 'Online').length,\r\n      offline: accounts.filter(a => a.status === 'Offline').length,\r\n      connecting: accounts.filter(a => a.status === 'Connecting').length,\r\n      error: accounts.filter(a => a.status === 'Error' || a.status === 'Banned').length,\r\n      byRole\r\n    };\r\n  });\r\n  \r\n  onlineAccounts = computed(() => \r\n    this._accounts().filter(a => a.status === 'Online')\r\n  );\r\n  \r\n  listenerAccounts = computed(() => \r\n    this._accounts().filter(a => a.role === 'Listener' && a.status === 'Online')\r\n  );\r\n  \r\n  senderAccounts = computed(() => \r\n    this._accounts().filter(a => a.role === 'Sender' && a.status === 'Online')\r\n  );\r\n  \r\n  selectedAccounts = computed(() => {\r\n    const ids = this._selectedAccountIds();\r\n    return this._accounts().filter(a => ids.has(a.id));\r\n  });\r\n  \r\n  hasSelection = computed(() => this._selectedAccountIds().size > 0);\r\n  \r\n  allSelected = computed(() => {\r\n    const filtered = this.filteredAccounts();\r\n    const selected = this._selectedAccountIds();\r\n    return filtered.length > 0 && filtered.every(a => selected.has(a.id));\r\n  });\r\n  \r\n  // ========== Â∏≥ËôüÊìç‰Ωú ==========\r\n  \r\n  setAccounts(accounts: TelegramAccount[]): void {\r\n    this._accounts.set(accounts);\r\n  }\r\n  \r\n  updateAccount(account: TelegramAccount): void {\r\n    this._accounts.update(list => \r\n      list.map(a => a.id === account.id ? { ...a, ...account } : a)\r\n    );\r\n  }\r\n  \r\n  addAccount(account: TelegramAccount): void {\r\n    this._accounts.update(list => [...list, account]);\r\n  }\r\n  \r\n  removeAccount(accountId: number): void {\r\n    this._accounts.update(list => list.filter(a => a.id !== accountId));\r\n    this._selectedAccountIds.update(ids => {\r\n      const newIds = new Set(ids);\r\n      newIds.delete(accountId);\r\n      return newIds;\r\n    });\r\n  }\r\n  \r\n  // ========== ÈÅ∏ÊìáÊìç‰Ωú ==========\r\n  \r\n  toggleSelection(accountId: number): void {\r\n    this._selectedAccountIds.update(ids => {\r\n      const newIds = new Set(ids);\r\n      if (newIds.has(accountId)) {\r\n        newIds.delete(accountId);\r\n      } else {\r\n        newIds.add(accountId);\r\n      }\r\n      return newIds;\r\n    });\r\n  }\r\n  \r\n  selectAll(): void {\r\n    const filtered = this.filteredAccounts();\r\n    this._selectedAccountIds.set(new Set(filtered.map(a => a.id)));\r\n  }\r\n  \r\n  deselectAll(): void {\r\n    this._selectedAccountIds.set(new Set());\r\n  }\r\n  \r\n  toggleSelectAll(): void {\r\n    if (this.allSelected()) {\r\n      this.deselectAll();\r\n    } else {\r\n      this.selectAll();\r\n    }\r\n  }\r\n  \r\n  isSelected(accountId: number): boolean {\r\n    return this._selectedAccountIds().has(accountId);\r\n  }\r\n  \r\n  // ========== ÈÅéÊøæÊìç‰Ωú ==========\r\n  \r\n  setFilter(filter: Partial<AccountFilter>): void {\r\n    this._filter.update(f => ({ ...f, ...filter }));\r\n  }\r\n  \r\n  clearFilter(): void {\r\n    this._filter.set({ status: 'all', role: 'all' });\r\n  }\r\n  \r\n  // ========== API Êìç‰Ωú ==========\r\n  \r\n  async connectAccount(accountId: number): Promise<boolean> {\r\n    const account = this._accounts().find(a => a.id === accountId);\r\n    if (!account) return false;\r\n    \r\n    this.updateAccount({ ...account, status: 'Connecting' as AccountStatus });\r\n    \r\n    return new Promise((resolve) => {\r\n      this.ipc.send('connect-account', { accountId, phone: account.phone });\r\n      // ÁµêÊûúÈÄöÈÅé IPC ‰∫ã‰ª∂ËøîÂõû\r\n      resolve(true);\r\n    });\r\n  }\r\n  \r\n  async disconnectAccount(accountId: number): Promise<boolean> {\r\n    const account = this._accounts().find(a => a.id === accountId);\r\n    if (!account) return false;\r\n    \r\n    return new Promise((resolve) => {\r\n      this.ipc.send('disconnect-account', { accountId, phone: account.phone });\r\n      resolve(true);\r\n    });\r\n  }\r\n  \r\n  async deleteAccount(accountId: number): Promise<boolean> {\r\n    return new Promise((resolve) => {\r\n      this.ipc.send('delete-account', { accountId });\r\n      resolve(true);\r\n    });\r\n  }\r\n  \r\n  async setAccountRole(accountId: number, role: AccountRole): Promise<boolean> {\r\n    const account = this._accounts().find(a => a.id === accountId);\r\n    if (!account) return false;\r\n    \r\n    this.updateAccount({ ...account, role });\r\n    \r\n    return new Promise((resolve) => {\r\n      this.ipc.send('update-account', { \r\n        accountId, \r\n        updates: { role } \r\n      });\r\n      resolve(true);\r\n    });\r\n  }\r\n  \r\n  async batchSetRole(accountIds: number[], role: AccountRole): Promise<void> {\r\n    for (const id of accountIds) {\r\n      await this.setAccountRole(id, role);\r\n    }\r\n    this.toast.success(`Â∑≤Â∞á ${accountIds.length} ÂÄãÂ∏≥ËôüË®≠ÁÇ∫ ${this.getRoleName(role)}`);\r\n  }\r\n  \r\n  async batchConnect(accountIds: number[]): Promise<void> {\r\n    for (const id of accountIds) {\r\n      await this.connectAccount(id);\r\n    }\r\n    this.toast.info(`Ê≠£Âú®ÈÄ£Êé• ${accountIds.length} ÂÄãÂ∏≥Ëôü...`);\r\n  }\r\n  \r\n  async batchDisconnect(accountIds: number[]): Promise<void> {\r\n    for (const id of accountIds) {\r\n      await this.disconnectAccount(id);\r\n    }\r\n    this.toast.info(`Ê≠£Âú®Êñ∑Èñã ${accountIds.length} ÂÄãÂ∏≥Ëôü...`);\r\n  }\r\n  \r\n  // ========== ËºîÂä©ÊñπÊ≥ï ==========\r\n  \r\n  getAccount(accountId: number): TelegramAccount | undefined {\r\n    return this._accounts().find(a => a.id === accountId);\r\n  }\r\n  \r\n  getAccountByPhone(phone: string): TelegramAccount | undefined {\r\n    return this._accounts().find(a => a.phone === phone);\r\n  }\r\n  \r\n  getRoleInfo(role: AccountRole): RoleInfo | undefined {\r\n    return ACCOUNT_ROLES.find(r => r.id === role);\r\n  }\r\n  \r\n  getRoleName(role: AccountRole): string {\r\n    return this.getRoleInfo(role)?.name || 'Êú™Áü•';\r\n  }\r\n  \r\n  getRoleIcon(role: AccountRole): string {\r\n    return this.getRoleInfo(role)?.icon || '‚≠ï';\r\n  }\r\n  \r\n  getStatusColor(status: AccountStatus): string {\r\n    const colors: Record<string, string> = {\r\n      'Online': 'text-green-400',\r\n      'Offline': 'text-gray-400',\r\n      'Connecting': 'text-yellow-400',\r\n      'Error': 'text-red-400',\r\n      'Banned': 'text-red-500',\r\n      'Limited': 'text-orange-400'\r\n    };\r\n    return colors[status] || 'text-gray-400';\r\n  }\r\n  \r\n  getStatusText(status: AccountStatus): string {\r\n    const texts: Record<string, string> = {\r\n      'Online': 'Âú®Á∑ö',\r\n      'Offline': 'Èõ¢Á∑ö',\r\n      'Connecting': 'ÈÄ£Êé•‰∏≠',\r\n      'Error': 'ÈåØË™§',\r\n      'Banned': 'Â∑≤Â∞ÅÁ¶Å',\r\n      'Limited': 'ÂèóÈôê'\r\n    };\r\n    return texts[status] || 'Êú™Áü•';\r\n  }\r\n  \r\n  // ========== ÁôªÈåÑÁãÄÊÖãÁÆ°ÁêÜ ==========\r\n  \r\n  private _loginState = signal<LoginState>({\r\n    accountId: null,\r\n    phone: '',\r\n    requiresCode: false,\r\n    requires2FA: false,\r\n    phoneCodeHash: null,\r\n    isSubmittingCode: false\r\n  });\r\n  \r\n  private _loginCode = signal('');\r\n  private _login2FAPassword = signal('');\r\n  \r\n  loginState = this._loginState.asReadonly();\r\n  loginCode = this._loginCode.asReadonly();\r\n  login2FAPassword = this._login2FAPassword.asReadonly();\r\n  \r\n  setLoginCode(code: string): void {\r\n    this._loginCode.set(code);\r\n  }\r\n  \r\n  setLogin2FAPassword(password: string): void {\r\n    this._login2FAPassword.set(password);\r\n  }\r\n  \r\n  // ========== ÁôªÈåÑÊìç‰Ωú ==========\r\n  \r\n  loginAccount(accountId: number): void {\r\n    const account = this._accounts().find(a => a.id === accountId);\r\n    if (!account) {\r\n      this.toast.error('Ë¥¶Êà∑Êú™ÊâæÂà∞');\r\n      return;\r\n    }\r\n    \r\n    this.toast.info('Ê≠£Âú®ÁôªÂΩïË¥¶Êà∑...');\r\n    \r\n    // Reset login state\r\n    this._loginState.set({\r\n      accountId: accountId,\r\n      phone: account.phone,\r\n      requiresCode: false,\r\n      requires2FA: false,\r\n      phoneCodeHash: null,\r\n      isSubmittingCode: false\r\n    });\r\n    this._loginCode.set('');\r\n    this._login2FAPassword.set('');\r\n    \r\n    this.ipc.send('login-account', accountId);\r\n  }\r\n  \r\n  logoutAccount(accountId: number): void {\r\n    const account = this._accounts().find(a => a.id === accountId);\r\n    if (!account) {\r\n      this.toast.error('Ë¥¶Êà∑Êú™ÊâæÂà∞');\r\n      return;\r\n    }\r\n    \r\n    if (confirm(`Á°ÆÂÆöË¶ÅÈÄÄÂá∫Ë¥¶Êà∑ ${account.phone} ÂêóÔºü`)) {\r\n      this.toast.info('Ê≠£Âú®ÈÄÄÂá∫Ë¥¶Êà∑...');\r\n      this.ipc.send('logout-account', accountId);\r\n    }\r\n  }\r\n  \r\n  submitLoginCode(): void {\r\n    const state = this._loginState();\r\n    if (!state.accountId || !state.phoneCodeHash || !this._loginCode().trim()) {\r\n      return;\r\n    }\r\n    \r\n    // Immediately close dialog and show loading state\r\n    this._loginState.set({\r\n      accountId: state.accountId,\r\n      phone: state.phone,\r\n      requiresCode: false,\r\n      requires2FA: false,\r\n      phoneCodeHash: state.phoneCodeHash,\r\n      isSubmittingCode: true\r\n    });\r\n    \r\n    this.toast.info('Ê≠£Âú®È™åËØÅÈ™åËØÅÁ†Å...');\r\n    \r\n    this.ipc.send('login-account', {\r\n      accountId: state.accountId,\r\n      phoneCode: this._loginCode().trim(),\r\n      phoneCodeHash: state.phoneCodeHash\r\n    });\r\n    \r\n    this._loginCode.set('');\r\n  }\r\n  \r\n  submitLogin2FA(): void {\r\n    const state = this._loginState();\r\n    if (!state.accountId || !this._login2FAPassword().trim()) {\r\n      return;\r\n    }\r\n    \r\n    this.ipc.send('login-account', {\r\n      accountId: state.accountId,\r\n      twoFactorPassword: this._login2FAPassword().trim()\r\n    });\r\n    \r\n    this._login2FAPassword.set('');\r\n  }\r\n  \r\n  cancelLogin(): void {\r\n    this._loginState.set({\r\n      accountId: null,\r\n      phone: '',\r\n      requiresCode: false,\r\n      requires2FA: false,\r\n      phoneCodeHash: null,\r\n      isSubmittingCode: false\r\n    });\r\n    this._loginCode.set('');\r\n    this._login2FAPassword.set('');\r\n  }\r\n  \r\n  resendVerificationCode(): void {\r\n    const state = this._loginState();\r\n    if (!state.accountId) return;\r\n    \r\n    this._loginState.set({\r\n      accountId: state.accountId,\r\n      phone: state.phone,\r\n      requiresCode: false,\r\n      requires2FA: false,\r\n      phoneCodeHash: null,\r\n      isSubmittingCode: false\r\n    });\r\n    this._loginCode.set('');\r\n    \r\n    this.toast.info('Ê≠£Âú®ÈáçÊñ∞ÂèëÈÄÅÈ™åËØÅÁ†ÅÂà∞ÊÇ®ÁöÑ Telegram Â∫îÁî®...', 5000);\r\n    this.ipc.send('login-account', state.accountId);\r\n  }\r\n  \r\n  checkAccountStatus(accountId: number): void {\r\n    this.ipc.send('check-account-status', accountId);\r\n  }\r\n  \r\n  // ========== IPC ‰∫ã‰ª∂ËôïÁêÜ ==========\r\n  \r\n  handleCodeRequired(data: { accountId: number; phoneCodeHash: string }): void {\r\n    this._loginState.update(s => ({\r\n      ...s,\r\n      accountId: data.accountId,\r\n      requiresCode: true,\r\n      phoneCodeHash: data.phoneCodeHash,\r\n      isSubmittingCode: false\r\n    }));\r\n  }\r\n  \r\n  handle2FARequired(data: { accountId: number }): void {\r\n    this._loginState.update(s => ({\r\n      ...s,\r\n      accountId: data.accountId,\r\n      requiresCode: false,\r\n      requires2FA: true,\r\n      isSubmittingCode: false\r\n    }));\r\n  }\r\n  \r\n  handleLoginSuccess(data: { accountId: number }): void {\r\n    this._loginState.set({\r\n      accountId: null,\r\n      phone: '',\r\n      requiresCode: false,\r\n      requires2FA: false,\r\n      phoneCodeHash: null,\r\n      isSubmittingCode: false\r\n    });\r\n    this.toast.success('ÁôªÂΩïÊàêÂäü');\r\n  }\r\n  \r\n  handleLoginFailed(data: { accountId: number; error: string }): void {\r\n    this._loginState.update(s => ({\r\n      ...s,\r\n      isSubmittingCode: false\r\n    }));\r\n    this.toast.error(`ÁôªÂΩïÂ§±Ë¥•: ${data.error}`);\r\n  }\r\n  \r\n  handleLogoutResult(data: { success: boolean; accountId: number; error?: string }): void {\r\n    if (data.success) {\r\n      const account = this._accounts().find(a => a.id === data.accountId);\r\n      this.toast.success(`Ë¥¶Êà∑ ${account?.phone || ''} Â∑≤ÈÄÄÂá∫`);\r\n    } else {\r\n      this.toast.error(`ÈÄÄÂá∫Â§±Ë¥•: ${data.error || 'Êú™Áü•ÈîôËØØ'}`);\r\n    }\r\n  }\r\n}\r\n\r\n// ========== È°ûÂûãÂÆöÁæ© ==========\r\n\r\nexport interface LoginState {\r\n  accountId: number | null;\r\n  phone: string;\r\n  requiresCode: boolean;\r\n  requires2FA: boolean;\r\n  phoneCodeHash: string | null;\r\n  isSubmittingCode: boolean;\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
