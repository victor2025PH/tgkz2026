{
  "version": 3,
  "sources": ["src/core/auth-events.service.ts", "src/core/auth.service.ts"],
  "sourcesContent": ["/**\r\n * Ë™çË≠â‰∫ã‰ª∂ÊúçÂãô\r\n * \r\n * üÜï Áµ±‰∏ÄË™çË≠â‰∫ã‰ª∂Á∏ΩÁ∑ö\r\n * Ëß£Ê±∫Â§öÂÄã AuthService ÁãÄÊÖã‰∏çÂêåÊ≠•ÁöÑÂïèÈ°å\r\n * \r\n * Ë®≠Ë®àÂéüÂâáÔºö\r\n * 1. ÂñÆ‰∏Ä‰∫ã‰ª∂Ê∫ê - ÊâÄÊúâË™çË≠â‰∫ã‰ª∂ÈÄöÈÅéÊ≠§ÊúçÂãôÂª£Êí≠\r\n * 2. Ëß£ËÄ¶‰æùË≥¥ - ÈÅøÂÖçÊúçÂãôÈñìÂæ™Áí∞‰æùË≥¥\r\n * 3. ‰∫ã‰ª∂È©ÖÂãï - ‰ΩøÁî® RxJS Subject Âª£Êí≠‰∫ã‰ª∂\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n// Ë™çË≠â‰∫ã‰ª∂È°ûÂûã\r\nexport type AuthEventType = \r\n  | 'login'           // ÁôªÂÖ•ÊàêÂäü\r\n  | 'logout'          // ÁôªÂá∫\r\n  | 'session_expired' // ÊúÉË©±ÈÅéÊúü\r\n  | 'token_refresh'   // Token Âà∑Êñ∞\r\n  | 'user_update';    // Áî®Êà∂‰ø°ÊÅØÊõ¥Êñ∞\r\n\r\n// Ë™çË≠â‰∫ã‰ª∂Êï∏Êìö\r\nexport interface AuthEvent {\r\n  type: AuthEventType;\r\n  payload?: any;\r\n  timestamp: number;\r\n}\r\n\r\n// Token Â≠òÂÑ≤Èçµ - ÈõÜ‰∏≠ÁÆ°ÁêÜ\r\nexport const AUTH_STORAGE_KEYS = {\r\n  ACCESS_TOKEN: 'tgm_access_token',\r\n  REFRESH_TOKEN: 'tgm_refresh_token',\r\n  AUTH_TOKEN: 'tgm_auth_token',  // ËàäÁâàÂÖºÂÆπ\r\n  USER: 'tgm_user',\r\n  SESSION_ID: 'tgm_session_id',\r\n  REMEMBER_ME: 'tgm_remember_me'  // üÜï Ë®ò‰ΩèÁôªÂÖ•ÁãÄÊÖã\r\n} as const;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthEventsService {\r\n  // Ë™çË≠â‰∫ã‰ª∂‰∏ªÈ°å\r\n  private _authEvents = new Subject<AuthEvent>();\r\n  \r\n  // ÂÖ¨ÈñãÁöÑ‰∫ã‰ª∂ÊµÅ\r\n  readonly authEvents$: Observable<AuthEvent> = this._authEvents.asObservable();\r\n  \r\n  /**\r\n   * Âª£Êí≠ÁôªÂÖ•‰∫ã‰ª∂\r\n   */\r\n  emitLogin(payload?: any): void {\r\n    this._authEvents.next({\r\n      type: 'login',\r\n      payload,\r\n      timestamp: Date.now()\r\n    });\r\n    console.log('[AuthEvents] Login event emitted');\r\n  }\r\n  \r\n  /**\r\n   * Âª£Êí≠ÁôªÂá∫‰∫ã‰ª∂\r\n   */\r\n  emitLogout(): void {\r\n    this._authEvents.next({\r\n      type: 'logout',\r\n      timestamp: Date.now()\r\n    });\r\n    console.log('[AuthEvents] Logout event emitted');\r\n  }\r\n  \r\n  /**\r\n   * Âª£Êí≠ÊúÉË©±ÈÅéÊúü‰∫ã‰ª∂\r\n   */\r\n  emitSessionExpired(): void {\r\n    this._authEvents.next({\r\n      type: 'session_expired',\r\n      timestamp: Date.now()\r\n    });\r\n    console.log('[AuthEvents] Session expired event emitted');\r\n  }\r\n  \r\n  /**\r\n   * Âª£Êí≠ Token Âà∑Êñ∞‰∫ã‰ª∂\r\n   */\r\n  emitTokenRefresh(newToken: string): void {\r\n    this._authEvents.next({\r\n      type: 'token_refresh',\r\n      payload: { token: newToken },\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Âª£Êí≠Áî®Êà∂‰ø°ÊÅØÊõ¥Êñ∞‰∫ã‰ª∂\r\n   */\r\n  emitUserUpdate(user: any): void {\r\n    this._authEvents.next({\r\n      type: 'user_update',\r\n      payload: { user },\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Ê∏ÖÈô§ÊâÄÊúâË™çË≠âÁõ∏ÈóúÁöÑ localStorage\r\n   * ÈõÜ‰∏≠ÂºèÁÆ°ÁêÜÔºåÁ¢∫‰øùÂæπÂ∫ïÊ∏ÖÈô§\r\n   */\r\n  clearAllAuthStorage(): void {\r\n    console.log('[AuthEvents] Clearing all auth storage');\r\n    Object.values(AUTH_STORAGE_KEYS).forEach(key => {\r\n      localStorage.removeItem(key);\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Áç≤ÂèñÁï∂Ââç TokenÔºàÂæû localStorageÔºâ\r\n   */\r\n  getStoredToken(): string | null {\r\n    return localStorage.getItem(AUTH_STORAGE_KEYS.ACCESS_TOKEN) \r\n        || localStorage.getItem(AUTH_STORAGE_KEYS.AUTH_TOKEN);\r\n  }\r\n  \r\n  /**\r\n   * Áç≤ÂèñÂ≠òÂÑ≤ÁöÑÁî®Êà∂‰ø°ÊÅØ\r\n   */\r\n  getStoredUser(): any | null {\r\n    try {\r\n      const userJson = localStorage.getItem(AUTH_STORAGE_KEYS.USER);\r\n      return userJson ? JSON.parse(userJson) : null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n", "/**\n * TG-Matrix Ë™çË≠âÊúçÂãô\n * \n * ÂÑ™ÂåñË®≠Ë®àÔºö\n * 1. Áµ±‰∏ÄÁöÑË™çË≠âÁãÄÊÖãÁÆ°ÁêÜ\n * 2. Token Ëá™ÂãïÂà∑Êñ∞\n * 3. Ë®≠ÂÇôÁÆ°ÁêÜ\n * 4. Èõ¢Á∑öÊîØÊåÅ\n */\n\nimport { Injectable, inject, signal, computed, effect, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { ApiService } from './api.service';\nimport { AuthEventsService, AUTH_STORAGE_KEYS } from './auth-events.service';\n\n// Áî®Êà∂Ê®°Âûã\nexport interface User {\n  id: string;\n  email: string;\n  username: string;\n  display_name: string;\n  avatar_url: string;\n  role: string;\n  subscription_tier: string;\n  max_accounts: number;\n  is_active: boolean;\n  is_verified: boolean;\n  two_factor_enabled: boolean;\n  created_at: string;\n  last_login_at: string;\n  // üÜï ÈÇÄË´ãÁõ∏ÈóúÂ≠óÊÆµ\n  invite_code?: string;\n  inviteCode?: string;\n  invited_count?: number;\n}\n\n// Ë™çË≠âÁãÄÊÖã\nexport interface AuthState {\n  user: User | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  accessToken: string | null;\n  refreshToken: string | null;\n}\n\n// ÁôªÂÖ•Ë´ãÊ±Ç\nexport interface LoginRequest {\n  email: string;\n  password: string;\n  remember?: boolean;\n  device_name?: string;\n}\n\n// Ë®ªÂÜäË´ãÊ±Ç\nexport interface RegisterRequest {\n  email: string;\n  password: string;\n  username?: string;\n  display_name?: string;\n}\n\n// Token Â≠òÂÑ≤ÈçµÔºà‰ΩøÁî®ÈõÜ‰∏≠ÂÆöÁæ©Ôºâ\nconst TOKEN_KEYS = AUTH_STORAGE_KEYS;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService implements OnDestroy {\n  private api = inject(ApiService);\n  private router = inject(Router);\n  private authEvents = inject(AuthEventsService);\n  \n  // ‰∫ã‰ª∂Ë®ÇÈñ±\n  private eventSubscription: Subscription | null = null;\n  \n  // ÁãÄÊÖã‰ø°Ëôü\n  private _user = signal<User | null>(null);\n  private _isLoading = signal<boolean>(false);\n  private _accessToken = signal<string | null>(null);\n  private _refreshToken = signal<string | null>(null);\n  \n  // Token Âà∑Êñ∞ÂÆöÊôÇÂô®\n  private refreshTimer: any = null;\n  \n  // ÂÖ¨ÈñãÁöÑË®àÁÆóÂ±¨ÊÄß\n  readonly user = computed(() => this._user());\n  // üîß ‰øÆÂæ©ÔºöÂè™ÈúÄË¶Å Token Â≠òÂú®Âç≥ÂèØË™çÁÇ∫Â∑≤Ë™çË≠âÔºàuser ÂèØ‰ª•Âª∂ÈÅ≤Âä†ËºâÔºâ\n  readonly isAuthenticated = computed(() => !!this._accessToken());\n  readonly isLoading = computed(() => this._isLoading());\n  readonly accessToken = computed(() => this._accessToken());\n  \n  // Ë®ÇÈñ±‰ø°ÊÅØ\n  readonly subscriptionTier = computed(() => this._user()?.subscription_tier || 'free');\n  readonly maxAccounts = computed(() => this._user()?.max_accounts || 3);\n  readonly isPro = computed(() => ['pro', 'enterprise'].includes(this.subscriptionTier()));\n  \n  // ÊúÉÂì°Á≠âÁ¥öÔºàÂÖºÂÆπËàäÊé•Âè£Ôºâ\n  readonly membershipLevel = computed(() => {\n    const tier = this.subscriptionTier();\n    const tierMap: Record<string, string> = {\n      'free': 'bronze',\n      'basic': 'silver',\n      'pro': 'gold',\n      'enterprise': 'diamond'\n    };\n    return tierMap[tier] || 'bronze';\n  });\n  \n  \n  // üîß Ê®ôË®òÊòØÂê¶Â∑≤ÂÆåÊàêÂàùÂßãÂåñÔºåÈÅøÂÖç effect Âú®ÂàùÂßãÂåñÊôÇÂà™Èô§ localStorage\n  private _initialized = false;\n  \n  constructor() {\n    // ÂàùÂßãÂåñÊôÇÊÅ¢Âæ©ÁãÄÊÖã\n    this.restoreSession();\n    this._initialized = true;\n    \n    // üÜï Ë®ÇÈñ±Ë™çË≠â‰∫ã‰ª∂ÔºàËôïÁêÜ‰æÜËá™ÂÖ∂‰ªñÊúçÂãôÁöÑÁôªÂá∫ÈÄöÁü•Ôºâ\n    this.eventSubscription = this.authEvents.authEvents$.subscribe(event => {\n      if (event.type === 'logout') {\n        console.log('[CoreAuthService] Received logout event, clearing state');\n        this.clearAuthStateInternal();\n      }\n    });\n    \n    // Token ËÆäÂåñÊôÇËá™Âãï‰øùÂ≠ò - üîß ‰øÆÂæ©ÔºöÂè™Âú®ÂàùÂßãÂåñÂæåÊâçÂü∑Ë°åÂà™Èô§Êìç‰Ωú\n    effect(() => {\n      const token = this._accessToken();\n      if (token) {\n        localStorage.setItem(TOKEN_KEYS.ACCESS_TOKEN, token);\n      } else if (this._initialized) {\n        // üîß Âè™ÊúâÂú®ÂàùÂßãÂåñÂÆåÊàêÂæåÔºåÊâçÂà™Èô§ localStorage\n        // ÈÅøÂÖçÂú®ÊßãÈÄ†ÂáΩÊï∏‰∏≠Âõ†ÁÇ∫ÂàùÂßãÂÄº null ËÄåÂà™Èô§Â∑≤‰øùÂ≠òÁöÑ Token\n        localStorage.removeItem(TOKEN_KEYS.ACCESS_TOKEN);\n      }\n    });\n    \n    effect(() => {\n      const token = this._refreshToken();\n      if (token) {\n        localStorage.setItem(TOKEN_KEYS.REFRESH_TOKEN, token);\n      } else if (this._initialized) {\n        localStorage.removeItem(TOKEN_KEYS.REFRESH_TOKEN);\n      }\n    });\n    \n    effect(() => {\n      const user = this._user();\n      if (user) {\n        localStorage.setItem(TOKEN_KEYS.USER, JSON.stringify(user));\n      } else if (this._initialized) {\n        localStorage.removeItem(TOKEN_KEYS.USER);\n      }\n    });\n  }\n  \n  ngOnDestroy(): void {\n    this.eventSubscription?.unsubscribe();\n  }\n  \n  // ==================== ÂÖ¨ÈñãÊñπÊ≥ï ====================\n  \n  /**\n   * Áî®Êà∂Ë®ªÂÜä\n   */\n  async register(request: RegisterRequest): Promise<{ success: boolean; error?: string }> {\n    this._isLoading.set(true);\n    \n    try {\n      const result = await this.api.command<any>('user-register', request);\n      \n      if (result.success && result.data) {\n        this.setAuthState(result.data);\n        return { success: true };\n      }\n      \n      return { success: false, error: result.error || 'Ë®ªÂÜäÂ§±Êïó' };\n    } catch (e: any) {\n      return { success: false, error: e.message || 'Ë®ªÂÜäÂ§±Êïó' };\n    } finally {\n      this._isLoading.set(false);\n    }\n  }\n  \n  /**\n   * Áî®Êà∂ÁôªÂÖ•\n   */\n  async login(request: LoginRequest): Promise<{ success: boolean; error?: string }> {\n    this._isLoading.set(true);\n    \n    try {\n      // Ë™øÁî® HTTP API\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/login`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          email: request.email,\n          password: request.password,\n          device_name: request.device_name || this.getDeviceName(),\n          remember: request.remember || false // üÜï ÂÇ≥ÈÅûË®ò‰ΩèÁôªÂÖ•ÈÅ∏È†Ö\n        })\n      });\n      \n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        // üÜï ‰øùÂ≠òË®ò‰ΩèÁãÄÊÖã\n        if (request.remember) {\n          localStorage.setItem('tgm_remember_me', 'true');\n        } else {\n          localStorage.removeItem('tgm_remember_me');\n        }\n        \n        this.setAuthState(result.data);\n        this.scheduleTokenRefresh();\n        return { success: true };\n      }\n      \n      return { success: false, error: result.error || 'ÁôªÂÖ•Â§±Êïó' };\n    } catch (e: any) {\n      return { success: false, error: e.message || 'ÁôªÂÖ•Â§±Êïó' };\n    } finally {\n      this._isLoading.set(false);\n    }\n  }\n  \n  /**\n   * Áç≤Âèñ Telegram OAuth ÈÖçÁΩÆ\n   */\n  async getTelegramConfig(): Promise<{ enabled: boolean; bot_username?: string; bot_id?: string }> {\n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/oauth/telegram/config`);\n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        return result.data;\n      }\n      \n      return { enabled: false };\n    } catch (e) {\n      console.error('Failed to get Telegram config:', e);\n      return { enabled: false };\n    }\n  }\n  \n  /**\n   * Telegram OAuth ÁôªÂÖ•\n   */\n  async telegramLogin(authData: any): Promise<{ success: boolean; error?: string }> {\n    this._isLoading.set(true);\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/oauth/telegram`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(authData)\n      });\n      \n      const result = await response.json();\n      \n      if (result.success) {\n        // Ë®≠ÁΩÆË™çË≠âÁãÄÊÖã\n        this.setAuthState({\n          user: result.user,\n          access_token: result.access_token,\n          refresh_token: result.refresh_token\n        });\n        this.scheduleTokenRefresh();\n        return { success: true };\n      }\n      \n      return { success: false, error: result.error || 'Telegram ÁôªÂÖ•Â§±Êïó' };\n    } catch (e: any) {\n      return { success: false, error: e.message || 'Telegram ÁôªÂÖ•Â§±Êïó' };\n    } finally {\n      this._isLoading.set(false);\n    }\n  }\n  \n  /**\n   * ÁôªÂá∫\n   */\n  async logout(): Promise<void> {\n    try {\n      const token = this._accessToken();\n      if (token) {\n        await fetch(`${this.getApiBaseUrl()}/api/v1/auth/logout`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        });\n      }\n    } catch (e) {\n      console.error('Logout error:', e);\n    } finally {\n      // üÜï Âª£Êí≠ÁôªÂá∫‰∫ã‰ª∂ÔºåÈÄöÁü•ÊâÄÊúâË®ÇÈñ±ËÄÖ\n      this.authEvents.emitLogout();\n      // Ê∏ÖÈô§Êú¨ÊúçÂãôÁãÄÊÖã\n      this.clearAuthStateInternal();\n      // üîß ‰øÆÂæ©Ôºö‰ΩøÁî®Ê≠£Á¢∫ÁöÑÁôªÂÖ•È†ÅÈù¢Ë∑ØÂæë\n      this.router.navigate(['/auth/login']);\n    }\n  }\n  \n  /**\n   * Ë´ãÊ±ÇÂØÜÁ¢ºÈáçÁΩÆ\n   */\n  async forgotPassword(email: string): Promise<{ success: boolean; error?: string }> {\n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/forgot-password`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email })\n      });\n      \n      const result = await response.json();\n      return { success: result.success, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * ÈáçÁΩÆÂØÜÁ¢º\n   */\n  async resetPassword(token: string, password: string): Promise<{ success: boolean; error?: string }> {\n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/reset-password`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ token, password })\n      });\n      \n      const result = await response.json();\n      return { success: result.success, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * È©óË≠âÈÉµÁÆ±ÔºàÈÄöÈÅé TokenÔºâ\n   */\n  async verifyEmail(token: string): Promise<{ success: boolean; error?: string }> {\n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/verify-email`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ token })\n      });\n      \n      const result = await response.json();\n      return { success: result.success, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * È©óË≠âÈÉµÁÆ±ÔºàÈÄöÈÅéÈ©óË≠âÁ¢ºÔºâ\n   */\n  async verifyEmailByCode(email: string, code: string): Promise<{ success: boolean; error?: string }> {\n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/verify-email-code`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, code })\n      });\n      \n      const result = await response.json();\n      return { success: result.success, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * ÈáçÊñ∞ÁôºÈÄÅÈ©óË≠âÈÉµ‰ª∂\n   */\n  async resendVerificationEmail(): Promise<{ success: boolean; error?: string }> {\n    try {\n      const token = this._accessToken();\n      if (!token) {\n        return { success: false, error: 'Êú™ÁôªÂÖ•' };\n      }\n      \n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/send-verification`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      const result = await response.json();\n      return { success: result.success, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * Âà∑Êñ∞ Token\n   */\n  async refreshAccessToken(): Promise<boolean> {\n    const refreshToken = this._refreshToken();\n    if (!refreshToken) {\n      return false;\n    }\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/refresh`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ refresh_token: refreshToken })\n      });\n      \n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        this._accessToken.set(result.data.access_token);\n        this._refreshToken.set(result.data.refresh_token);\n        this.scheduleTokenRefresh();\n        return true;\n      }\n      \n      return false;\n    } catch (e) {\n      console.error('Token refresh error:', e);\n      return false;\n    }\n  }\n  \n  /**\n   * Áç≤ÂèñÁï∂ÂâçÁî®Êà∂‰ø°ÊÅØ\n   * üîß ÂÑ™ÂåñÔºöÂêåÊôÇÊ™¢Êü• Signal Âíå localStorageÔºåÁ¢∫‰øù Token Á∏ΩËÉΩË¢´ËÆÄÂèñ\n   */\n  async fetchCurrentUser(): Promise<User | null> {\n    // üîß ‰øÆÂæ©ÔºöÂêåÊôÇÊ™¢Êü• Signal Âíå localStorage\n    const token = this._accessToken() || localStorage.getItem(TOKEN_KEYS.ACCESS_TOKEN);\n    if (!token) {\n      console.log('[AuthService] fetchCurrentUser: No token available');\n      return null;\n    }\n    \n    // Á¢∫‰øù Signal ÂêåÊ≠•ÔºàÈò≤Ê≠¢‰∏ç‰∏ÄËá¥Ôºâ\n    if (!this._accessToken() && token) {\n      this._accessToken.set(token);\n    }\n    \n    try {\n      console.log('[AuthService] fetchCurrentUser: Fetching user info...');\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/me`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      // üîß ËôïÁêÜÈùû 200 ÈüøÊáâ\n      if (!response.ok) {\n        console.warn(`[AuthService] fetchCurrentUser: HTTP ${response.status}`);\n        if (response.status === 401) {\n          // Token ÁÑ°ÊïàÔºåÊ∏ÖÈô§Ë™çË≠âÁãÄÊÖã\n          console.warn('[AuthService] Token invalid, clearing session');\n          // ‰∏çÁõ¥Êé•Ê∏ÖÈô§ÔºåËÆìË™øÁî®ËÄÖÊ±∫ÂÆöÂ¶Ç‰ΩïËôïÁêÜ\n        }\n        return null;\n      }\n      \n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        console.log('[AuthService] fetchCurrentUser: Success', result.data.username);\n        this._user.set(result.data);\n        // üîß ÂêåÊ≠•Êõ¥Êñ∞ localStorageÔºàÁ¢∫‰øù‰∏ÄËá¥ÊÄßÔºâ\n        localStorage.setItem(TOKEN_KEYS.USER, JSON.stringify(result.data));\n        return result.data;\n      }\n      \n      console.warn('[AuthService] fetchCurrentUser: API returned', result);\n      return null;\n    } catch (e) {\n      console.error('[AuthService] fetchCurrentUser error:', e);\n      return null;\n    }\n  }\n  \n  /**\n   * Êõ¥Êñ∞Áî®Êà∂‰ø°ÊÅØ\n   */\n  async updateProfile(updates: Partial<User>): Promise<{ success: boolean; error?: string }> {\n    const token = this._accessToken();\n    if (!token) {\n      return { success: false, error: 'Êú™ÁôªÂÖ•' };\n    }\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/me`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(updates)\n      });\n      \n      const result = await response.json();\n      \n      if (result.success) {\n        // Êõ¥Êñ∞Êú¨Âú∞Áî®Êà∂‰ø°ÊÅØ\n        const currentUser = this._user();\n        if (currentUser) {\n          this._user.set({ ...currentUser, ...updates });\n        }\n        return { success: true };\n      }\n      \n      return { success: false, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * ‰øÆÊîπÂØÜÁ¢º\n   */\n  async changePassword(oldPassword: string, newPassword: string): Promise<{ success: boolean; error?: string }> {\n    const token = this._accessToken();\n    if (!token) {\n      return { success: false, error: 'Êú™ÁôªÂÖ•' };\n    }\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/change-password`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ old_password: oldPassword, new_password: newPassword })\n      });\n      \n      const result = await response.json();\n      return { success: result.success, error: result.error };\n    } catch (e: any) {\n      return { success: false, error: e.message };\n    }\n  }\n  \n  /**\n   * Áç≤ÂèñÊúÉË©±ÂàóË°®\n   */\n  /**\n   * üÜï Phase 4: Áç≤ÂèñÁî®Êà∂ÊâÄÊúâË®≠ÂÇô\n   */\n  async getSessions(): Promise<any[]> {\n    const token = this._accessToken();\n    if (!token) return [];\n    \n    try {\n      // ‰ΩøÁî®Êñ∞ÁöÑË®≠ÂÇôÁÆ°ÁêÜ API\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/devices`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      const result = await response.json();\n      return result.success ? (result.data?.devices || []) : [];\n    } catch (e) {\n      return [];\n    }\n  }\n  \n  /**\n   * Êí§Èä∑ÊúÉË©±\n   */\n  /**\n   * üÜï Phase 4: Êí§Èä∑ÊåáÂÆöË®≠ÂÇôÊúÉË©±\n   */\n  async revokeSession(sessionId: string): Promise<boolean> {\n    const token = this._accessToken();\n    if (!token) return false;\n    \n    try {\n      // ‰ΩøÁî®Êñ∞ÁöÑË®≠ÂÇôÁÆ°ÁêÜ API\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/devices/${sessionId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      const result = await response.json();\n      return result.success;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  /**\n   * üÜï Phase 4: ÁôªÂá∫Èô§Áï∂ÂâçË®≠ÂÇôÂ§ñÁöÑÊâÄÊúâË®≠ÂÇô\n   */\n  async revokeAllOtherSessions(): Promise<number> {\n    const token = this._accessToken();\n    if (!token) return 0;\n    \n    try {\n      // Áç≤ÂèñÁï∂ÂâçÊúÉË©± IDÔºàÂ¶ÇÊûúÊúâ‰øùÂ≠òÁöÑË©±Ôºâ\n      const currentSessionId = localStorage.getItem('tgm_session_id') || '';\n      \n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/devices/revoke-all`, {\n        method: 'POST',\n        headers: { \n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ current_session_id: currentSessionId })\n      });\n      \n      const result = await response.json();\n      return result.success ? (result.revoked_count || 0) : 0;\n    } catch (e) {\n      return 0;\n    }\n  }\n  \n  /**\n   * Ê™¢Êü•ÂäüËÉΩÊ¨äÈôê\n   */\n  hasFeature(feature: string): boolean {\n    const tier = this.subscriptionTier();\n    const featureMap: Record<string, string[]> = {\n      'free': ['basic_monitoring', 'basic_ai'],\n      'basic': ['basic_monitoring', 'basic_ai', 'templates'],\n      'pro': ['basic_monitoring', 'basic_ai', 'templates', 'full_monitoring', 'advanced_ai', 'team', 'api_access'],\n      'enterprise': ['all']\n    };\n    \n    const allowedFeatures = featureMap[tier] || [];\n    return allowedFeatures.includes('all') || allowedFeatures.includes(feature);\n  }\n  \n  /**\n   * Áç≤ÂèñË™çË≠â Header\n   * üîß ‰øÆÂæ©ÔºöÂêåÊôÇÊ™¢Êü• Signal Âíå localStorageÔºåÁ¢∫‰øù Token Á∏ΩËÉΩË¢´ËÆÄÂèñ\n   */\n  getAuthHeaders(): Record<string, string> {\n    const token = this._accessToken() || localStorage.getItem('tgm_access_token');\n    if (token) {\n      return { 'Authorization': `Bearer ${token}` };\n    }\n    return {};\n  }\n  \n  // ==================== üÜï Ë®≠ÂÇôÁÆ°ÁêÜ ====================\n  \n  /**\n   * Áç≤ÂèñÊâÄÊúâÁ∂ÅÂÆöË®≠ÂÇô\n   */\n  async getDevices(): Promise<any[]> {\n    const token = this._accessToken();\n    if (!token) return [];\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/devices`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      const result = await response.json();\n      return result.success ? (result.data?.devices || result.devices || []) : [];\n    } catch (e) {\n      console.error('Failed to get devices:', e);\n      return [];\n    }\n  }\n  \n  /**\n   * Á∂ÅÂÆöÊñ∞Ë®≠ÂÇô\n   */\n  async bindDevice(deviceCode: string, deviceName: string): Promise<{ success: boolean; message: string }> {\n    const token = this._accessToken();\n    if (!token) {\n      return { success: false, message: 'Êú™ÁôªÂÖ•' };\n    }\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/devices`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ device_code: deviceCode, device_name: deviceName })\n      });\n      \n      const result = await response.json();\n      return { success: result.success, message: result.message || (result.success ? 'Á∂ÅÂÆöÊàêÂäü' : 'Á∂ÅÂÆöÂ§±Êïó') };\n    } catch (e: any) {\n      return { success: false, message: e.message || 'Á∂ÅÂÆöÂ§±Êïó' };\n    }\n  }\n  \n  /**\n   * Ëß£Á∂ÅË®≠ÂÇô\n   */\n  async unbindDevice(deviceId: string | number): Promise<{ success: boolean; message: string }> {\n    const token = this._accessToken();\n    if (!token) {\n      return { success: false, message: 'Êú™ÁôªÂÖ•' };\n    }\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/devices/${deviceId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      const result = await response.json();\n      return { success: result.success, message: result.message || (result.success ? 'Ëß£Á∂ÅÊàêÂäü' : 'Ëß£Á∂ÅÂ§±Êïó') };\n    } catch (e: any) {\n      return { success: false, message: e.message || 'Ëß£Á∂ÅÂ§±Êïó' };\n    }\n  }\n  \n  // ==================== üÜï ÊúÉÂì°ÁÆ°ÁêÜ ====================\n  \n  /**\n   * Áç≤Âèñ‰ΩøÁî®Áµ±Ë®à\n   */\n  async getUsageStats(): Promise<any> {\n    const token = this._accessToken();\n    if (!token) return null;\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/usage-stats`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      const result = await response.json();\n      return result.success ? result.data : null;\n    } catch (e) {\n      console.error('Failed to get usage stats:', e);\n      return null;\n    }\n  }\n  \n  /**\n   * ÊøÄÊ¥ªÂç°ÂØÜÔºàÁ∫åË≤ª/ÂçáÁ¥öÊúÉÂì°Ôºâ\n   */\n  async activateLicense(licenseKey: string): Promise<{ success: boolean; message: string; data?: any }> {\n    const token = this._accessToken();\n    if (!token) {\n      return { success: false, message: 'Êú™ÁôªÂÖ•' };\n    }\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/license/activate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ license_key: licenseKey })\n      });\n      \n      const result = await response.json();\n      \n      if (result.success) {\n        // Êõ¥Êñ∞Áî®Êà∂‰ø°ÊÅØ\n        await this.fetchCurrentUser();\n        // Âª£Êí≠Áî®Êà∂Êõ¥Êñ∞‰∫ã‰ª∂\n        this.authEvents.emitUserUpdate(this._user());\n      }\n      \n      return { \n        success: result.success, \n        message: result.message || (result.success ? 'ÊøÄÊ¥ªÊàêÂäü' : 'ÊøÄÊ¥ªÂ§±Êïó'),\n        data: result.data \n      };\n    } catch (e: any) {\n      return { success: false, message: e.message || 'ÊøÄÊ¥ªÂ§±Êïó' };\n    }\n  }\n  \n  /**\n   * Áç≤ÂèñÈÇÄË´ãÁçéÂãµ‰ø°ÊÅØ\n   */\n  async getInviteRewards(): Promise<{ inviteCode: string; invitedCount: number; rewardDays: number }> {\n    const token = this._accessToken();\n    const user = this._user();\n    \n    const defaultResult = {\n      inviteCode: user?.invite_code || user?.inviteCode || '',\n      invitedCount: 0,\n      rewardDays: 0\n    };\n    \n    if (!token) return defaultResult;\n    \n    try {\n      const response = await fetch(`${this.getApiBaseUrl()}/api/v1/auth/invite-rewards`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      const result = await response.json();\n      return result.success ? {\n        inviteCode: result.data?.invite_code || defaultResult.inviteCode,\n        invitedCount: result.data?.invited_count || 0,\n        rewardDays: result.data?.reward_days || 0\n      } : defaultResult;\n    } catch (e) {\n      return defaultResult;\n    }\n  }\n  \n  // ==================== ÁßÅÊúâÊñπÊ≥ï ====================\n  \n  private setAuthState(data: any): void {\n    if (data.user) {\n      this._user.set(data.user);\n      // üîß ÂêåÊ≠•‰øùÂ≠òÂà∞ localStorageÔºàÈÅøÂÖç effect Áï∞Ê≠•Â∞éËá¥È†ÅÈù¢Âà∑Êñ∞ÂâçÊú™‰øùÂ≠òÔºâ\n      localStorage.setItem(TOKEN_KEYS.USER, JSON.stringify(data.user));\n    }\n    if (data.access_token) {\n      this._accessToken.set(data.access_token);\n      // üîß ÂêåÊ≠•‰øùÂ≠òÂà∞ localStorage\n      localStorage.setItem(TOKEN_KEYS.ACCESS_TOKEN, data.access_token);\n    }\n    if (data.refresh_token) {\n      this._refreshToken.set(data.refresh_token);\n      // üîß ÂêåÊ≠•‰øùÂ≠òÂà∞ localStorage\n      localStorage.setItem(TOKEN_KEYS.REFRESH_TOKEN, data.refresh_token);\n    }\n  }\n  \n  /**\n   * Ë®≠ÁΩÆÊúÉË©±ÔºàÂÖ¨ÈñãÊñπÊ≥ïÔºâ\n   * üÜï Áî®ÊñºÁôªÂÖ•ÊàêÂäüÂæåÁõ¥Êé•Ë®≠ÁΩÆË™çË≠âÁãÄÊÖã\n   */\n  setSession(data: { access_token?: string; refresh_token?: string; user?: any; session_id?: string }): void {\n    console.log('[AuthService] setSession called:', {\n      hasAccessToken: !!data.access_token,\n      hasRefreshToken: !!data.refresh_token,\n      hasUser: !!data.user\n    });\n    \n    // ÂÖàÁõ¥Êé•‰øùÂ≠òÂà∞ localStorageÔºàÁ¢∫‰øùÊåÅ‰πÖÂåñÔºâ\n    if (data.access_token) {\n      localStorage.setItem(TOKEN_KEYS.ACCESS_TOKEN, data.access_token);\n      this._accessToken.set(data.access_token);\n    }\n    if (data.refresh_token) {\n      localStorage.setItem(TOKEN_KEYS.REFRESH_TOKEN, data.refresh_token);\n      this._refreshToken.set(data.refresh_token);\n    }\n    if (data.user) {\n      localStorage.setItem(TOKEN_KEYS.USER, JSON.stringify(data.user));\n      this._user.set(data.user);\n    }\n    if (data.session_id) {\n      localStorage.setItem(TOKEN_KEYS.SESSION_ID, data.session_id);\n    }\n    \n    // üÜï Âª£Êí≠ÁôªÂÖ•‰∫ã‰ª∂\n    this.authEvents.emitLogin(data);\n    \n    console.log('[AuthService] setSession complete, isAuthenticated:', this.isAuthenticated());\n  }\n  \n  /**\n   * Ê∏ÖÈô§ÊúÉË©±ÔºàÂÖ¨ÈñãÊñπÊ≥ïÔºâ\n   * Áî®ÊñºË™çË≠âÂÆàË°õÁôºÁèæÁÑ°ÊïàÁãÄÊÖãÊôÇÊ∏ÖÁêÜ\n   * üÜï ÂêåÊôÇÂª£Êí≠‰∫ã‰ª∂ÈÄöÁü•ÂÖ∂‰ªñÊúçÂãô\n   */\n  clearSession(): void {\n    this.authEvents.emitLogout();\n    this.clearAuthStateInternal();\n  }\n  \n  /**\n   * ÂÖßÈÉ®Ê∏ÖÈô§ÁãÄÊÖãÔºà‰∏çÁôºÈÄÅ‰∫ã‰ª∂ÔºåÈÅøÂÖçÂæ™Áí∞Ôºâ\n   */\n  private clearAuthStateInternal(): void {\n    this._user.set(null);\n    this._accessToken.set(null);\n    this._refreshToken.set(null);\n    \n    if (this.refreshTimer) {\n      clearTimeout(this.refreshTimer);\n      this.refreshTimer = null;\n    }\n    \n    // üÜï ‰ΩøÁî®ÈõÜ‰∏≠ÂºèÊ∏ÖÈô§ÊñπÊ≥ï\n    this.authEvents.clearAllAuthStorage();\n  }\n  \n  /**\n   * @deprecated ‰ΩøÁî® clearAuthStateInternal ‰ª£Êõø\n   */\n  private clearAuthState(): void {\n    this.clearAuthStateInternal();\n  }\n  \n  private restoreSession(): void {\n    try {\n      const accessToken = localStorage.getItem(TOKEN_KEYS.ACCESS_TOKEN);\n      const refreshToken = localStorage.getItem(TOKEN_KEYS.REFRESH_TOKEN);\n      const userJson = localStorage.getItem(TOKEN_KEYS.USER);\n      \n      console.log('[Auth] restoreSession - accessToken:', !!accessToken, 'refreshToken:', !!refreshToken, 'user:', !!userJson);\n      \n      // üÜï P0: È©óË≠â Token Ê†ºÂºèÊúâÊïàÊÄß\n      if (accessToken && !this.isValidTokenFormat(accessToken)) {\n        console.warn('[Auth] Invalid token format, clearing session');\n        this.clearAuthState();\n        return;\n      }\n      \n      if (accessToken) {\n        console.log('[Auth] Setting accessToken signal');\n        this._accessToken.set(accessToken);\n      }\n      if (refreshToken) {\n        this._refreshToken.set(refreshToken);\n      }\n      if (userJson) {\n        try {\n          this._user.set(JSON.parse(userJson));\n          console.log('[Auth] User restored from localStorage');\n        } catch {\n          console.warn('[Auth] Invalid user JSON, clearing');\n          this.clearAuthState();\n          return;\n        }\n      }\n      \n      // üîß ‰øÆÂæ©ÔºöToken ÊúâÊïàÊÄßÊúÉÂú®ÂØ¶Èöõ API Ë´ãÊ±ÇÊôÇÁî±ÂæåÁ´ØÈ©óË≠â\n      console.log('[Auth] Session restored successfully');\n      \n      // üîß ÂÑ™ÂåñÔºöÂ¶ÇÊûúÊúâ Token ‰ΩÜÊ≤íÊúâÁî®Êà∂‰ø°ÊÅØÔºåÁ´ãÂç≥Áç≤ÂèñÔºà‰∏çÁ≠âÂæÖÔºâ\n      if (accessToken && !userJson) {\n        console.log('[Auth] Token exists but no user info, fetching immediately...');\n        // ‰ΩøÁî® queueMicrotask Á¢∫‰øùÂú®ÊßãÈÄ†ÂáΩÊï∏ÂÆåÊàêÂæåÂü∑Ë°å\n        queueMicrotask(() => {\n          if (this._accessToken()) {\n            this.fetchCurrentUser().then(user => {\n              if (user) {\n                console.log('[Auth] User info fetched successfully:', user.username);\n              } else {\n                console.warn('[Auth] Failed to fetch user info');\n              }\n            }).catch(e => {\n              console.warn('[Auth] Error fetching user info:', e);\n            });\n          }\n        });\n      }\n    } catch (e) {\n      console.error('Restore session error:', e);\n      this.clearAuthState();\n    }\n  }\n  \n  /**\n   * È©óË≠â Token Ê†ºÂºèÊòØÂê¶ÊúâÊïàÔºàJWT Ê†ºÂºèÊ™¢Êü•Ôºâ\n   */\n  private isValidTokenFormat(token: string): boolean {\n    if (!token || token.length < 20) return false;\n    \n    // JWT ÊáâË©≤Êúâ 3 ÂÄãÈÉ®ÂàÜÁî® . ÂàÜÈöî\n    const parts = token.split('.');\n    if (parts.length !== 3) return false;\n    \n    try {\n      // ÂòóË©¶Ëß£Êûê payloadÔºàËôïÁêÜ URL-safe Base64Ôºâ\n      const payload = JSON.parse(this.base64UrlDecode(parts[1]));\n      \n      // Ê™¢Êü•ÊòØÂê¶ÈÅéÊúü\n      if (payload.exp && Date.now() >= payload.exp * 1000) {\n        console.warn('[Auth] Token expired');\n        return false;\n      }\n      \n      return true;\n    } catch {\n      return false;\n    }\n  }\n  \n  /**\n   * Ëß£Á¢º URL-safe Base64ÔºàËôïÁêÜÂæåÁ´Ø JWT Á∑®Á¢ºÔºâ\n   */\n  private base64UrlDecode(str: string): string {\n    // Â∞á URL-safe Â≠óÁ¨¶ÊõøÊèõÂõûÊ®ôÊ∫ñ Base64\n    let base64 = str.replace(/-/g, '+').replace(/_/g, '/');\n    // Ë£úÈΩä padding\n    while (base64.length % 4) {\n      base64 += '=';\n    }\n    return atob(base64);\n  }\n  \n  private scheduleTokenRefresh(): void {\n    if (this.refreshTimer) {\n      clearTimeout(this.refreshTimer);\n    }\n    \n    // üÜï Ê†πÊìö\"Ë®ò‰ΩèÊàë\"ÁãÄÊÖãË™øÊï¥Âà∑Êñ∞ÈñìÈöî\n    const rememberMe = localStorage.getItem('tgm_remember_me') === 'true';\n    // ÊôÆÈÄöÔºö55 ÂàÜÈêòÂà∑Êñ∞ÔºåË®ò‰ΩèÊàëÔºö23 Â∞èÊôÇÂà∑Êñ∞ÔºàÂÅáË®≠ÂæåÁ´Ø Token ÊúâÊïàÊúü 1 Â∞èÊôÇ/24 Â∞èÊôÇÔºâ\n    const refreshIn = rememberMe ? 23 * 60 * 60 * 1000 : 55 * 60 * 1000;\n    \n    console.log(`[AuthService] Scheduling token refresh in ${refreshIn / 60000} minutes (rememberMe: ${rememberMe})`);\n    \n    this.refreshTimer = setTimeout(() => {\n      this.refreshAccessToken();\n    }, refreshIn);\n  }\n  \n  private getApiBaseUrl(): string {\n    // ÈñãÁôºÁí∞Â¢É\n    if (window.location.hostname === 'localhost' && window.location.port === '4200') {\n      return 'http://localhost:8000';\n    }\n    // ÁîüÁî¢Áí∞Â¢É\n    return '';\n  }\n  \n  private getDeviceName(): string {\n    const ua = navigator.userAgent;\n    if (ua.includes('Windows')) return 'Windows Browser';\n    if (ua.includes('Mac')) return 'Mac Browser';\n    if (ua.includes('Linux')) return 'Linux Browser';\n    if (ua.includes('iPhone') || ua.includes('iPad')) return 'iOS Browser';\n    if (ua.includes('Android')) return 'Android Browser';\n    return 'Web Browser';\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
