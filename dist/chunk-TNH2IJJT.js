import{a as ae}from"./chunk-24SFQVZB.js";import{e as G,g as B,h as H,j as J}from"./chunk-FF535MQ4.js";import{a as K,b as Y,c as X,d as Z,e as ee,f as te,g as ne,p as oe,t as ie}from"./chunk-BCTLVZY2.js";import{b as re}from"./chunk-6FHZTSI7.js";import{o as V}from"./chunk-35776WZA.js";import{Ab as $,Eb as T,Fb as E,Gb as D,J as U,La as Q,Nb as R,O as L,T as M,U as P,V as z,W as F,Wb as k,Ya as h,Za as f,a as N,b as W,cb as v,da as p,db as o,eb as r,fb as w,jb as O,nb as _,pb as g,ta as j,vb as I,xa as i,xb as l,yb as d,zb as C}from"./chunk-MB4RORS3.js";var A={COOKIE_NAME:"csrf_token",HEADER_NAME:"X-CSRF-Token",STORAGE_KEY:"tgm_csrf_token"},x={MAX_ATTEMPTS:5,LOCKOUT_DURATION:300,ATTEMPT_WINDOW:900,STORAGE_KEY:"tgm_login_attempts"},q=class a{constructor(){this._csrfToken=p("");this.csrfToken=k(()=>this._csrfToken());this._isLocked=p(!1);this._lockoutRemaining=p(0);this._attemptCount=p(0);this.isLocked=k(()=>this._isLocked());this.lockoutRemaining=k(()=>this._lockoutRemaining());this.attemptCount=k(()=>this._attemptCount());this.attemptsLeft=k(()=>Math.max(0,x.MAX_ATTEMPTS-this._attemptCount()));this.refreshCsrfToken()}refreshCsrfToken(){let t=this.getCookie(A.COOKIE_NAME);t&&this._csrfToken.set(t)}getCsrfToken(){return this._csrfToken()}getCsrfHeaders(){let t=this.getCsrfToken();return t?{[A.HEADER_NAME]:t}:{}}async secureFetch(t,e={}){let n=new Headers(e.headers),s=this.getCsrfToken();s&&n.set(A.HEADER_NAME,s),n.has("Content-Type")||n.set("Content-Type","application/json");let c=await fetch(t,W(N({},e),{headers:n,credentials:"include"}));return this.refreshCsrfToken(),c}canAttemptLogin(){let t=this.getLockoutData(),e=Date.now();if(t.lockedUntil>e){let s=Math.ceil((t.lockedUntil-e)/1e3);return this._isLocked.set(!0),this._lockoutRemaining.set(s),{allowed:!1,message:`\u767B\u5165\u5617\u8A66\u6B21\u6578\u904E\u591A\uFF0C\u8ACB ${this.formatDuration(s)} \u5F8C\u518D\u8A66`,waitSeconds:s}}this._isLocked.set(!1),this._lockoutRemaining.set(0);let n=this.getRecentAttempts(t.attempts);if(this._attemptCount.set(n.length),n.length>=x.MAX_ATTEMPTS){let s=e+x.LOCKOUT_DURATION*1e3;this.setLockout(s,t.attempts);let c=x.LOCKOUT_DURATION;return this._isLocked.set(!0),this._lockoutRemaining.set(c),{allowed:!1,message:`\u767B\u5165\u5617\u8A66\u6B21\u6578\u904E\u591A\uFF0C\u8ACB ${this.formatDuration(c)} \u5F8C\u518D\u8A66`,waitSeconds:c}}return{allowed:!0}}recordLoginAttempt(t,e){let n=this.getLockoutData();n.attempts.push({timestamp:Date.now(),success:t,email:e}),n.attempts=this.getRecentAttempts(n.attempts),t&&(n.lockedUntil=0,n.attempts=[]),this.saveLockoutData(n),this._attemptCount.set(n.attempts.filter(s=>!s.success).length)}clearLoginLimit(){localStorage.removeItem(x.STORAGE_KEY),this._isLocked.set(!1),this._lockoutRemaining.set(0),this._attemptCount.set(0)}getRecentAttempts(t){let e=Date.now()-x.ATTEMPT_WINDOW*1e3;return t.filter(n=>n.timestamp>e&&!n.success)}getLockoutData(){try{let t=localStorage.getItem(x.STORAGE_KEY);if(t)return JSON.parse(t)}catch(t){console.error("Failed to parse lockout data:",t)}return{lockedUntil:0,attempts:[]}}saveLockoutData(t){localStorage.setItem(x.STORAGE_KEY,JSON.stringify(t))}setLockout(t,e){this.saveLockoutData({lockedUntil:t,attempts:e})}sanitizeHtml(t){let e=document.createElement("div");return e.textContent=t,e.innerHTML}isUrlSafe(t){return!t||t.toLowerCase().startsWith("javascript:")||t.toLowerCase().startsWith("data:")&&!t.toLowerCase().startsWith("data:image/")?!1:!!(t.startsWith("/")||t.startsWith("http://")||t.startsWith("https://"))}escapeHtml(t){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,n=>e[n])}getCookie(t){let e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}formatDuration(t){return t<60?`${t} \u79D2`:`${Math.ceil(t/60)} \u5206\u9418`}startLockoutCountdown(t){let e=setInterval(()=>{let n=this._lockoutRemaining();if(n<=0){clearInterval(e),this._isLocked.set(!1),t?.(0);return}this._lockoutRemaining.update(s=>s-1),t?.(n-1)},1e3);return()=>clearInterval(e)}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}};var le=a=>({seconds:a});function ge(a,t){if(a&1&&(o(0,"div",1)(1,"div",30)(2,"div",31),z(),o(3,"svg",32),w(4,"circle",33)(5,"path",34),r()(),F(),o(6,"h3",35),l(7),r(),o(8,"p",36),l(9),r(),o(10,"p",37),l(11),r()()()),a&2){let e=g();i(7),d(e.t("auth.loginSuccess")),i(2),$("",e.t("auth.welcomeBackUser"),"\uFF0C",e.successUserName()),i(2),d(e.t("auth.redirecting"))}}function me(a,t){if(a&1&&(o(0,"div",4)(1,"span",38),l(2,"\u{1F512}"),r(),o(3,"div",39)(4,"span",40),l(5),r(),o(6,"span",41),l(7),r()()()),a&2){let e=g();i(5),d(e.t("auth.accountLocked")),i(2),d(e.t("auth.waitSeconds",R(2,le,e.lockoutRemaining())))}}function pe(a,t){if(a&1&&(o(0,"div",5)(1,"span",42),l(2,"\u26A0\uFE0F"),r(),o(3,"span"),l(4),r()()),a&2){let e=g();i(4),d(e.error())}}function ue(a,t){if(a&1&&(w(0,"span",43),o(1,"span"),l(2),r()),a&2){let e=g();i(2),d(e.t("auth.loggingIn"))}}function he(a,t){if(a&1&&(o(0,"span"),l(1),r()),a&2){let e=g();i(),d(e.t("auth.login"))}}function fe(a,t){if(a&1&&(o(0,"div",44),w(1,"span",43),o(2,"span"),l(3),r()()),a&2){let e=g(2);i(3),d(e.t("auth.generatingQR"))}}function _e(a,t){if(a&1){let e=O();o(0,"div",49)(1,"span",54),l(2),r(),o(3,"button",55),_("click",function(){M(e);let s=g(3);return P(s.refreshQRCode())}),l(4),r()()}if(a&2){let e=g(3);i(2),d(e.t("auth.qrExpired")),i(2),d(e.t("auth.clickToRefresh"))}}function Ce(a,t){if(a&1&&(o(0,"div",53)(1,"span",56),l(2),r(),o(3,"span",57),l(4),r()()),a&2){let e=g(3);i(),I("connected",e.wsConnected()),i(),C(" ",e.wsConnected()?"\u{1F7E2} "+e.t("auth.realtimeConnected"):"\u{1F534} "+e.t("auth.reconnecting")," "),i(2),C("",e.qrCountdown(),"s")}}function ke(a,t){if(a&1&&(o(0,"div",45)(1,"div",47),w(2,"img",48),h(3,_e,5,2,"div",49),r(),o(4,"div",50)(5,"p",51)(6,"span",52),l(7,"1"),r(),l(8),r(),o(9,"p",51)(10,"span",52),l(11,"2"),r(),l(12),r(),o(13,"p",51)(14,"span",52),l(15,"3"),r(),l(16),r()(),h(17,Ce,5,4,"div",53),r()),a&2){let e=g(2);i(2),v("src",e.qrCodeUrl(),j)("alt",e.t("auth.telegramLoginQR")),i(),f(e.qrCodeExpired()?3:-1),i(5),C(" ",e.t("auth.openTelegram")),i(4),C(" ",e.t("auth.scanQRCode")),i(4),C(" ",e.t("auth.confirmLogin")),i(),f(e.qrCodeExpired()?-1:17)}}function be(a,t){if(a&1){let e=O();o(0,"button",58),_("click",function(){M(e);let s=g(2);return P(s.generateQRCode())}),o(1,"span",59),l(2,"\u{1F4F7}"),r(),o(3,"span"),l(4),r()()}if(a&2){let e=g(2);i(4),d(e.t("auth.generateQRCode"))}}function ve(a,t){if(a&1&&(o(0,"div",25),h(1,fe,4,1,"div",44)(2,ke,18,7,"div",45)(3,be,5,1,"button",46),r()),a&2){let e=g();i(),f(e.qrCodeLoading()?1:e.qrCodeUrl()?2:3)}}function xe(a,t){if(a&1&&(w(0,"span",62),o(1,"span"),l(2),r()),a&2){let e=g(2);i(2),d(e.t("auth.waitingConfirm"))}}function we(a,t){if(a&1&&(o(0,"span",63),l(1,"\u{1F4F1}"),r(),o(2,"span"),l(3),r()),a&2){let e=g(2);i(3),d(e.t("auth.openTelegramApp"))}}function ye(a,t){if(a&1){let e=O();o(0,"div",61)(1,"div",64),l(2),r(),o(3,"div",65),l(4),r(),o(5,"button",66),_("click",function(){M(e);let s=g(2);return P(s.cancelDeepLink())}),l(6),r()()}if(a&2){let e=g(2);i(2),C(" ",e.t("auth.clickConfirmInTelegram")," "),i(2),C(" ",e.t("auth.remainingTime",R(3,le,e.deepLinkCountdown()))," "),i(2),d(e.t("auth.cancel"))}}function Le(a,t){if(a&1){let e=O();o(0,"div",26)(1,"button",60),_("click",function(){M(e);let s=g();return P(s.openDeepLink())}),h(2,xe,3,1)(3,we,4,1),r(),h(4,ye,7,5,"div",61),r()}if(a&2){let e=g();i(),v("disabled",e.telegramLoading()),i(),f(e.deepLinkLoading()?2:3),i(2),f(e.deepLinkLoading()?4:-1)}}function Me(a,t){if(a&1&&(w(0,"span",62),o(1,"span"),l(2),r()),a&2){let e=g(2);i(2),d(e.t("auth.loadingTelegram"))}}function Pe(a,t){if(a&1&&(o(0,"span",63),l(1,"\u{1F4AC}"),r(),o(2,"span"),l(3),r()),a&2){let e=g(2);i(3),d(e.t("auth.useTelegramWidget"))}}function Oe(a,t){if(a&1){let e=O();o(0,"div",27)(1,"button",67),_("click",function(){M(e);let s=g();return P(s.initTelegramWidget())}),h(2,Me,3,1)(3,Pe,4,1),r(),o(4,"p",68),l(5),r()()}if(a&2){let e=g();i(),v("disabled",e.telegramLoading()),i(),f(e.telegramLoading()&&!e.deepLinkLoading()?2:3),i(3),d(e.t("auth.widgetHint"))}}var se=class a{constructor(){this.authService=L(ae);this.router=L(B);this.route=L(G);this.i18n=L(re);this.security=L(q);this.email="";this.password="";this.rememberMe=!1;this.showPassword=p(!1);this.isLoading=p(!1);this.telegramLoading=p(!1);this.telegramWidgetReady=p(!1);this.error=p(null);this.deepLinkLoading=p(!1);this.deepLinkCountdown=p(300);this.deepLinkToken="";this.deepLinkPollInterval=null;this.deepLinkCountdownInterval=null;this.loginMethod=p("qrcode");this.qrCodeLoading=p(!1);this.qrCodeUrl=p(null);this.qrCodeExpired=p(!1);this.qrCountdown=p(300);this.wsConnected=p(!1);this.qrToken="";this.qrWebSocket=null;this.qrCountdownInterval=null;this.loginSuccess=p(!1);this.successUserName=p("");this.isLocked=k(()=>this.security.isLocked());this.lockoutRemaining=k(()=>this.security.lockoutRemaining());this.attemptsLeft=k(()=>this.security.attemptsLeft());this.telegramBotUsername="";this.telegramBotId="";this.lockoutCleanup=null}ngOnInit(){this.checkLoginLimit();let t=this.loadLoginPreference();t?(this.loginMethod.set(t),t==="qrcode"&&this.generateQRCode()):this.isMobileDevice()?this.loginMethod.set("deeplink"):this.generateQRCode()}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}ngOnDestroy(){this.lockoutCleanup?.(),this.cancelDeepLink(),this.cleanupQRCode()}checkLoginLimit(){let t=this.security.canAttemptLogin();t.allowed||(this.error.set(t.message||""),this.lockoutCleanup=this.security.startLockoutCountdown(e=>{e<=0&&this.error.set(null)}))}t(t){return this.i18n.t(t)}async onSubmit(){if(!this.email||!this.password)return;let t=this.security.canAttemptLogin();if(!t.allowed){this.error.set(t.message||"");return}this.isLoading.set(!0),this.error.set(null);try{let e=await this.authService.login({email:this.email,password:this.password,remember:this.rememberMe});if(e.success){this.security.recordLoginAttempt(!0,this.email);let n=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigateByUrl(n)}else{this.security.recordLoginAttempt(!1,this.email);let n=this.security.attemptsLeft(),s=e.error||this.t("auth.loginFailed");n>0&&n<=3&&(s+=` (\u5269\u9918 ${n} \u6B21\u5617\u8A66\u6A5F\u6703)`),this.error.set(s),this.checkLoginLimit()}}catch(e){this.security.recordLoginAttempt(!1,this.email),this.error.set(e.message||this.t("auth.loginFailed")),this.checkLoginLimit()}finally{this.isLoading.set(!1)}}async socialLogin(t){t==="telegram"?await this.initTelegramWidget():t==="google"&&await this.googleLogin()}async googleLogin(){this.isLoading.set(!0),this.error.set(null);try{let e=await(await fetch("/api/v1/oauth/google/config")).json();if(!e.success||!e.data?.enabled){this.error.set(this.t("auth.googleNotAvailable"));return}this.openGoogleLoginPopup()}catch(t){console.error("Google login error:",t),this.error.set(this.t("auth.googleNotAvailable"))}finally{this.isLoading.set(!1)}}openGoogleLoginPopup(){let e=`${window.location.origin}/api/v1/oauth/google/callback`,n=`/api/v1/oauth/google/authorize?callback=${encodeURIComponent(e)}`,s=550,c=600,u=window.screenX+(window.outerWidth-s)/2,m=window.screenY+(window.outerHeight-c)/2,b=window.open(n,"GoogleAuth",`width=${s},height=${c},left=${u},top=${m},toolbar=no,menubar=no,scrollbars=yes`),S=async y=>{y.data&&y.data.type==="google_auth"?(window.removeEventListener("message",S),b?.close(),await this.handleGoogleAuth(y.data.auth)):y.data&&y.data.type==="google_auth_error"&&(window.removeEventListener("message",S),b?.close(),this.error.set(y.data.error||"Google \u767B\u5165\u5931\u6557"),this.isLoading.set(!1))};window.addEventListener("message",S);let ce=setInterval(()=>{b?.closed&&(clearInterval(ce),window.removeEventListener("message",S),this.isLoading.set(!1))},500)}async handleGoogleAuth(t){this.isLoading.set(!0);try{if(t.access_token&&t.user){localStorage.setItem("tgm_access_token",t.access_token),t.refresh_token&&localStorage.setItem("tgm_refresh_token",t.refresh_token),localStorage.setItem("tgm_user",JSON.stringify(t.user));let e=this.route.snapshot.queryParams.returnUrl||"/";window.location.href=e}else this.error.set("Google \u767B\u5165\u5931\u6557\uFF1A\u7121\u6548\u7684\u8A8D\u8B49\u6578\u64DA")}catch(e){this.error.set(e.message||"Google \u767B\u5165\u5931\u6557")}finally{this.isLoading.set(!1)}}async openDeepLink(){this.error.set(null),this.deepLinkLoading.set(!0),this.telegramLoading.set(!0);try{let e=await(await fetch("/api/v1/auth/login-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"deep_link"})})).json();if(!e.success||!e.data){this.error.set(e.error||"\u7121\u6CD5\u751F\u6210\u767B\u5165\u9023\u7D50"),this.deepLinkLoading.set(!1),this.telegramLoading.set(!1);return}let{token:n,deep_link_url:s,expires_in:c}=e.data;this.deepLinkToken=n,this.deepLinkCountdown.set(c||300),console.log("[DeepLink] Opening:",s),window.open(s,"_blank"),this.deepLinkCountdownInterval=setInterval(()=>{let u=this.deepLinkCountdown();u<=0?(this.cancelDeepLink(),this.error.set("\u767B\u5165\u8D85\u6642\uFF0C\u8ACB\u91CD\u8A66")):this.deepLinkCountdown.set(u-1)},1e3),this.startPollingLoginStatus()}catch(t){console.error("[DeepLink] Error:",t),this.error.set(t.message||"\u767B\u5165\u5931\u6557"),this.deepLinkLoading.set(!1),this.telegramLoading.set(!1)}}cancelDeepLink(){this.deepLinkPollInterval&&(clearInterval(this.deepLinkPollInterval),this.deepLinkPollInterval=null),this.deepLinkCountdownInterval&&(clearInterval(this.deepLinkCountdownInterval),this.deepLinkCountdownInterval=null),this.deepLinkLoading.set(!1),this.telegramLoading.set(!1),this.deepLinkToken=""}startPollingLoginStatus(){this.deepLinkPollInterval&&clearInterval(this.deepLinkPollInterval);let t=async()=>{if(this.deepLinkToken)try{let n=await(await fetch(`/api/v1/auth/login-token/${this.deepLinkToken}`)).json();if(!n.success){console.warn("[DeepLink] Poll error:",n.error);return}let{status:s,access_token:c,refresh_token:u,user:m}=n.data||{};if(s==="confirmed"&&c){console.log("[DeepLink] Login confirmed!"),this.cancelDeepLink(),localStorage.setItem("tgm_access_token",c),u&&localStorage.setItem("tgm_refresh_token",u),m&&localStorage.setItem("tgm_user",JSON.stringify(m));let b=this.route.snapshot.queryParams.returnUrl||"/dashboard";window.location.href=b}else s==="expired"&&(this.cancelDeepLink(),this.error.set("\u767B\u5165\u9023\u7D50\u5DF2\u904E\u671F\uFF0C\u8ACB\u91CD\u8A66"))}catch(e){console.error("[DeepLink] Poll error:",e)}};t(),this.deepLinkPollInterval=setInterval(t,2e3)}switchLoginMethod(t){this.loginMethod()==="qrcode"&&t!=="qrcode"&&this.cleanupQRCode(),this.loginMethod()==="deeplink"&&t!=="deeplink"&&this.cancelDeepLink(),this.loginMethod.set(t),this.error.set(null),t==="qrcode"&&!this.qrCodeUrl()&&this.generateQRCode()}async generateQRCode(){this.qrCodeLoading.set(!0),this.qrCodeExpired.set(!1),this.error.set(null);try{let e=await(await fetch("/api/v1/auth/login-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"qr_code"})})).json();if(!e.success||!e.data){this.error.set(e.error||"\u7121\u6CD5\u751F\u6210\u4E8C\u7DAD\u78BC"),this.qrCodeLoading.set(!1);return}let{token:n,deep_link_url:s,expires_in:c,qr_image:u,qr_fallback_url:m}=e.data;this.qrToken=n,this.qrCountdown.set(c||300);let b=u||m||this.generateQRCodeImage(s);this.qrCodeUrl.set(b),this.connectWebSocket(n),this.startQRCountdown()}catch(t){console.error("[QRCode] Error:",t),this.error.set(t.message||"\u751F\u6210\u4E8C\u7DAD\u78BC\u5931\u6557")}finally{this.qrCodeLoading.set(!1)}}generateQRCodeImage(t){return`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(t)}&bgcolor=ffffff&color=000000&margin=10`}refreshQRCode(){this.cleanupQRCode(),this.generateQRCode()}cleanupQRCode(){this.qrWebSocket&&(this.qrWebSocket.close(),this.qrWebSocket=null),this.qrCountdownInterval&&(clearInterval(this.qrCountdownInterval),this.qrCountdownInterval=null),this.qrToken="",this.qrCodeUrl.set(null),this.qrCodeExpired.set(!1),this.wsConnected.set(!1)}startQRCountdown(){this.qrCountdownInterval&&clearInterval(this.qrCountdownInterval),this.qrCountdownInterval=setInterval(()=>{let t=this.qrCountdown();t<=0?(this.qrCodeExpired.set(!0),clearInterval(this.qrCountdownInterval),this.qrCountdownInterval=null):this.qrCountdown.set(t-1)},1e3)}connectWebSocket(t){this.qrWebSocket&&this.qrWebSocket.close();let e=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.host,s=`${e}//${n}/ws/login-token/${t}`;console.log("[WebSocket] Connecting to:",s);try{this.qrWebSocket=new WebSocket(s),this.qrWebSocket.onopen=()=>{console.log("[WebSocket] Connected"),this.wsConnected.set(!0)},this.qrWebSocket.onmessage=u=>{try{let m=JSON.parse(u.data);console.log("[WebSocket] Message:",m),m.type==="login_success"||m.event==="login_confirmed"?this.handleLoginSuccess(m.data):m.type==="login_token_update"?m.status==="confirmed"&&this.qrWebSocket?.send(JSON.stringify({type:"check_status"})):m.status==="confirmed"&&m.data?.access_token&&this.handleLoginSuccess(m.data)}catch(m){console.error("[WebSocket] Parse error:",m)}},this.qrWebSocket.onclose=()=>{console.log("[WebSocket] Disconnected"),this.wsConnected.set(!1),!this.qrCodeExpired()&&this.qrToken&&setTimeout(()=>{this.qrToken&&!this.qrCodeExpired()&&(console.log("[WebSocket] Reconnecting..."),this.connectWebSocket(this.qrToken))},3e3)},this.qrWebSocket.onerror=u=>{console.error("[WebSocket] Error:",u),this.wsConnected.set(!1)};let c=setInterval(()=>{this.qrWebSocket?.readyState===WebSocket.OPEN?this.qrWebSocket.send(JSON.stringify({type:"ping"})):clearInterval(c)},15e3)}catch(c){console.error("[WebSocket] Create error:",c),this.wsConnected.set(!1)}}handleLoginSuccess(t){console.log("[Login] Success:",t),this.cleanupQRCode(),this.cancelDeepLink(),t.access_token&&localStorage.setItem("tgm_access_token",t.access_token),t.refresh_token&&localStorage.setItem("tgm_refresh_token",t.refresh_token),t.user&&localStorage.setItem("tgm_user",JSON.stringify(t.user)),t.session_id&&localStorage.setItem("tgm_session_id",t.session_id),this.successUserName.set(t.user?.display_name||t.user?.username||"User"),this.loginSuccess.set(!0),this.saveLoginPreference();let e=this.route.snapshot.queryParams.returnUrl||"/dashboard";setTimeout(()=>{window.location.href=e},1500)}saveLoginPreference(){try{localStorage.setItem("tgm_login_method",this.loginMethod())}catch{console.debug("Could not save login preference")}}loadLoginPreference(){try{let t=localStorage.getItem("tgm_login_method");if(t==="qrcode"||t==="deeplink"||t==="widget")return t}catch{console.debug("Could not load login preference")}return null}async initTelegramWidget(){this.telegramLoading.set(!0),this.error.set(null);try{let t=await this.authService.getTelegramConfig();if(!t.enabled||!t.bot_id){this.error.set(this.t("auth.telegramNotConfigured"));return}this.telegramBotUsername=t.bot_username||"",this.telegramBotId=t.bot_id,window.onTelegramAuth=e=>{console.log("Telegram auth callback:",e),this.handleTelegramAuth(e)};try{await this.loadTelegramWidget()}catch(e){console.warn("Widget failed, falling back to OAuth:",e),this.openTelegramOAuth()}}catch(t){console.error("Telegram login error:",t),this.error.set(t.message||"Telegram \u767B\u5165\u5931\u6557")}finally{this.telegramLoading.set(!1)}}loadTelegramWidget(){return new Promise((t,e)=>{let n=window.open("","telegram-widget","width=550,height=470,scrollbars=yes");if(!n){e(new Error("Popup blocked"));return}n.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Telegram \u767B\u5165</title>
          <style>
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              display: flex; 
              flex-direction: column;
              justify-content: center; 
              align-items: center; 
              height: 100vh; 
              margin: 0;
              background: linear-gradient(135deg, #0f172a, #1e293b);
              color: white;
            }
            h2 { margin-bottom: 30px; }
            #telegram-login { min-height: 50px; }
            .hint { color: #94a3b8; font-size: 14px; margin-top: 20px; text-align: center; }
          </style>
        </head>
        <body>
          <h2>\u4F7F\u7528 Telegram \u767B\u5165</h2>
          <div id="telegram-login"></div>
          <p class="hint">\u5982\u679C\u60A8\u5DF2\u5728\u700F\u89BD\u5668\u767B\u5165 Telegram\uFF0C\u5C07\u986F\u793A\u4E00\u9375\u767B\u5165\u6309\u9215</p>
          <script>
            window.onTelegramAuth = function(user) {
              window.opener.onTelegramAuth(user);
              window.close();
            };
          <\/script>
          <script async src="https://telegram.org/js/telegram-widget.js?22"
            data-telegram-login="${this.telegramBotUsername}"
            data-size="large"
            data-radius="8"
            data-onauth="onTelegramAuth(user)"
            data-request-access="write">
          <\/script>
        </body>
        </html>
      `),n.document.close();let s=setInterval(()=>{n.closed&&(clearInterval(s),t())},500);setTimeout(()=>{clearInterval(s),t()},3e4)})}openTelegramOAuth(){let t=`${window.location.origin}/auth/telegram-callback`,e=`https://oauth.telegram.org/auth?bot_id=${this.telegramBotId}&origin=${encodeURIComponent(window.location.origin)}&request_access=write&return_to=${encodeURIComponent(t)}`;console.log("Opening Telegram OAuth:",e);let n=550,s=470,c=(window.innerWidth-n)/2,u=(window.innerHeight-s)/2,m=window.open(e,"telegram-oauth",`width=${n},height=${s},left=${c},top=${u},scrollbars=yes`);if(m){let b=setInterval(()=>{try{m.closed&&(clearInterval(b),this.telegramLoading.set(!1))}catch{}},500)}}async handleTelegramAuth(t){this.telegramLoading.set(!0),this.error.set(null),console.log("[TelegramAuth] Processing auth data:",t);try{let e={success:!1},n=0,s=3;for(;n<s;)try{e=await this.authService.telegramLogin(t);break}catch(c){if(n++,console.warn(`[TelegramAuth] Retry ${n}/${s}:`,c.message),n>=s)throw c;await new Promise(u=>setTimeout(u,1e3*n))}if(e.success){console.log("[TelegramAuth] Login successful, redirecting...");let c=this.route.snapshot.queryParams.returnUrl||"/dashboard";window.location.href=c}else console.error("[TelegramAuth] Login failed:",e.error),this.error.set(e.error||this.t("auth.telegramLoginFailed"))}catch(e){console.error("[TelegramAuth] Exception:",e),this.error.set(e.message||this.t("auth.telegramLoginFailed"))}finally{this.telegramLoading.set(!1)}}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=Q({type:a,selectors:[["app-login"]],decls:62,vars:35,consts:[[1,"login-page"],[1,"success-overlay"],[1,"page-title"],[1,"page-subtitle"],[1,"lockout-alert"],[1,"error-alert"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],[1,"input-wrapper"],[1,"input-icon"],["type","email","id","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel","placeholder","disabled"],["for","password"],["id","password","name","password","required","","autocomplete","current-password",3,"ngModelChange","type","ngModel","placeholder","disabled"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"checkbox-label"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],["routerLink","/auth/forgot-password",1,"forgot-link"],["type","submit",1,"submit-btn",3,"disabled"],[1,"divider"],[1,"telegram-login-section"],[1,"login-method-tabs"],[1,"method-tab",3,"click"],[1,"tab-icon"],[1,"qr-login-panel"],[1,"deeplink-panel"],[1,"widget-panel"],[1,"register-link"],["routerLink","/auth/register"],[1,"success-content"],[1,"success-icon"],["viewBox","0 0 52 52",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark-circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark-check"],[1,"success-title"],[1,"success-user"],[1,"success-hint"],[1,"lockout-icon"],[1,"lockout-content"],[1,"lockout-title"],[1,"lockout-time"],[1,"error-icon"],[1,"loading-spinner"],[1,"qr-loading"],[1,"qr-container"],[1,"generate-qr-btn"],[1,"qr-code-wrapper"],[1,"qr-code-img",3,"src","alt"],[1,"qr-expired-overlay"],[1,"qr-instructions"],[1,"step"],[1,"step-num"],[1,"qr-countdown"],[1,"expired-text"],[1,"refresh-btn",3,"click"],[1,"ws-status"],[1,"countdown-text"],[1,"generate-qr-btn",3,"click"],[1,"btn-icon"],[1,"social-btn","telegram","full-width","primary-telegram",3,"click","disabled"],[1,"deep-link-status"],[1,"loading-spinner","small"],[1,"social-icon"],[1,"status-text"],[1,"countdown"],[1,"cancel-btn",3,"click"],[1,"social-btn","telegram","full-width","secondary-telegram",3,"click","disabled"],[1,"widget-hint"]],template:function(e,n){e&1&&(o(0,"div",0),h(1,ge,12,4,"div",1),o(2,"h2",2),l(3),r(),o(4,"p",3),l(5),r(),h(6,me,8,4,"div",4),h(7,pe,5,1,"div",5),o(8,"form",6),_("ngSubmit",function(){return n.onSubmit()}),o(9,"div",7)(10,"label",8),l(11),r(),o(12,"div",9)(13,"span",10),l(14,"\u{1F4E7}"),r(),o(15,"input",11),D("ngModelChange",function(c){return E(n.email,c)||(n.email=c),c}),r()()(),o(16,"div",7)(17,"label",12),l(18),r(),o(19,"div",9)(20,"span",10),l(21,"\u{1F512}"),r(),o(22,"input",13),D("ngModelChange",function(c){return E(n.password,c)||(n.password=c),c}),r(),o(23,"button",14),_("click",function(){return n.showPassword.set(!n.showPassword())}),l(24),r()()(),o(25,"div",15)(26,"label",16)(27,"input",17),D("ngModelChange",function(c){return E(n.rememberMe,c)||(n.rememberMe=c),c}),r(),o(28,"span"),l(29),r()(),o(30,"a",18),l(31),r()(),o(32,"button",19),h(33,ue,3,1)(34,he,2,1,"span"),r()(),o(35,"div",20)(36,"span"),l(37),r()(),o(38,"div",21)(39,"div",22)(40,"button",23),_("click",function(){return n.switchLoginMethod("qrcode")}),o(41,"span",24),l(42,"\u{1F4F7}"),r(),o(43,"span"),l(44),r()(),o(45,"button",23),_("click",function(){return n.switchLoginMethod("deeplink")}),o(46,"span",24),l(47,"\u{1F4F1}"),r(),o(48,"span"),l(49),r()(),o(50,"button",23),_("click",function(){return n.switchLoginMethod("widget")}),o(51,"span",24),l(52,"\u{1F4AC}"),r(),o(53,"span"),l(54),r()()(),h(55,ve,4,1,"div",25),h(56,Le,5,3,"div",26),h(57,Oe,6,3,"div",27),r(),o(58,"p",28),l(59),o(60,"a",29),l(61),r()()()),e&2&&(i(),f(n.loginSuccess()?1:-1),i(2),d(n.t("auth.welcomeBack")),i(2),d(n.t("auth.loginSubtitle")),i(),f(n.isLocked()?6:-1),i(),f(n.error()&&!n.isLocked()?7:-1),i(4),d(n.t("auth.email")),i(4),T("ngModel",n.email),v("placeholder",n.t("auth.emailPlaceholder"))("disabled",n.isLoading()),i(3),d(n.t("auth.password")),i(4),v("type",n.showPassword()?"text":"password"),T("ngModel",n.password),v("placeholder",n.t("auth.passwordPlaceholder"))("disabled",n.isLoading()),i(2),C(" ",n.showPassword()?"\u{1F648}":"\u{1F441}\uFE0F"," "),i(3),T("ngModel",n.rememberMe),i(2),d(n.t("auth.rememberMe")),i(2),C(" ",n.t("auth.forgotPassword")," "),i(),v("disabled",n.isLoading()||!n.email||!n.password||n.isLocked()),i(),f(n.isLoading()?33:34),i(4),d(n.t("auth.or")),i(3),I("active",n.loginMethod()==="qrcode"),i(4),d(n.t("auth.qrCodeLogin")),i(),I("active",n.loginMethod()==="deeplink"),i(4),d(n.t("auth.appLogin")),i(),I("active",n.loginMethod()==="widget"),i(4),d(n.t("auth.webLogin")),i(),f(n.loginMethod()==="qrcode"?55:-1),i(),f(n.loginMethod()==="deeplink"?56:-1),i(),f(n.loginMethod()==="widget"?57:-1),i(2),C(" ",n.t("auth.noAccount")," "),i(2),d(n.t("auth.registerNow")))},dependencies:[V,ie,ne,Y,K,X,Z,oe,te,ee,J,H],styles:['.login-page[_ngcontent-%COMP%]{color:var(--text-primary, #fff)}.page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.5rem}.page-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary, #888);margin-bottom:2rem}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1rem;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:8px;color:#f87171;margin-bottom:1.5rem;font-size:.875rem}.lockout-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;background:#fb923c1a;border:1px solid rgba(251,146,60,.3);border-radius:8px;color:#fb923c;margin-bottom:1.5rem}.lockout-icon[_ngcontent-%COMP%]{font-size:1.5rem}.lockout-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.lockout-title[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.lockout-time[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-secondary, #aaa)}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1rem;opacity:.5}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 2.75rem;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);font-size:1rem;transition:all .2s ease}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary, #3b82f6);box-shadow:0 0 0 3px #3b82f61a}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted, #666)}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;background:none;border:none;cursor:pointer;font-size:1rem;opacity:.5;transition:opacity .2s}.toggle-password[_ngcontent-%COMP%]:hover{opacity:1}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;color:var(--text-secondary, #aaa)}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;accent-color:var(--primary, #3b82f6)}.forgot-link[_ngcontent-%COMP%]{color:var(--primary, #3b82f6);text-decoration:none;transition:color .2s}.forgot-link[_ngcontent-%COMP%]:hover{color:var(--primary-hover, #60a5fa);text-decoration:underline}.submit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border:none;border-radius:8px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:.5rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1.5rem 0;color:var(--text-muted, #666);font-size:.875rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:var(--border-color, #333)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 1rem}.social-login[_ngcontent-%COMP%]{display:flex;gap:1rem}.social-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1rem;background:var(--bg-secondary, #1a1a1a);border:1px solid var(--border-color, #333);border-radius:8px;color:var(--text-primary, #fff);font-size:.875rem;cursor:pointer;transition:all .2s ease}.social-btn[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary, #252525);border-color:var(--border-hover, #444)}.social-btn.google[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{color:#ea4335;font-weight:700}.social-btn.telegram[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{color:#08c}.social-btn.full-width[_ngcontent-%COMP%]{width:100%;flex:none}.social-btn.telegram[_ngcontent-%COMP%]{background:linear-gradient(135deg,#08c,#0077b5);border-color:#08c}.social-btn.telegram[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#09d,#08c)}.social-btn.primary-telegram[_ngcontent-%COMP%]{background:linear-gradient(135deg,#08c,#06a);border-color:#08c;font-weight:600}.social-btn.primary-telegram[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#09d,#07b);transform:translateY(-1px);box-shadow:0 4px 12px #0088cc4d}.social-btn.secondary-telegram[_ngcontent-%COMP%]{background:transparent;border:1px solid #0088cc;color:#08c}.social-btn.secondary-telegram[_ngcontent-%COMP%]:hover{background:#0088cc1a}.deep-link-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.75rem;padding:1rem;background:#0088cc1a;border:1px solid rgba(0,136,204,.3);border-radius:8px;margin:.75rem 0}.deep-link-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#08c;font-size:.875rem;text-align:center}.deep-link-status[_ngcontent-%COMP%]   .countdown[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #888)}.deep-link-status[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{padding:.375rem 1rem;background:transparent;border:1px solid #888;border-radius:4px;color:#888;font-size:.75rem;cursor:pointer;transition:all .2s ease}.deep-link-status[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#fff;color:#fff}.social-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.telegram-widget-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:48px;width:100%}.telegram-widget-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-radius:8px!important}#telegram-login-widget[_ngcontent-%COMP%]{display:flex;justify-content:center}.loading-spinner.small[_ngcontent-%COMP%]{width:14px;height:14px;border-width:2px}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:var(--text-secondary, #888);font-size:.875rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary, #3b82f6);text-decoration:none;font-weight:500}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.telegram-login-section[_ngcontent-%COMP%]{margin-top:.5rem}.login-method-tabs[_ngcontent-%COMP%]{display:flex;gap:.25rem;background:var(--bg-secondary, #1a1a1a);padding:.25rem;border-radius:8px;margin-bottom:1rem}.method-tab[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem;background:transparent;border:none;border-radius:6px;color:var(--text-secondary, #888);font-size:.75rem;cursor:pointer;transition:all .2s ease}.method-tab[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary, #252525);color:var(--text-primary, #fff)}.method-tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#08c,#06a);color:#fff}.tab-icon[_ngcontent-%COMP%]{font-size:1.25rem}.qr-login-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1.5rem;background:var(--bg-secondary, #1a1a1a);border-radius:12px;border:1px solid var(--border-color, #333)}.qr-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem;color:var(--text-secondary, #888)}.qr-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;width:100%}.qr-code-wrapper[_ngcontent-%COMP%]{position:relative;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 4px 20px #08c3}.qr-code-img[_ngcontent-%COMP%]{width:180px;height:180px;display:block}.qr-expired-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000d9;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.75rem}.expired-text[_ngcontent-%COMP%]{color:#f87171;font-size:.875rem}.refresh-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:linear-gradient(135deg,#08c,#06a);border:none;border-radius:6px;color:#fff;font-size:.875rem;cursor:pointer;transition:transform .2s ease}.refresh-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.qr-instructions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.qr-instructions[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:var(--text-secondary, #888);font-size:.875rem;margin:0}.step-num[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;background:linear-gradient(135deg,#08c,#06a);border-radius:50%;color:#fff;font-size:.75rem;font-weight:600}.qr-countdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.5rem 0;border-top:1px solid var(--border-color, #333);margin-top:.5rem}.ws-status[_ngcontent-%COMP%]{font-size:.75rem;color:#f87171}.ws-status.connected[_ngcontent-%COMP%]{color:#4ade80}.countdown-text[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #888)}.generate-qr-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem 2rem;background:linear-gradient(135deg,#08c,#06a);border:none;border-radius:8px;color:#fff;font-size:1rem;cursor:pointer;transition:all .2s ease}.generate-qr-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0088cc4d}.btn-icon[_ngcontent-%COMP%]{font-size:1.25rem}.deeplink-panel[_ngcontent-%COMP%], .widget-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.widget-hint[_ngcontent-%COMP%]{text-align:center;font-size:.75rem;color:var(--text-secondary, #888);margin:0}.success-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:9999;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.success-content[_ngcontent-%COMP%]{text-align:center;animation:_ngcontent-%COMP%_scaleIn .4s ease-out}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.success-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem}.checkmark[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;display:block;stroke-width:2;stroke:#4ade80;stroke-miterlimit:10;animation:_ngcontent-%COMP%_fill .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale .3s ease-in-out .9s both}.checkmark-circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#4ade80;fill:none;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark-check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes _ngcontent-%COMP%_fill{to{box-shadow:inset 0 0 0 40px #4ade801a}}.success-title[_ngcontent-%COMP%]{color:#4ade80;font-size:1.5rem;font-weight:600;margin:0 0 .5rem}.success-user[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin:0 0 .5rem}.success-hint[_ngcontent-%COMP%]{color:var(--text-secondary, #888);font-size:.875rem;margin:0;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}'],changeDetection:0})}};export{se as LoginComponent};
