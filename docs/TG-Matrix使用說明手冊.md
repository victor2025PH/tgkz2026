# TG-Matrix 使用說明手冊

> **版本**: 1.0.0  
> **更新日期**: 2026年1月11日  
> **適用對象**: Telegram 營銷人員、社群運營者、業務推廣團隊

---

## 📋 目錄

1. [系統概述](#系統概述)
2. [快速開始](#快速開始)
3. [功能模塊詳解](#功能模塊詳解)
4. [AI 智能功能](#ai-智能功能)
5. [常見問題](#常見問題)
6. [最佳實踐](#最佳實踐)

---

## 系統概述

### 什麼是 TG-Matrix？

TG-Matrix 是一款基於人工智能的 Telegram 全方位營銷自動化平台，集成了：

- 🤖 **AI 智能對話** - 自動回覆、智能客服
- 🔍 **資源發現** - 自動搜索目標群組/頻道
- 📢 **廣告發送** - 批量、定時、智能發送
- 👥 **用戶追蹤** - 行為分析、漏斗轉化
- 📊 **數據分析** - 多維度營銷報表
- 🎭 **多角色協作** - 多帳號矩陣運營

### 系統架構

```
┌─────────────────────────────────────────────────────┐
│                   TG-Matrix 平台                     │
├─────────────────────────────────────────────────────┤
│  前端 (Angular + Tailwind CSS)                      │
│  ├── 儀表盤    ├── 賬戶管理    ├── 資源發現        │
│  ├── 自動化    ├── 廣告發送    ├── 用戶追蹤        │
│  ├── 營銷活動  ├── 多角色      ├── AI 中心         │
│  └── 監控告警  └── 設置                            │
├─────────────────────────────────────────────────────┤
│  後端 (Python + Pyrogram)                           │
│  ├── Telegram API 接入                              │
│  ├── AI 服務 (Ollama/OpenAI/Gemini)                │
│  ├── RAG 知識庫 (ChromaDB)                          │
│  └── 數據庫 (SQLite)                                │
└─────────────────────────────────────────────────────┘
```

---

## 快速開始

### 1. 系統要求

| 項目 | 最低配置 | 推薦配置 |
|------|---------|---------|
| 操作系統 | Windows 10 / macOS 10.15 | Windows 11 / macOS 14 |
| 內存 | 4GB | 8GB+ |
| 硬盤 | 2GB 可用空間 | SSD 10GB+ |
| 網絡 | 穩定網絡 | VPN（如需翻牆） |

### 2. 安裝步驟

```bash
# 1. 克隆項目
git clone <repository_url>
cd tgkz2026

# 2. 安裝依賴
npm install
pip install -r backend/requirements.txt

# 3. 啟動應用
npm start
```

### 3. 首次配置

1. **添加 Telegram 帳號**
   - 進入「賬戶管理」
   - 點擊「添加賬號」
   - 輸入手機號碼，完成驗證

2. **配置 AI 服務**
   - 進入「AI 中心 > 配置」
   - 選擇本地 AI (Ollama) 或雲端服務
   - 測試連接

3. **一鍵啟動**
   - 回到「儀表盤」
   - 點擊「一鍵運行」
   - 系統自動連接所有帳號並開始監控

---

## 功能模塊詳解

### 1. 儀表盤 (Dashboard)

**功能概述**：系統總覽，一鍵啟動/停止所有服務

**核心功能**：
- 📊 **實時統計** - 帳號狀態、消息數量、轉化率
- 🚀 **一鍵運行** - 自動啟動所有子系統
- 📈 **趨勢圖表** - 7天/30天數據趨勢
- ⚡ **快捷入口** - 快速跳轉常用功能

**使用步驟**：
1. 查看頂部統計卡片了解系統狀態
2. 點擊「一鍵運行」啟動所有服務
3. 觀察進度條了解初始化狀態
4. 運行後可在任務列表查看活動任務

---

### 2. 賬戶管理 (Accounts)

**功能概述**：管理所有 Telegram 帳號

**核心功能**：
- ➕ **添加帳號** - 支持手機號碼驗證
- 📥 **批量導入** - Excel 模板批量導入
- 🔄 **狀態監控** - 實時連接狀態
- 🏷️ **標籤分組** - 按用途分類管理
- 📊 **帳號詳情** - 發送統計、風控狀態

**帳號狀態說明**：

| 狀態 | 說明 | 操作建議 |
|------|------|---------|
| 🟢 已連接 | 正常運行 | 可正常使用 |
| 🟡 離線 | 未連接 | 點擊重連 |
| 🔴 被封禁 | 帳號受限 | 申訴或更換 |
| ⚪ 待驗證 | 需要二次驗證 | 輸入驗證碼 |

**批量導入模板**：
```
手機號碼        | API ID    | API Hash
+8613800138000 | 12345678 | abc123...
+8613900139000 | 87654321 | xyz789...
```

---

### 3. 資源發現 (Resource Discovery)

**功能概述**：自動搜索和管理 Telegram 群組/頻道

**核心功能**：
- 🔍 **關鍵詞搜索** - 支持中英文、多關鍵詞
- 📋 **資源列表** - 群組信息、成員數、評分
- ➕ **加入群組** - 單個/批量加入
- 🚀 **加入+監控** - 一鍵加入並添加到監控
- 🔄 **替換模式** - 每次搜索清空舊結果

**搜索技巧**：
```
# 單關鍵詞
支付

# 多關鍵詞（逗號分隔）
支付,收款,USDT,加密貨幣

# 高級搜索
設置資源類型：群組/頻道/超級群組
設置最小成員數：1000+
```

**資源評分說明**：
- **活躍度評分** - 基於消息頻率
- **相關性評分** - 基於關鍵詞匹配
- **綜合評分** - 加權平均

---

### 4. 自動化中心 (Automation)

**功能概述**：一鍵啟動所有自動化任務

**子系統**：
- ✅ **帳號連接** - 自動登錄所有帳號
- ✅ **群組加入** - 自動加入目標群組
- ✅ **AI 服務** - 啟動 AI 自動回覆
- ✅ **消息監控** - 開始監聽新消息
- ✅ **漏斗追蹤** - 啟動用戶行為分析

**運行模式**：

| 模式 | 說明 | 適用場景 |
|------|------|---------|
| 全自動 | 無需確認直接執行 | 成熟穩定的流程 |
| 半自動 | 關鍵操作需確認 | 日常運營（推薦）|
| 輔助模式 | 僅提供建議 | 新手學習 |

---

### 5. 潛在客戶 (Leads)

**功能概述**：管理和追蹤潛在客戶

**核心功能**：
- 👤 **客戶檔案** - 基本信息、聊天記錄
- 🏷️ **標籤分類** - 熱度、來源、意向
- 📊 **漏斗視圖** - 轉化階段可視化
- 💬 **快捷回覆** - 一鍵發送預設消息

**漏斗階段**：
```
新用戶 → 已接觸 → 已回覆 → 意向客戶 → 已成交 → 復購客戶
```

---

### 6. 廣告發送 (Ads)

**功能概述**：智能批量廣告投放

**核心功能**：
- 📝 **廣告模板** - 支持 Spintax 語法
- ⏰ **定時發送** - 設置發送時間表
- 🎯 **目標設置** - 選擇目標群組
- 📊 **發送統計** - 成功率、閱讀量
- 🛡️ **風控保護** - 自動限速避免封號

**Spintax 語法示例**：
```
{你好|您好|Hi}！

我們提供{優質|專業|高端}的{產品|服務|解決方案}。

{聯繫我們|了解更多|點擊這裡}：@your_username
```
> 系統會自動組合生成不同版本，避免重複內容被識別

**發送策略**：

| 策略 | 間隔時間 | 適用場景 |
|------|---------|---------|
| 保守 | 60-120秒 | 新帳號、高風險 |
| 標準 | 30-60秒 | 日常推廣 |
| 激進 | 10-30秒 | 老帳號、低風險 |

---

### 7. 用戶追蹤 (User Tracking)

**功能概述**：追蹤用戶行為和轉化路徑

**核心功能**：
- 📍 **行為記錄** - 消息、點擊、轉化
- 📈 **漏斗分析** - 各階段轉化率
- 🔥 **熱度評分** - 自動識別高意向用戶
- 🏷️ **自動標籤** - 基於行為智能打標

**熱度評分算法**：
```
熱度 = 消息頻率 × 0.3 + 回覆速度 × 0.2 + 
       關鍵詞匹配 × 0.3 + 互動深度 × 0.2
```

---

### 8. 營銷活動 (Campaigns)

**功能概述**：創建和管理完整營銷活動

**核心功能**：
- 📋 **活動創建** - 設置目標、預算、時間
- 🎯 **受眾定向** - 選擇目標群組和用戶
- 📊 **效果追蹤** - 實時數據、ROI 分析
- 🔄 **A/B 測試** - 對比不同策略效果

**活動類型**：
- 引流活動 - 吸引新用戶
- 促銷活動 - 推廣產品/服務
- 喚醒活動 - 激活沉睡用戶
- 裂變活動 - 用戶邀請增長

---

### 9. 多角色協作 (Multi-Role)

**功能概述**：多帳號協同運營

**角色類型**：

| 角色 | 職責 | 特點 |
|------|------|------|
| 🎤 主持人 | 活躍群組氛圍 | 主動發言、引導話題 |
| 👍 捧場者 | 配合主持人 | 點讚、回覆、轉發 |
| ❓ 提問者 | 製造話題 | 提出問題引發討論 |
| 💼 業務員 | 轉化客戶 | 私聊跟進、成交 |

**協作腳本示例**：
```yaml
場景: 新產品推廣
流程:
  1. 主持人: 發布產品信息
  2. 提問者: "這個怎麼購買？"
  3. 主持人: 詳細介紹購買方式
  4. 捧場者: "我已經買了，很好用！"
  5. 業務員: 私聊感興趣的用戶
```

---

### 10. AI 中心 (AI Center)

**功能概述**：AI 智能功能配置和管理

**子功能**：

#### 10.1 AI 配置
- **本地 AI** - Ollama、LM Studio（推薦）
- **雲端 AI** - OpenAI、Google Gemini
- **自動降級** - 本地不可用時切換雲端

#### 10.2 AI 自動聊天
- **全自動模式** - AI 完全接管對話
- **半自動模式** - 關鍵決策人工確認
- **輔助模式** - 僅提供回覆建議

#### 10.3 RAG 知識庫
- **知識導入** - 上傳文檔、FAQ
- **自動學習** - 從歷史對話學習
- **知識查詢** - 基於語義搜索

**本地 AI 配置（Ollama）**：
```bash
# 1. 安裝 Ollama
curl -fsSL https://ollama.com/install.sh | sh

# 2. 下載推薦模型
ollama pull qwen2:7b      # 中英文通用
ollama pull llama3:8b     # 英文優化
ollama pull mistral:7b    # 快速響應

# 3. 在 AI 中心配置
服務地址: http://localhost:11434
模型: qwen2:7b
```

---

### 11. 監控中心 (Monitoring)

**功能概述**：實時監控系統和群組狀態

**核心功能**：
- 📊 **系統監控** - CPU、內存、網絡
- 👥 **群組監控** - 消息量、活躍度
- ⚠️ **異常檢測** - 自動識別異常
- 📈 **趨勢分析** - 歷史數據對比

---

### 12. 告警系統 (Alerts)

**功能概述**：智能告警和通知

**告警類型**：
- 🔴 **嚴重** - 帳號被封、系統故障
- 🟠 **警告** - 發送失敗率高、API 限制
- 🟡 **提醒** - 任務完成、定時提醒
- 🟢 **信息** - 系統通知、更新

---

### 13. 設置 (Settings)

**功能概述**：系統配置和個性化設置

**設置項目**：
- 🌐 **語言設置** - 中文/英文
- 🌙 **外觀主題** - 深色/淺色
- 🔔 **通知設置** - 郵件、桌面通知
- 🔐 **安全設置** - 密碼、2FA
- 💾 **數據管理** - 備份、清理

---

## AI 智能功能

### AI 自動回覆流程

```
用戶消息 → 意圖識別 → RAG 知識查詢 → AI 生成回覆 → 人工審核（可選）→ 發送
```

### 支持的 AI 模型

| 模型 | 類型 | 特點 | 推薦場景 |
|------|------|------|---------|
| Ollama (qwen2) | 本地 | 免費、隱私 | 日常使用 |
| OpenAI GPT-4 | 雲端 | 強大、穩定 | 複雜對話 |
| Gemini Pro | 雲端 | 多模態 | 圖片識別 |

---

## 常見問題

### Q1: 帳號頻繁被封怎麼辦？
**A**: 
1. 降低發送頻率（使用保守策略）
2. 使用 Spintax 生成多樣化內容
3. 增加帳號養號時間
4. 避免敏感詞彙

### Q2: AI 回覆質量不好？
**A**:
1. 優化系統提示詞
2. 導入更多知識庫內容
3. 切換更強大的模型
4. 使用半自動模式人工優化

### Q3: 搜索不到群組？
**A**:
1. 確保帳號已正常連接
2. 嘗試不同關鍵詞組合
3. 檢查 IP 地區限制
4. 使用英文關鍵詞

---

## 最佳實踐

### 新手入門（第一週）

1. **Day 1-2**: 添加 2-3 個帳號，完成驗證
2. **Day 3-4**: 搜索並加入 10-20 個目標群組
3. **Day 5-6**: 配置 AI 自動回覆，開始監控
4. **Day 7**: 分析數據，優化策略

### 日常運營建議

- ⏰ **每日檢查** - 帳號狀態、告警信息
- 📊 **每週分析** - 轉化數據、效果對比
- 🔄 **每月優化** - 更新話術、調整策略

### 風控建議

| 操作 | 推薦頻率 | 風險等級 |
|------|---------|---------|
| 發送消息 | 30-60秒/條 | 低 |
| 加入群組 | 5-10分鐘/個 | 中 |
| 添加好友 | 1-2小時/個 | 高 |

---

## 技術支持

- 📧 **郵箱**: support@tg-matrix.com
- 💬 **Telegram**: @TGMatrixSupport
- 📖 **文檔**: docs.tg-matrix.com

---

> **免責聲明**: 請遵守 Telegram 使用條款和當地法律法規。本軟件僅供學習研究使用。

---

*© 2026 TG-Matrix. All Rights Reserved.*
