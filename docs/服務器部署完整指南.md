# TG-Matrix æœå‹™å™¨éƒ¨ç½²å®Œæ•´æŒ‡å—

> **ç‰ˆæœ¬**: 2.0.0  
> **æ›´æ–°æ—¥æœŸ**: 2026å¹´1æœˆ12æ—¥  
> **æœƒå“¡ç³»çµ±**: çŽ‹è€…æ¦®è€€é¢¨æ ¼ç­‰ç´š

---

## ðŸ“‹ ç›®éŒ„

1. [ç³»çµ±æ¦‚è¿°](#ç³»çµ±æ¦‚è¿°)
2. [æœƒå“¡ç­‰ç´šèªªæ˜Ž](#æœƒå“¡ç­‰ç´šèªªæ˜Ž)
3. [å¿«é€Ÿéƒ¨ç½²](#å¿«é€Ÿéƒ¨ç½²)
4. [è©³ç´°éƒ¨ç½²æ­¥é©Ÿ](#è©³ç´°éƒ¨ç½²æ­¥é©Ÿ)
5. [å¡å¯†ç®¡ç†](#å¡å¯†ç®¡ç†)
6. [æ”¯ä»˜é…ç½®](#æ”¯ä»˜é…ç½®)
7. [ç®¡ç†å¾Œå°ä½¿ç”¨](#ç®¡ç†å¾Œå°ä½¿ç”¨)
8. [API æ–‡æª”](#api-æ–‡æª”)
9. [ç¶­è­·æŒ‡å—](#ç¶­è­·æŒ‡å—)

---

## ç³»çµ±æ¦‚è¿°

### æž¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        é›²æœå‹™å™¨ / VPS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  License Server â”‚    â”‚  Admin Panel    â”‚    â”‚  Nginx      â”‚ â”‚
â”‚   â”‚  (Python)       â”‚    â”‚  (Vue 3)        â”‚    â”‚  åå‘ä»£ç†    â”‚ â”‚
â”‚   â”‚  Port: 8080     â”‚    â”‚  éœæ…‹æ–‡ä»¶        â”‚    â”‚  Port: 443  â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                      â”‚                     â”‚       â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                              â”‚                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚                    SQLite æ•¸æ“šåº«                     â”‚       â”‚
â”‚   â”‚                  license_server.db                   â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚ HTTPS API
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ¶å®¢æˆ¶ç«¯ (Electron App)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç³»çµ±è¦æ±‚

| é …ç›® | æœ€ä½Žé…ç½® | æŽ¨è–¦é…ç½® |
|------|---------|---------|
| CPU | 1 æ ¸å¿ƒ | 2+ æ ¸å¿ƒ |
| å…§å­˜ | 512MB | 1GB+ |
| ç¡¬ç›¤ | 5GB | 20GB SSD |
| ç³»çµ± | Ubuntu 20.04 | Ubuntu 22.04 |
| Python | 3.8+ | 3.11+ |

---

## æœƒå“¡ç­‰ç´šèªªæ˜Ž

### çŽ‹è€…æ¦®è€€é¢¨æ ¼ç­‰ç´šé«”ç³»

| ç­‰ç´š | åç¨± | åœ–æ¨™ | æœˆè²» | å¹´è²» |
|------|------|------|------|------|
| 1 | é’éŠ…æˆ°å£« | âš”ï¸ | å…è²» | å…è²» |
| 2 | ç™½éŠ€ç²¾è‹± | ðŸ¥ˆ | Â¥49 | Â¥399 |
| 3 | é»ƒé‡‘å¤§å¸« | ðŸ¥‡ | Â¥99 | Â¥799 |
| 4 | é‘½çŸ³çŽ‹ç‰Œ | ðŸ’Ž | Â¥199 | Â¥1599 |
| 5 | æ˜Ÿè€€å‚³èªª | ðŸŒŸ | Â¥399 | Â¥2999 |
| 6 | æ¦®è€€çŽ‹è€… | ðŸ‘‘ | Â¥999 | Â¥6999 |

### é…é¡å°æ¯”

| åŠŸèƒ½ | é’éŠ… | ç™½éŠ€ | é»ƒé‡‘ | é‘½çŸ³ | æ˜Ÿè€€ | çŽ‹è€… |
|------|------|------|------|------|------|------|
| è³¬æˆ¶æ•¸ | 2 | 5 | 10 | 20 | 50 | ç„¡é™ |
| æ¯æ—¥æ¶ˆæ¯ | 20 | 100 | 300 | 1000 | ç„¡é™ | ç„¡é™ |
| AI èª¿ç”¨ | 10 | 50 | 200 | ç„¡é™ | ç„¡é™ | ç„¡é™ |
| ç¾¤çµ„æ•¸ | 3 | 10 | 30 | 100 | ç„¡é™ | ç„¡é™ |
| æ•¸æ“šä¿å­˜ | 7å¤© | 15å¤© | 30å¤© | 60å¤© | 180å¤© | 365å¤© |

### å¡å¯†æ ¼å¼

```
TGM-[ç­‰ç´š][æ™‚é•·]-[XXXX]-[XXXX]-[XXXX]

ç­‰ç´šä»£ç¢¼:
  B = ç™½éŠ€ç²¾è‹± (Silver)
  G = é»ƒé‡‘å¤§å¸« (Gold)
  D = é‘½çŸ³çŽ‹ç‰Œ (Diamond)
  S = æ˜Ÿè€€å‚³èªª (Star)
  K = æ¦®è€€çŽ‹è€… (King)

æ™‚é•·ä»£ç¢¼:
  1 = å‘¨å¡ (7å¤©)
  2 = æœˆå¡ (30å¤©)
  3 = å­£å¡ (90å¤©)
  Y = å¹´å¡ (365å¤©)

ç¤ºä¾‹:
  TGM-G2-ABCD-EFGH-IJKL = é»ƒé‡‘å¤§å¸«æœˆå¡
  TGM-KY-MNOP-QRST-UVWX = æ¦®è€€çŽ‹è€…å¹´å¡
```

---

## å¿«é€Ÿéƒ¨ç½²

### æ–¹å¼ä¸€ï¼šä¸€éµè…³æœ¬ (æŽ¨è–¦)

```bash
# 1. ä¸‹è¼‰éƒ¨ç½²è…³æœ¬
wget https://your-repo.com/deploy.sh

# 2. é‹è¡Œéƒ¨ç½²
chmod +x deploy.sh
sudo ./deploy.sh
```

### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# 1. å…‹éš†é …ç›®
git clone https://github.com/your-repo/tg-matrix.git
cd tg-matrix

# 2. é…ç½®ç’°å¢ƒè®Šé‡
cp deploy/.env.example deploy/.env
nano deploy/.env

# 3. å•Ÿå‹•æœå‹™
cd deploy
docker-compose up -d

# 4. æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f
```

### æ–¹å¼ä¸‰ï¼šWindows éƒ¨ç½²

```powershell
# ä»¥ç®¡ç†å“¡èº«ä»½é‹è¡Œ PowerShell
Set-ExecutionPolicy Bypass -Scope Process
.\deploy\deploy-windows.ps1
```

---

## è©³ç´°éƒ¨ç½²æ­¥é©Ÿ

### Linux æœå‹™å™¨ (Ubuntu/Debian)

#### 1. æ›´æ–°ç³»çµ±

```bash
sudo apt update && sudo apt upgrade -y
```

#### 2. å®‰è£ä¾è³´

```bash
sudo apt install -y python3 python3-pip python3-venv nginx certbot python3-certbot-nginx
```

#### 3. å‰µå»ºç›®éŒ„

```bash
sudo mkdir -p /opt/tg-matrix-server/{data,logs,admin-panel}
sudo chown $USER:$USER /opt/tg-matrix-server
```

#### 4. ä¸Šå‚³æ–‡ä»¶

å°‡ä»¥ä¸‹æ–‡ä»¶ä¸Šå‚³åˆ° `/opt/tg-matrix-server/`:

- `license_server.py`
- `license_generator.py`
- `membership.py`
- `payment_gateway.py`
- `admin-panel/` ç›®éŒ„

#### 5. é…ç½® Python ç’°å¢ƒ

```bash
cd /opt/tg-matrix-server
python3 -m venv venv
source venv/bin/activate
pip install aiohttp aiosqlite pyjwt cryptography python-dotenv psutil
deactivate
```

#### 6. å‰µå»ºé…ç½®æ–‡ä»¶

```bash
cat > /opt/tg-matrix-server/config.env << 'EOF'
# æœå‹™å™¨è¨­ç½®
HOST=0.0.0.0
PORT=8080

# JWT å¯†é‘°
JWT_SECRET=your-super-secret-key-here

# æ•¸æ“šåº«
DB_PATH=/opt/tg-matrix-server/data/license_server.db

# USDT é…ç½®
USDT_TRC20_ADDRESS=TYourWalletAddress
USDT_RATE=7.2
EOF
```

#### 7. å‰µå»º Systemd æœå‹™

```bash
sudo cat > /etc/systemd/system/tg-matrix-license.service << 'EOF'
[Unit]
Description=TG-Matrix License Server
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/opt/tg-matrix-server
EnvironmentFile=/opt/tg-matrix-server/config.env
ExecStart=/opt/tg-matrix-server/venv/bin/python license_server.py run
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl daemon-reload
sudo systemctl enable tg-matrix-license
sudo systemctl start tg-matrix-license
```

#### 8. é…ç½® Nginx

```bash
sudo cat > /etc/nginx/sites-available/tg-matrix << 'EOF'
server {
    listen 80;
    server_name your-domain.com;
    
    location /api/ {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location / {
        root /opt/tg-matrix-server/admin-panel;
        try_files $uri $uri/ /index.html;
    }
}
EOF

sudo ln -sf /etc/nginx/sites-available/tg-matrix /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

#### 9. ç”³è«‹ SSL è­‰æ›¸

```bash
sudo certbot --nginx -d your-domain.com
```

---

## å¡å¯†ç®¡ç†

### ç”Ÿæˆå¡å¯†

```bash
cd /opt/tg-matrix-server
source venv/bin/activate

# ç”Ÿæˆ 10 å€‹é»ƒé‡‘æœˆå¡
python license_generator.py generate G2 -n 10

# ç”Ÿæˆ 5 å€‹çŽ‹è€…å¹´å¡
python license_generator.py generate KY -n 5 --batch "é¦–ç™¼å„ªæƒ "

# æŸ¥çœ‹åƒ¹æ ¼è¡¨
python license_generator.py prices
```

### æŸ¥çœ‹çµ±è¨ˆ

```bash
python license_generator.py stats
```

è¼¸å‡ºç¤ºä¾‹ï¼š

```
ðŸ“Š å¡å¯†çµ±è¨ˆ
  ç¸½æ•¸: 150
  æœªä½¿ç”¨: 120
  å·²ä½¿ç”¨: 28
  å·²ç¦ç”¨: 2
  å·²æ”¶å…¥: Â¥15800

æŒ‰é¡žåž‹çµ±è¨ˆï¼š
  ðŸ¥ˆ ç™½éŠ€æœˆå¡: 50 (æœªç”¨: 42, å·²ç”¨: 8)
  ðŸ¥‡ é»ƒé‡‘æœˆå¡: 40 (æœªç”¨: 35, å·²ç”¨: 5)
  ðŸ’Ž é‘½çŸ³æœˆå¡: 30 (æœªç”¨: 25, å·²ç”¨: 5)
  ðŸŒŸ æ˜Ÿè€€æœˆå¡: 20 (æœªç”¨: 12, å·²ç”¨: 8)
  ðŸ‘‘ çŽ‹è€…æœˆå¡: 10 (æœªç”¨: 6, å·²ç”¨: 2)
```

### å°Žå‡ºå¡å¯†

```bash
# å°Žå‡ºæ‰€æœ‰æœªä½¿ç”¨çš„å¡å¯†
python license_generator.py export -o unused_keys.csv --status unused
```

---

## æ”¯ä»˜é…ç½®

### æ”¯ä»˜å¯¶é…ç½®

1. ç™»éŒ„ [æ”¯ä»˜å¯¶é–‹æ”¾å¹³å°](https://open.alipay.com/)
2. å‰µå»ºæ‡‰ç”¨ï¼Œç²å– AppID
3. é…ç½® RSA å¯†é‘°
4. åœ¨ `config.env` ä¸­å¡«å…¥ï¼š

```env
ALIPAY_APP_ID=your_app_id
ALIPAY_PRIVATE_KEY=your_private_key
ALIPAY_PUBLIC_KEY=alipay_public_key
ALIPAY_NOTIFY_URL=https://your-domain.com/api/callback/alipay
```

### å¾®ä¿¡æ”¯ä»˜é…ç½®

1. ç™»éŒ„ [å¾®ä¿¡æ”¯ä»˜å•†æˆ¶å¹³å°](https://pay.weixin.qq.com/)
2. ç²å–å•†æˆ¶è™Ÿå’Œ API å¯†é‘°
3. åœ¨ `config.env` ä¸­å¡«å…¥ï¼š

```env
WECHAT_APP_ID=your_app_id
WECHAT_MCH_ID=your_mch_id
WECHAT_API_KEY=your_api_key
WECHAT_NOTIFY_URL=https://your-domain.com/api/callback/wechat
```

### USDT é…ç½®

1. å‰µå»º TRC20 æˆ– ERC20 éŒ¢åŒ…
2. åœ¨ `config.env` ä¸­å¡«å…¥ï¼š

```env
USDT_TRC20_ADDRESS=TYourTRC20Address
USDT_ERC20_ADDRESS=0xYourERC20Address
USDT_RATE=7.2
```

### æ˜“æ”¯ä»˜é…ç½®ï¼ˆå¯é¸ï¼‰

```env
EPAY_URL=https://your-epay-gateway.com
EPAY_PID=your_pid
EPAY_KEY=your_key
EPAY_NOTIFY_URL=https://your-domain.com/api/callback/epay
```

---

## ç®¡ç†å¾Œå°ä½¿ç”¨

### è¨ªå•åœ°å€

```
https://your-domain.com/
```

### åŠŸèƒ½æ¨¡å¡Š

1. **å„€è¡¨ç›¤** - æŸ¥çœ‹ç¸½é«”çµ±è¨ˆ
2. **ç”¨æˆ¶ç®¡ç†** - ç®¡ç†ç”¨æˆ¶ã€èª¿æ•´ç­‰ç´š
3. **å¡å¯†ç®¡ç†** - ç”Ÿæˆã€ç¦ç”¨ã€å°Žå‡ºå¡å¯†
4. **è¨‚å–®ç®¡ç†** - æŸ¥çœ‹æ”¯ä»˜è¨‚å–®
5. **ç³»çµ±è¨­ç½®** - é…ç½®åƒ¹æ ¼å’Œæ”¯ä»˜

---

## API æ–‡æª”

### é©—è­‰å¡å¯†

```http
POST /api/license/validate
Content-Type: application/json

{
  "license_key": "TGM-G2-ABCD-EFGH-IJKL"
}
```

### æ¿€æ´»å¡å¯†

```http
POST /api/license/activate
Content-Type: application/json

{
  "license_key": "TGM-G2-ABCD-EFGH-IJKL",
  "machine_id": "mid-xxxxx",
  "email": "user@example.com"
}
```

### å¿ƒè·³æª¢æ¸¬

```http
POST /api/license/heartbeat
Content-Type: application/json

{
  "token": "jwt-token-here",
  "usage": {
    "messages": 50,
    "ai_calls": 10
  }
}
```

### ç²å–çµ±è¨ˆ

```http
GET /api/stats?days=30
```

---

## ç¶­è­·æŒ‡å—

### å‚™ä»½æ•¸æ“š

```bash
# æ‰‹å‹•å‚™ä»½
/opt/tg-matrix-server/backup.sh

# æŸ¥çœ‹å‚™ä»½
ls -la /opt/tg-matrix-server/backups/
```

### æŸ¥çœ‹æ—¥èªŒ

```bash
# å¯¦æ™‚æ—¥èªŒ
tail -f /opt/tg-matrix-server/logs/license-server.log

# éŒ¯èª¤æ—¥èªŒ
tail -f /opt/tg-matrix-server/logs/license-server-error.log
```

### é‡å•Ÿæœå‹™

```bash
sudo systemctl restart tg-matrix-license
```

### æ›´æ–°ç‰ˆæœ¬

```bash
# 1. å‚™ä»½æ•¸æ“š
/opt/tg-matrix-server/backup.sh

# 2. åœæ­¢æœå‹™
sudo systemctl stop tg-matrix-license

# 3. æ›´æ–°æ–‡ä»¶
# (ä¸Šå‚³æ–°ç‰ˆæœ¬æ–‡ä»¶)

# 4. å•Ÿå‹•æœå‹™
sudo systemctl start tg-matrix-license
```

---

## å¸¸è¦‹å•é¡Œ

### Q1: æœå‹™ç„¡æ³•å•Ÿå‹•

**æª¢æŸ¥æ­¥é©Ÿï¼š**
```bash
# æŸ¥çœ‹ç‹€æ…‹
systemctl status tg-matrix-license

# æŸ¥çœ‹æ—¥èªŒ
journalctl -u tg-matrix-license -f
```

### Q2: å®¢æˆ¶ç«¯é€£æŽ¥å¤±æ•—

**æª¢æŸ¥ï¼š**
1. é˜²ç«ç‰†æ˜¯å¦é–‹æ”¾ç«¯å£
2. Nginx é…ç½®æ˜¯å¦æ­£ç¢º
3. SSL è­‰æ›¸æ˜¯å¦æœ‰æ•ˆ

### Q3: å¡å¯†æ¿€æ´»å¤±æ•—

**æª¢æŸ¥ï¼š**
1. å¡å¯†æ ¼å¼æ˜¯å¦æ­£ç¢º
2. å¡å¯†æ˜¯å¦å·²è¢«ä½¿ç”¨
3. æ©Ÿå™¨ç¢¼æ˜¯å¦åŒ¹é…

---

## æŠ€è¡“æ”¯æŒ

- ðŸ“§ éƒµç®±: support@tg-matrix.com
- ðŸ’¬ Telegram: @TGMatrixSupport

---

*Â© 2026 TG-Matrix. çŽ‹è€…æ¦®è€€é¢¨æ ¼æœƒå“¡ç³»çµ±.*
