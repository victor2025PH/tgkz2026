# TG-AIæ™ºæ§ç‹ Electron Builder é…ç½®
# ç”¨æ–¼æ‰“åŒ… Windows/Mac/Linux å®‰è£ç¨‹åº
# ç‰ˆæœ¬: 2.1.0 å…¨åŠŸèƒ½ç‰ˆ

appId: com.tgmatrix.app
productName: TG-AIæ™ºæ§ç‹
copyright: Copyright Â© 2026

directories:
  output: release
  buildResources: build-resources

# åŒ…å«çš„æ–‡ä»¶
files:
  - electron.js
  - preload.js
  - index.html
  - index.tsx
  - metadata.json
  - security-electron.js
  - auto-ai-setup.js
  - splash.html
  - package.json
  - dist/**/*
  - default-config/**/*
  - electron/**/*

# é¡å¤–è³‡æºï¼ˆå¾Œç«¯ exe ç­‰ï¼‰
extraResources:
  - from: backend-exe
    to: backend-exe
    filter:
      - "**/*"
      - "!**/sessions/**"
      - "!**/data/**"
      - "!**/logs/**"
      - "!**/*.db"
      - "!**/*.log"
  - from: default-config
    to: default-config
  # ğŸ†• åŒ…å« VC++ é‹è¡Œæ™‚å®‰è£ç¨‹åº
  - from: build-resources/vc_redist.x64.exe
    to: vc_redist.x64.exe

# Windows é…ç½®
win:
  target:
    - target: nsis
      arch:
        - x64
  artifactName: ${productName}-${version}-Setup.${ext}
  icon: build-resources/icon.ico
  requestedExecutionLevel: asInvoker
  sign: null
  signingHashAlgorithms: null

# NSIS å®‰è£ç¨‹åºé…ç½®
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  allowElevation: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: TG-AIæ™ºæ§ç‹
  runAfterFinish: true
  menuCategory: false
  perMachine: false
  installerIcon: build-resources/icon.ico
  uninstallerIcon: build-resources/icon.ico
  installerHeaderIcon: build-resources/icon.ico
  deleteAppDataOnUninstall: false
  include: build-resources/installer.nsh
  license: null

# Mac é…ç½®
mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  category: public.app-category.productivity
  icon: build-resources/icon.icns

# Linux é…ç½®
linux:
  target:
    - target: AppImage
      arch:
        - x64
    - target: deb
      arch:
        - x64
  category: Network
  icon: build-resources
