# TG-AI 智控王 v1.1.0 使用說明

## 📦 安裝指南

### 系統要求
- **作業系統**: Windows 10/11 (64位)
- **記憶體**: 8GB RAM (建議 16GB)
- **硬碟空間**: 500MB 可用空間
- **網路**: 穩定的網路連接

### 安裝步驟
1. 雙擊 `TG-AI智控王-Setup-1.1.0.exe`
2. 選擇安裝語言（中文/英文）
3. 選擇安裝目錄（建議使用預設路徑）
4. 點擊「安裝」等待完成
5. 完成後會自動創建桌面快捷方式

---

## 🚀 快速開始

### 1. 首次啟動
- 啟動應用後，系統會自動進行初始化
- 等待後端服務啟動完成（約 10-30 秒）

### 2. 添加 Telegram 帳號
1. 進入「**帳戶管理**」頁面
2. 點擊「**添加帳號**」
3. 輸入帳號信息：
   - 電話號碼（帶國碼，如 +86138xxxx）
   - API ID 和 API Hash（從 my.telegram.org 獲取）
4. 完成登入驗證

### 3. 一鍵啟動
- 點擊首頁的「**一鍵啟動**」按鈕
- 系統會自動：
  - 連接所有帳號
  - 加入已保存的群組
  - 啟動監控服務

---

## 📱 功能模塊說明

### 🏠 智能儀表板
- 概覽所有帳號狀態
- 實時數據統計
- 快捷操作入口

### 👥 帳戶管理
- 添加/刪除 Telegram 帳號
- 查看帳號健康狀態
- 設置帳號角色（監聽者/發送者/管理員）

### 🔍 資源發現
- **搜索群組**: 使用官方搜索或中文搜索
- **加入群組**: 選擇帳號一鍵加入
- **批量操作**: 批量收藏、加入、監控

### 📡 監控規則
- 設置關鍵詞監控
- 綁定關鍵詞集
- 自動提取發言者

### 🤖 自動化中心
- 創建自動化營銷活動
- 設置觸發條件和動作
- 管理多個自動化流程

### 📊 數據分析
- 查看消息統計
- 分析潛在客戶
- 導出數據報表

### 💬 AI 中心
- 配置 AI 服務（Ollama/OpenAI）
- 設置自動回覆規則
- 智能對話助手

---

## 🔑 核心功能詳解

### 資源發現與加入

#### 搜索群組
1. 進入「資源中心」→「發現」Tab
2. 輸入關鍵詞（如：招聘、交易、代理）
3. 選擇搜索渠道（官方搜索/中文搜索）
4. 點擊「搜索」

#### 加入並監控
1. 在搜索結果中，點擊群組右側的「🚀 加入」
2. 選擇用於加入的帳號
3. 綁定關鍵詞集（可選）
4. 點擊「確認加入」
5. 加入成功後可選擇：
   - 👥 提取成員
   - 📨 發送消息
   - ➡️ 繼續加入其他群組

### 成員提取

#### 前提條件
- 帳號必須已加入該群組
- 只有群組可以提取成員（頻道不可）

#### 操作步驟
1. 在已加入的群組上點擊「👥 提取成員」
2. 設置提取選項：
   - 提取數量（50/100/500/全部）
   - 過濾條件（僅在線/僅中文名/僅有用戶名）
3. 點擊「開始提取」
4. 等待提取完成，可查看進度

### 監控設置

#### 綁定關鍵詞集
1. 點擊群組的監控設置圖標
2. 選擇要綁定的關鍵詞集
3. 啟用監控選項：
   - ✅ 啟用監控
   - ✅ 自動提取發言者
   - ⬜ 只監控管理員消息
   - ⬜ 匹配時自動發送私信
4. 點擊「保存更改」

### 停止監控 / 退出群組

#### 停止監控（保留群組成員資格）
- 點擊群組三點菜單 → 「⏸ 停止監控」

#### 退出群組（完全退出）
- 點擊群組三點菜單 → 「🚪 退出群組」
- 確認對話框後執行

---

## ⚙️ 設置說明

### AI 服務配置

#### 使用本地 Ollama
1. 安裝 Ollama（https://ollama.ai）
2. 下載模型：`ollama pull llama3`
3. 在設置中選擇「本地 AI」
4. 端點設置為：`http://localhost:11434`

#### 使用 OpenAI
1. 獲取 API Key
2. 在設置中選擇「雲端 AI」
3. 輸入 API Key
4. 選擇模型（GPT-4 推薦）

### 代理設置
- 支持 HTTP/SOCKS5 代理
- 可為每個帳號設置不同代理
- 自動代理輪換功能

---

## ❓ 常見問題

### Q: 帳號顯示「Offline」無法連接？
**A**: 
1. 檢查網路連接
2. 確認 API ID/Hash 正確
3. 嘗試刪除並重新添加帳號
4. 檢查是否需要代理

### Q: 加入群組失敗「USERNAME_INVALID」？
**A**: 
- 群組可能已被刪除或改名
- 嘗試使用完整邀請鏈接加入
- 確認帳號沒有被限制

### Q: 提取成員按鈕無法點擊？
**A**: 
- 確認已加入該群組
- 頻道無法提取成員（只有群組可以）
- 等待幾秒後重試

### Q: 刪除監控群組後重啟又出現？
**A**: 
- 確認刪除操作成功（顯示綠色提示）
- 檢查日誌確認數據庫已更新
- 如仍有問題，清除應用數據重試

### Q: 程序啟動很慢？
**A**: 
- 首次啟動需要初始化，請耐心等待
- 確保電腦配置滿足最低要求
- 關閉其他佔用資源的程序

---

## 📞 技術支持

如遇到其他問題，請：
1. 查看「運行日誌」頁面了解錯誤詳情
2. 導出日誌文件提交問題報告
3. 聯繫技術支持團隊

---

## 📋 版本更新日誌

### v1.1.0 (2026-01-20)
#### 新增功能
- ✨ 操作成功動畫效果
- ✨ 群組成員數實時刷新
- ✨ FloodWait 智能處理機制
- ✨ 資源快捷菜單（複製鏈接/打開/收藏/退出）
- ✨ 監控面板帳號選擇器
- ✨ 停止監控/退出群組功能

#### 優化
- 🔧 修復提取成員按鈕狀態判斷
- 🔧 修復刪除監控群組無效問題
- 🔧 優化 IPC 日誌格式
- 🔧 改進邀請鏈接解析
- 🔧 減少數據庫日誌輸出

#### 修復
- 🐛 修復前後端參數不匹配問題
- 🐛 修復群組狀態未正確更新問題
- 🐛 修復卡片視圖按鈕狀態問題

---

**TG-AI 智控王** - 讓 Telegram 營銷更智能、更高效！
