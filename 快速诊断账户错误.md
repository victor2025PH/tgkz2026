# 快速诊断账户错误

## 🎯 快速检查清单

### 1. 查看错误信息（30秒）

**在应用中：**
1. 打开"日志"页面
2. 查找最新的错误日志（红色标记）
3. 查看错误消息

**在终端：**
查找包含账户电话号码和 "Login failed" 的日志：
```
[Backend] Login failed for +639952947692: status=error, message=...
```

### 2. 检查账户信息（1分钟）

在"账户管理"页面，确认：

- [ ] **API ID** 已填写且为数字
- [ ] **API Hash** 已填写且为 32 位十六进制字符串
- [ ] **电话号码** 格式为 `+国家代码+号码`（例如：`+639952947692`）
- [ ] **代理**（如果使用）格式正确

### 3. 常见错误快速修复

#### ❌ "API ID and API Hash are required"

**问题：** API 凭证未填写

**解决：**
1. 访问 https://my.telegram.org/apps
2. 登录 Telegram 账户
3. 创建应用或使用现有应用
4. 复制 API ID 和 API Hash
5. 在应用中更新账户信息

#### ❌ "Invalid phone number"

**问题：** 电话号码格式错误

**解决：** 确保格式为 `+国家代码+号码`，例如：
- ✅ `+639952947692`（菲律宾）
- ✅ `+8613800138000`（中国）
- ❌ `639952947692`（缺少 +）
- ❌ `+63 995 294 7692`（包含空格）

#### ❌ "Proxy Error" 或 "Proxy connection error"

**问题：** 代理配置错误

**解决：**
1. 检查代理格式：
   - ✅ `socks5://host:port`
   - ✅ `socks5://user:pass@host:port`
   - ✅ `http://host:port`
2. 测试代理是否可用
3. 如果不可用，暂时移除代理配置

#### ❌ "Connection Error"

**问题：** 网络连接问题

**解决：**
1. 检查网络连接
2. 检查防火墙设置
3. 尝试使用 VPN 或代理

#### ❌ "Flood wait"

**问题：** 触发 Telegram 限流

**解决：**
1. 等待指定时间（通常几分钟）
2. 避免频繁登录尝试
3. 使用不同的 IP 地址

## 🔧 诊断命令

### 在开发者工具 Console 中运行

```javascript
// 查看所有账户及其状态
console.table(
  accounts().map(a => ({
    电话: a.phone,
    状态: a.status,
    'API ID': a.apiId ? '已填写' : '未填写',
    'API Hash': a.apiHash ? '已填写' : '未填写'
  }))
);
```

### 查看特定账户的详细信息

```javascript
const account = accounts().find(a => a.phone === '+639952947692');
console.log('账户详情:', account);
```

## 📋 收集信息用于报告

如果问题仍然存在，请收集：

1. **错误消息**（从日志页面复制）
2. **账户信息**（隐藏敏感信息）：
   - 电话号码：`+639952947692`
   - API ID：已填写/未填写
   - 是否有代理：是/否
3. **终端日志**（包含 `[Backend] Login failed` 的行）
4. **开发者工具 Console** 的错误信息

## 🚀 尝试重新登录

1. 在"账户管理"页面找到账户
2. 点击"登录"按钮（绿色图标）
3. 根据提示操作：
   - 如果需要验证码：输入收到的验证码
   - 如果需要 2FA：输入 2FA 密码
4. 查看状态是否变为 "Online"

---

**提示：** 大多数错误都可以通过检查账户信息和重新登录来解决。

